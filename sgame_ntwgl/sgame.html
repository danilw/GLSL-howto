<html>

<head>
    <title>Single shader game (sgame)</title>
    <style>
        html,
        body {
            width: 100%;
            height: 100%;
            margin: 0px;
            border: 0;
            overflow: hidden;
            display: block;
        }
        .topleft1 {
            position: absolute;
            top: 8px;
            left: 16px;
            text-align: center;
            color: white;
            font-size: small;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            -o-user-select: none;
            user-select: none;
        }
        .topleft2 {
            position: absolute;
            top: 38px;
            left: 16px;
            text-align: center;
            color: white;
            font-size: large;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            -o-user-select: none;
            user-select: none;
        }
    </style>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <script type = "glsl" id = "standard-vs">
        precision highp float;
        attribute vec4 a_Position;
        attribute vec4 a_Color;
        varying vec4 color;
        void main() {
        gl_Position = a_Position;
        }
    </script>
    <script type = "glsl" id = "standard-frag">
// License Creative Commons Attribution-NonCommercial-ShareAlike
// Created by Danil (2018+) https://github.com/danilw

// opensource
// please dont use it for sell on google/apple store thanks

//this is obfuscated/optimized source, original glsl source in mysf.glsl file
// https://twitter.com/AruGL

#ifdef GL_ES
precision mediump float;
#endif
uniform float time;
uniform vec3 iResolution;
float iTime;
uniform float tax;
uniform float angle;
uniform float radius;
uniform vec2 shippos;
uniform bool shua;
uniform float animlamp;
uniform float animlcounter;
uniform float lpower;
uniform float zoom;
uniform float bulletposx[50];
uniform float bulletposy[50];
uniform float bullettimer[50];
uniform bool bulletexpl[50];
uniform float bulletexplctrl[50];
uniform int bulletcounter;
uniform float bulletanimtimer;
uniform bool paused;
uniform bool wwh;
uniform bool en3hit;
uniform float en1posx[50];
uniform float en1posy[50];
uniform float en2posx[50];
uniform float en2posy[50];
uniform float en1timer[50];
uniform float en2timer[50];
uniform float en2extimer[50];
uniform int en1counter;
uniform int en2counter;
uniform float en1lval[50];
uniform float en1exval[50];
uniform bool en1llisex[50];
uniform bool en2llishit[50];
uniform vec2 planetpos1;
uniform vec2 planetpos2;
uniform vec2 planetpos3;
uniform vec2 planetpos4;
uniform vec2 planetpos5;
uniform vec2 planetpos6;
uniform vec2 nebulapos;
uniform vec2 en3pos;
uniform vec2 lhitpos;
uniform vec2 starpos1;
uniform vec2 starpos2;
uniform bool best;
void main ()
{
  vec2 v_texCoord=gl_FragCoord.xy/iResolution.xy;
  iTime = time;
  vec4 color_1;
  color_1 = vec4(0.0, 0.0, 0.0, 1.0);
  vec2 tmpvar_2;
  tmpvar_2.x = (v_texCoord.x * iResolution.x);
  tmpvar_2.y = ((v_texCoord.y) * iResolution.y);
  vec2 fragCoord_3;
  fragCoord_3 = tmpvar_2;
  vec4 txeb_6;
  vec4 exbff_8;
  vec4 tb_9;
  vec4 mcol_10;
  vec4 buff_11;
  vec2 uv_12;
  vec2 tmpvar_13;
  tmpvar_13 = floor(tmpvar_2);
  vec2 tmpvar_14;
  tmpvar_14 = (tmpvar_2 - tmpvar_13);
  uv_12 = ((tmpvar_14 * tmpvar_14) * (3.0 - (2.0 * tmpvar_14)));
  float tmpvar_15;
  tmpvar_15 = fract((cos(
    dot (tmpvar_13, vec2(21.9898, 78.233))
  ) * 43758.55));
  vec2 tmpvar_16;
  tmpvar_16.x = (tmpvar_13.x + 1.0);
  tmpvar_16.y = tmpvar_13.y;
  float tmpvar_17;
  tmpvar_17 = fract((cos(
    dot (tmpvar_16, vec2(21.9898, 78.233))
  ) * 43758.55));
  vec2 tmpvar_18;
  tmpvar_18.x = tmpvar_13.x;
  tmpvar_18.y = (tmpvar_13.y + 1.0);
  float tmpvar_19;
  tmpvar_19 = fract((cos(
    dot (tmpvar_18, vec2(21.9898, 78.233))
  ) * 43758.55));
  float tmpvar_20;
  tmpvar_20 = (pow ((
    ((tmpvar_15 + ((tmpvar_17 - tmpvar_15) * uv_12.x)) + ((tmpvar_19 - tmpvar_15) * uv_12.y))
   + 
    ((((
      (tmpvar_15 - tmpvar_17)
     - tmpvar_19) + fract(
      (cos(dot ((tmpvar_13 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
    )) * uv_12.x) * uv_12.y)
  ), 40.0) * 20.0);
  float tmpvar_21;
  float tmpvar_22;
  tmpvar_22 = (time * 0.01);
  tmpvar_21 = sin(tmpvar_22);
  vec2 uv_23;
  vec2 tmpvar_24;
  tmpvar_24 = floor(vec2(tmpvar_21));
  vec2 tmpvar_25;
  tmpvar_25 = (vec2(tmpvar_21) - tmpvar_24);
  uv_23 = ((tmpvar_25 * tmpvar_25) * (3.0 - (2.0 * tmpvar_25)));
  float tmpvar_26;
  tmpvar_26 = fract((cos(
    dot (tmpvar_24, vec2(21.9898, 78.233))
  ) * 43758.55));
  vec2 tmpvar_27;
  tmpvar_27.x = (tmpvar_24.x + 1.0);
  tmpvar_27.y = tmpvar_24.y;
  float tmpvar_28;
  tmpvar_28 = fract((cos(
    dot (tmpvar_27, vec2(21.9898, 78.233))
  ) * 43758.55));
  vec2 tmpvar_29;
  tmpvar_29.x = tmpvar_24.x;
  tmpvar_29.y = (tmpvar_24.y + 1.0);
  float tmpvar_30;
  tmpvar_30 = fract((cos(
    dot (tmpvar_29, vec2(21.9898, 78.233))
  ) * 43758.55));
  vec2 xy_31;
  xy_31 = (tmpvar_2 * ((
    (tmpvar_26 + ((tmpvar_28 - tmpvar_26) * uv_23.x))
   + 
    ((tmpvar_30 - tmpvar_26) * uv_23.y)
  ) + (
    ((((tmpvar_26 - tmpvar_28) - tmpvar_30) + fract((
      cos(dot ((tmpvar_24 + vec2(1.0, 1.0)), vec2(21.9898, 78.233)))
     * 43758.55))) * uv_23.x)
   * uv_23.y)));
  vec2 uv_32;
  vec2 tmpvar_33;
  tmpvar_33 = floor(xy_31);
  vec2 tmpvar_34;
  tmpvar_34 = (xy_31 - tmpvar_33);
  uv_32 = ((tmpvar_34 * tmpvar_34) * (3.0 - (2.0 * tmpvar_34)));
  float tmpvar_35;
  tmpvar_35 = fract((cos(
    dot (tmpvar_33, vec2(21.9898, 78.233))
  ) * 43758.55));
  vec2 tmpvar_36;
  tmpvar_36.x = (tmpvar_33.x + 1.0);
  tmpvar_36.y = tmpvar_33.y;
  float tmpvar_37;
  tmpvar_37 = fract((cos(
    dot (tmpvar_36, vec2(21.9898, 78.233))
  ) * 43758.55));
  vec2 tmpvar_38;
  tmpvar_38.x = tmpvar_33.x;
  tmpvar_38.y = (tmpvar_33.y + 1.0);
  float tmpvar_39;
  tmpvar_39 = fract((cos(
    dot (tmpvar_38, vec2(21.9898, 78.233))
  ) * 43758.55));
  vec2 tmpvar_40;
  tmpvar_40.x = cos(tmpvar_22);
  tmpvar_40.y = sin(tmpvar_22);
  vec2 uv_41;
  vec2 tmpvar_42;
  tmpvar_42 = floor(tmpvar_40);
  vec2 tmpvar_43;
  tmpvar_43 = (tmpvar_40 - tmpvar_42);
  uv_41 = ((tmpvar_43 * tmpvar_43) * (3.0 - (2.0 * tmpvar_43)));
  float tmpvar_44;
  tmpvar_44 = fract((cos(
    dot (tmpvar_42, vec2(21.9898, 78.233))
  ) * 43758.55));
  vec2 tmpvar_45;
  tmpvar_45.x = (tmpvar_42.x + 1.0);
  tmpvar_45.y = tmpvar_42.y;
  float tmpvar_46;
  tmpvar_46 = fract((cos(
    dot (tmpvar_45, vec2(21.9898, 78.233))
  ) * 43758.55));
  vec2 tmpvar_47;
  tmpvar_47.x = tmpvar_42.x;
  tmpvar_47.y = (tmpvar_42.y + 1.0);
  float tmpvar_48;
  tmpvar_48 = fract((cos(
    dot (tmpvar_47, vec2(21.9898, 78.233))
  ) * 43758.55));
  vec2 xy_49;
  xy_49 = (tmpvar_2 * ((
    (tmpvar_44 + ((tmpvar_46 - tmpvar_44) * uv_41.x))
   + 
    ((tmpvar_48 - tmpvar_44) * uv_41.y)
  ) + (
    ((((tmpvar_44 - tmpvar_46) - tmpvar_48) + fract((
      cos(dot ((tmpvar_42 + vec2(1.0, 1.0)), vec2(21.9898, 78.233)))
     * 43758.55))) * uv_41.x)
   * uv_41.y)));
  vec2 uv_50;
  vec2 tmpvar_51;
  tmpvar_51 = floor(xy_49);
  vec2 tmpvar_52;
  tmpvar_52 = (xy_49 - tmpvar_51);
  uv_50 = ((tmpvar_52 * tmpvar_52) * (3.0 - (2.0 * tmpvar_52)));
  float tmpvar_53;
  tmpvar_53 = fract((cos(
    dot (tmpvar_51, vec2(21.9898, 78.233))
  ) * 43758.55));
  vec2 tmpvar_54;
  tmpvar_54.x = (tmpvar_51.x + 1.0);
  tmpvar_54.y = tmpvar_51.y;
  float tmpvar_55;
  tmpvar_55 = fract((cos(
    dot (tmpvar_54, vec2(21.9898, 78.233))
  ) * 43758.55));
  vec2 tmpvar_56;
  tmpvar_56.x = tmpvar_51.x;
  tmpvar_56.y = (tmpvar_51.y + 1.0);
  float tmpvar_57;
  tmpvar_57 = fract((cos(
    dot (tmpvar_56, vec2(21.9898, 78.233))
  ) * 43758.55));
  vec2 tmpvar_58;
  float tmpvar_59;
  tmpvar_59 = (time * 0.05);
  tmpvar_58.x = sin(tmpvar_59);
  tmpvar_58.y = cos(tmpvar_59);
  vec2 uv_60;
  vec2 tmpvar_61;
  tmpvar_61 = floor(tmpvar_58);
  vec2 tmpvar_62;
  tmpvar_62 = (tmpvar_58 - tmpvar_61);
  uv_60 = ((tmpvar_62 * tmpvar_62) * (3.0 - (2.0 * tmpvar_62)));
  float tmpvar_63;
  tmpvar_63 = fract((cos(
    dot (tmpvar_61, vec2(21.9898, 78.233))
  ) * 43758.55));
  vec2 tmpvar_64;
  tmpvar_64.x = (tmpvar_61.x + 1.0);
  tmpvar_64.y = tmpvar_61.y;
  float tmpvar_65;
  tmpvar_65 = fract((cos(
    dot (tmpvar_64, vec2(21.9898, 78.233))
  ) * 43758.55));
  vec2 tmpvar_66;
  tmpvar_66.x = tmpvar_61.x;
  tmpvar_66.y = (tmpvar_61.y + 1.0);
  float tmpvar_67;
  tmpvar_67 = fract((cos(
    dot (tmpvar_66, vec2(21.9898, 78.233))
  ) * 43758.55));
  vec2 xy_68;
  xy_68 = (tmpvar_2 * ((
    (tmpvar_63 + ((tmpvar_65 - tmpvar_63) * uv_60.x))
   + 
    ((tmpvar_67 - tmpvar_63) * uv_60.y)
  ) + (
    ((((tmpvar_63 - tmpvar_65) - tmpvar_67) + fract((
      cos(dot ((tmpvar_61 + vec2(1.0, 1.0)), vec2(21.9898, 78.233)))
     * 43758.55))) * uv_60.x)
   * uv_60.y)));
  vec2 uv_69;
  vec2 tmpvar_70;
  tmpvar_70 = floor(xy_68);
  vec2 tmpvar_71;
  tmpvar_71 = (xy_68 - tmpvar_70);
  uv_69 = ((tmpvar_71 * tmpvar_71) * (3.0 - (2.0 * tmpvar_71)));
  float tmpvar_72;
  tmpvar_72 = fract((cos(
    dot (tmpvar_70, vec2(21.9898, 78.233))
  ) * 43758.55));
  vec2 tmpvar_73;
  tmpvar_73.x = (tmpvar_70.x + 1.0);
  tmpvar_73.y = tmpvar_70.y;
  float tmpvar_74;
  tmpvar_74 = fract((cos(
    dot (tmpvar_73, vec2(21.9898, 78.233))
  ) * 43758.55));
  vec2 tmpvar_75;
  tmpvar_75.x = tmpvar_70.x;
  tmpvar_75.y = (tmpvar_70.y + 1.0);
  float tmpvar_76;
  tmpvar_76 = fract((cos(
    dot (tmpvar_75, vec2(21.9898, 78.233))
  ) * 43758.55));
  vec3 tmpvar_77;
  tmpvar_77.x = (tmpvar_20 * ((
    (tmpvar_35 + ((tmpvar_37 - tmpvar_35) * uv_32.x))
   + 
    ((tmpvar_39 - tmpvar_35) * uv_32.y)
  ) + (
    ((((tmpvar_35 - tmpvar_37) - tmpvar_39) + fract((
      cos(dot ((tmpvar_33 + vec2(1.0, 1.0)), vec2(21.9898, 78.233)))
     * 43758.55))) * uv_32.x)
   * uv_32.y)));
  tmpvar_77.y = (tmpvar_20 * ((
    (tmpvar_53 + ((tmpvar_55 - tmpvar_53) * uv_50.x))
   + 
    ((tmpvar_57 - tmpvar_53) * uv_50.y)
  ) + (
    ((((tmpvar_53 - tmpvar_55) - tmpvar_57) + fract((
      cos(dot ((tmpvar_51 + vec2(1.0, 1.0)), vec2(21.9898, 78.233)))
     * 43758.55))) * uv_50.x)
   * uv_50.y)));
  tmpvar_77.z = (tmpvar_20 * ((
    (tmpvar_72 + ((tmpvar_74 - tmpvar_72) * uv_69.x))
   + 
    ((tmpvar_76 - tmpvar_72) * uv_69.y)
  ) + (
    ((((tmpvar_72 - tmpvar_74) - tmpvar_76) + fract((
      cos(dot ((tmpvar_70 + vec2(1.0, 1.0)), vec2(21.9898, 78.233)))
     * 43758.55))) * uv_69.x)
   * uv_69.y)));
  vec4 tmpvar_78;
  tmpvar_78.w = 1.0;
  tmpvar_78.xyz = tmpvar_77;
  buff_11 = tmpvar_78;
  vec4 tmpvar_79;
  vec2 tmpvar_80;
  tmpvar_80 = ((tmpvar_2 - (nebulapos * zoom)) - shippos);
  vec2 x_81;
  x_81 = (tmpvar_80 - (25000.0 * zoom));
  float tmpvar_82;
  tmpvar_82 = float((sqrt(
    dot (x_81, x_81)
  ) >= (100000.0 * zoom)));
  if (((1.0 - tmpvar_82) > 0.0)) {
    vec4 cl_83;
    vec2 st_84;
    vec2 uv_85;
    vec2 tmpvar_86;
    tmpvar_86 = ((tmpvar_80 / vec2((50000.0 * zoom))) - 0.15);
    vec2 tmpvar_87;
    tmpvar_87 = (tmpvar_86 * 1.35);
    st_84 = (tmpvar_87 + vec2(((0.2 * 
      dot (tmpvar_87, tmpvar_87)
    ) - 0.5)));
    float tmpvar_88;
    tmpvar_88 = (time * 0.01);
    uv_85 = (tmpvar_86 - vec2(0.8, 0.5));
    st_84 = (st_84 + sign(dot (uv_85, uv_85)));
    uv_85 = (uv_85 + sign(dot (uv_85, uv_85)));
    uv_85 = (uv_85 - sign(dot (uv_85, uv_85)));
    vec2 tmpvar_89;
    tmpvar_89.x = (0.2 * tmpvar_88);
    tmpvar_89.y = (0.2 * tmpvar_88);
    vec2 tmpvar_90;
    tmpvar_90.x = (0.3 * tmpvar_88);
    tmpvar_90.y = (0.3 * tmpvar_88);
    vec2 tmpvar_91;
    tmpvar_91.x = (0.4 * tmpvar_88);
    tmpvar_91.y = (0.4 * tmpvar_88);
    mat2 tmpvar_92;
    tmpvar_92[0].x = cos((tmpvar_88 * 2.5));
    tmpvar_92[0].y = sin((tmpvar_88 * 2.5));
    tmpvar_92[1].x = -(sin((tmpvar_88 * 2.5)));
    tmpvar_92[1].y = cos((tmpvar_88 * 2.5));
    vec2 p_93;
    p_93 = (tmpvar_92 * ((1.5 * st_84) + tmpvar_89));
    float f_94;
    f_94 = 0.0;
    if (!(best)) {
      p_93 = (p_93 * mat2(0.9012, 0.9012, -0.9012, 1.2016));
    };
    vec2 uv_95;
    vec2 tmpvar_96;
    tmpvar_96 = floor(p_93);
    vec2 tmpvar_97;
    tmpvar_97 = (p_93 - tmpvar_96);
    uv_95 = ((tmpvar_97 * tmpvar_97) * (3.0 - (2.0 * tmpvar_97)));
    float tmpvar_98;
    tmpvar_98 = fract((cos(
      dot (tmpvar_96, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_99;
    tmpvar_99.x = (tmpvar_96.x + 1.0);
    tmpvar_99.y = tmpvar_96.y;
    float tmpvar_100;
    tmpvar_100 = fract((cos(
      dot (tmpvar_99, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_101;
    tmpvar_101.x = tmpvar_96.x;
    tmpvar_101.y = (tmpvar_96.y + 1.0);
    float tmpvar_102;
    tmpvar_102 = fract((cos(
      dot (tmpvar_101, vec2(21.9898, 78.233))
    ) * 43758.55));
    f_94 = (0.5 * ((
      (tmpvar_98 + ((tmpvar_100 - tmpvar_98) * uv_95.x))
     + 
      ((tmpvar_102 - tmpvar_98) * uv_95.y)
    ) + (
      ((((tmpvar_98 - tmpvar_100) - tmpvar_102) + fract((
        cos(dot ((tmpvar_96 + vec2(1.0, 1.0)), vec2(21.9898, 78.233)))
       * 43758.55))) * uv_95.x)
     * uv_95.y)));
    p_93 = (p_93 * mat2(1.212, 1.212, -1.212, 1.616));
    vec2 uv_103;
    vec2 tmpvar_104;
    tmpvar_104 = floor(p_93);
    vec2 tmpvar_105;
    tmpvar_105 = (p_93 - tmpvar_104);
    uv_103 = ((tmpvar_105 * tmpvar_105) * (3.0 - (2.0 * tmpvar_105)));
    float tmpvar_106;
    tmpvar_106 = fract((cos(
      dot (tmpvar_104, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_107;
    tmpvar_107.x = (tmpvar_104.x + 1.0);
    tmpvar_107.y = tmpvar_104.y;
    float tmpvar_108;
    tmpvar_108 = fract((cos(
      dot (tmpvar_107, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_109;
    tmpvar_109.x = tmpvar_104.x;
    tmpvar_109.y = (tmpvar_104.y + 1.0);
    float tmpvar_110;
    tmpvar_110 = fract((cos(
      dot (tmpvar_109, vec2(21.9898, 78.233))
    ) * 43758.55));
    f_94 = (f_94 + (0.25 * (
      ((tmpvar_106 + ((tmpvar_108 - tmpvar_106) * uv_103.x)) + ((tmpvar_110 - tmpvar_106) * uv_103.y))
     + 
      ((((
        (tmpvar_106 - tmpvar_108)
       - tmpvar_110) + fract(
        (cos(dot ((tmpvar_104 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
      )) * uv_103.x) * uv_103.y)
    )));
    p_93 = (p_93 * mat2(1.218, 1.218, -1.218, 1.624));
    if (best) {
      vec2 uv_111;
      vec2 tmpvar_112;
      tmpvar_112 = floor(p_93);
      vec2 tmpvar_113;
      tmpvar_113 = (p_93 - tmpvar_112);
      uv_111 = ((tmpvar_113 * tmpvar_113) * (3.0 - (2.0 * tmpvar_113)));
      float tmpvar_114;
      tmpvar_114 = fract((cos(
        dot (tmpvar_112, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_115;
      tmpvar_115.x = (tmpvar_112.x + 1.0);
      tmpvar_115.y = tmpvar_112.y;
      float tmpvar_116;
      tmpvar_116 = fract((cos(
        dot (tmpvar_115, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_117;
      tmpvar_117.x = tmpvar_112.x;
      tmpvar_117.y = (tmpvar_112.y + 1.0);
      float tmpvar_118;
      tmpvar_118 = fract((cos(
        dot (tmpvar_117, vec2(21.9898, 78.233))
      ) * 43758.55));
      f_94 = (f_94 + (0.125 * (
        ((tmpvar_114 + ((tmpvar_116 - tmpvar_114) * uv_111.x)) + ((tmpvar_118 - tmpvar_114) * uv_111.y))
       + 
        ((((
          (tmpvar_114 - tmpvar_116)
         - tmpvar_118) + fract(
          (cos(dot ((tmpvar_112 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
        )) * uv_111.x) * uv_111.y)
      )));
      p_93 = (p_93 * mat2(1.206, 1.206, -1.206, 1.608));
      vec2 uv_119;
      vec2 tmpvar_120;
      tmpvar_120 = floor(p_93);
      vec2 tmpvar_121;
      tmpvar_121 = (p_93 - tmpvar_120);
      uv_119 = ((tmpvar_121 * tmpvar_121) * (3.0 - (2.0 * tmpvar_121)));
      float tmpvar_122;
      tmpvar_122 = fract((cos(
        dot (tmpvar_120, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_123;
      tmpvar_123.x = (tmpvar_120.x + 1.0);
      tmpvar_123.y = tmpvar_120.y;
      float tmpvar_124;
      tmpvar_124 = fract((cos(
        dot (tmpvar_123, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_125;
      tmpvar_125.x = tmpvar_120.x;
      tmpvar_125.y = (tmpvar_120.y + 1.0);
      float tmpvar_126;
      tmpvar_126 = fract((cos(
        dot (tmpvar_125, vec2(21.9898, 78.233))
      ) * 43758.55));
      f_94 = (f_94 + (0.0625 * (
        ((tmpvar_122 + ((tmpvar_124 - tmpvar_122) * uv_119.x)) + ((tmpvar_126 - tmpvar_122) * uv_119.y))
       + 
        ((((
          (tmpvar_122 - tmpvar_124)
         - tmpvar_126) + fract(
          (cos(dot ((tmpvar_120 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
        )) * uv_119.x) * uv_119.y)
      )));
      p_93 = (p_93 * mat2(1.224, 1.224, -1.224, 1.632));
    };
    f_94 = (f_94 / 0.79375);
    float tmpvar_127;
    tmpvar_127 = (0.23 * f_94);
    mat2 tmpvar_128;
    tmpvar_128[0].x = cos((tmpvar_88 * 2.0));
    tmpvar_128[0].y = sin((tmpvar_88 * 2.0));
    tmpvar_128[1].x = -(sin((tmpvar_88 * 2.0)));
    tmpvar_128[1].y = cos((tmpvar_88 * 2.0));
    vec2 p_129;
    p_129 = (tmpvar_128 * ((2.0 * st_84) + tmpvar_90));
    float f_130;
    f_130 = 0.0;
    if (!(best)) {
      p_129 = (p_129 * mat2(0.9012, 0.9012, -0.9012, 1.2016));
    };
    vec2 uv_131;
    vec2 tmpvar_132;
    tmpvar_132 = floor(p_129);
    vec2 tmpvar_133;
    tmpvar_133 = (p_129 - tmpvar_132);
    uv_131 = ((tmpvar_133 * tmpvar_133) * (3.0 - (2.0 * tmpvar_133)));
    float tmpvar_134;
    tmpvar_134 = fract((cos(
      dot (tmpvar_132, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_135;
    tmpvar_135.x = (tmpvar_132.x + 1.0);
    tmpvar_135.y = tmpvar_132.y;
    float tmpvar_136;
    tmpvar_136 = fract((cos(
      dot (tmpvar_135, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_137;
    tmpvar_137.x = tmpvar_132.x;
    tmpvar_137.y = (tmpvar_132.y + 1.0);
    float tmpvar_138;
    tmpvar_138 = fract((cos(
      dot (tmpvar_137, vec2(21.9898, 78.233))
    ) * 43758.55));
    f_130 = (0.5 * ((
      (tmpvar_134 + ((tmpvar_136 - tmpvar_134) * uv_131.x))
     + 
      ((tmpvar_138 - tmpvar_134) * uv_131.y)
    ) + (
      ((((tmpvar_134 - tmpvar_136) - tmpvar_138) + fract((
        cos(dot ((tmpvar_132 + vec2(1.0, 1.0)), vec2(21.9898, 78.233)))
       * 43758.55))) * uv_131.x)
     * uv_131.y)));
    p_129 = (p_129 * mat2(1.212, 1.212, -1.212, 1.616));
    vec2 uv_139;
    vec2 tmpvar_140;
    tmpvar_140 = floor(p_129);
    vec2 tmpvar_141;
    tmpvar_141 = (p_129 - tmpvar_140);
    uv_139 = ((tmpvar_141 * tmpvar_141) * (3.0 - (2.0 * tmpvar_141)));
    float tmpvar_142;
    tmpvar_142 = fract((cos(
      dot (tmpvar_140, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_143;
    tmpvar_143.x = (tmpvar_140.x + 1.0);
    tmpvar_143.y = tmpvar_140.y;
    float tmpvar_144;
    tmpvar_144 = fract((cos(
      dot (tmpvar_143, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_145;
    tmpvar_145.x = tmpvar_140.x;
    tmpvar_145.y = (tmpvar_140.y + 1.0);
    float tmpvar_146;
    tmpvar_146 = fract((cos(
      dot (tmpvar_145, vec2(21.9898, 78.233))
    ) * 43758.55));
    f_130 = (f_130 + (0.25 * (
      ((tmpvar_142 + ((tmpvar_144 - tmpvar_142) * uv_139.x)) + ((tmpvar_146 - tmpvar_142) * uv_139.y))
     + 
      ((((
        (tmpvar_142 - tmpvar_144)
       - tmpvar_146) + fract(
        (cos(dot ((tmpvar_140 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
      )) * uv_139.x) * uv_139.y)
    )));
    p_129 = (p_129 * mat2(1.218, 1.218, -1.218, 1.624));
    if (best) {
      vec2 uv_147;
      vec2 tmpvar_148;
      tmpvar_148 = floor(p_129);
      vec2 tmpvar_149;
      tmpvar_149 = (p_129 - tmpvar_148);
      uv_147 = ((tmpvar_149 * tmpvar_149) * (3.0 - (2.0 * tmpvar_149)));
      float tmpvar_150;
      tmpvar_150 = fract((cos(
        dot (tmpvar_148, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_151;
      tmpvar_151.x = (tmpvar_148.x + 1.0);
      tmpvar_151.y = tmpvar_148.y;
      float tmpvar_152;
      tmpvar_152 = fract((cos(
        dot (tmpvar_151, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_153;
      tmpvar_153.x = tmpvar_148.x;
      tmpvar_153.y = (tmpvar_148.y + 1.0);
      float tmpvar_154;
      tmpvar_154 = fract((cos(
        dot (tmpvar_153, vec2(21.9898, 78.233))
      ) * 43758.55));
      f_130 = (f_130 + (0.125 * (
        ((tmpvar_150 + ((tmpvar_152 - tmpvar_150) * uv_147.x)) + ((tmpvar_154 - tmpvar_150) * uv_147.y))
       + 
        ((((
          (tmpvar_150 - tmpvar_152)
         - tmpvar_154) + fract(
          (cos(dot ((tmpvar_148 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
        )) * uv_147.x) * uv_147.y)
      )));
      p_129 = (p_129 * mat2(1.206, 1.206, -1.206, 1.608));
      vec2 uv_155;
      vec2 tmpvar_156;
      tmpvar_156 = floor(p_129);
      vec2 tmpvar_157;
      tmpvar_157 = (p_129 - tmpvar_156);
      uv_155 = ((tmpvar_157 * tmpvar_157) * (3.0 - (2.0 * tmpvar_157)));
      float tmpvar_158;
      tmpvar_158 = fract((cos(
        dot (tmpvar_156, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_159;
      tmpvar_159.x = (tmpvar_156.x + 1.0);
      tmpvar_159.y = tmpvar_156.y;
      float tmpvar_160;
      tmpvar_160 = fract((cos(
        dot (tmpvar_159, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_161;
      tmpvar_161.x = tmpvar_156.x;
      tmpvar_161.y = (tmpvar_156.y + 1.0);
      float tmpvar_162;
      tmpvar_162 = fract((cos(
        dot (tmpvar_161, vec2(21.9898, 78.233))
      ) * 43758.55));
      f_130 = (f_130 + (0.0625 * (
        ((tmpvar_158 + ((tmpvar_160 - tmpvar_158) * uv_155.x)) + ((tmpvar_162 - tmpvar_158) * uv_155.y))
       + 
        ((((
          (tmpvar_158 - tmpvar_160)
         - tmpvar_162) + fract(
          (cos(dot ((tmpvar_156 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
        )) * uv_155.x) * uv_155.y)
      )));
      p_129 = (p_129 * mat2(1.224, 1.224, -1.224, 1.632));
    };
    f_130 = (f_130 / 0.79375);
    float tmpvar_163;
    tmpvar_163 = (0.24 * f_130);
    mat2 tmpvar_164;
    tmpvar_164[0].x = cos((tmpvar_88 * 1.5));
    tmpvar_164[0].y = sin((tmpvar_88 * 1.5));
    tmpvar_164[1].x = -(sin((tmpvar_88 * 1.5)));
    tmpvar_164[1].y = cos((tmpvar_88 * 1.5));
    vec2 p_165;
    p_165 = (tmpvar_164 * (st_84 + tmpvar_91));
    float f_166;
    f_166 = 0.0;
    if (!(best)) {
      p_165 = (p_165 * mat2(0.9012, 0.9012, -0.9012, 1.2016));
    };
    vec2 uv_167;
    vec2 tmpvar_168;
    tmpvar_168 = floor(p_165);
    vec2 tmpvar_169;
    tmpvar_169 = (p_165 - tmpvar_168);
    uv_167 = ((tmpvar_169 * tmpvar_169) * (3.0 - (2.0 * tmpvar_169)));
    float tmpvar_170;
    tmpvar_170 = fract((cos(
      dot (tmpvar_168, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_171;
    tmpvar_171.x = (tmpvar_168.x + 1.0);
    tmpvar_171.y = tmpvar_168.y;
    float tmpvar_172;
    tmpvar_172 = fract((cos(
      dot (tmpvar_171, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_173;
    tmpvar_173.x = tmpvar_168.x;
    tmpvar_173.y = (tmpvar_168.y + 1.0);
    float tmpvar_174;
    tmpvar_174 = fract((cos(
      dot (tmpvar_173, vec2(21.9898, 78.233))
    ) * 43758.55));
    f_166 = (0.5 * ((
      (tmpvar_170 + ((tmpvar_172 - tmpvar_170) * uv_167.x))
     + 
      ((tmpvar_174 - tmpvar_170) * uv_167.y)
    ) + (
      ((((tmpvar_170 - tmpvar_172) - tmpvar_174) + fract((
        cos(dot ((tmpvar_168 + vec2(1.0, 1.0)), vec2(21.9898, 78.233)))
       * 43758.55))) * uv_167.x)
     * uv_167.y)));
    p_165 = (p_165 * mat2(1.212, 1.212, -1.212, 1.616));
    vec2 uv_175;
    vec2 tmpvar_176;
    tmpvar_176 = floor(p_165);
    vec2 tmpvar_177;
    tmpvar_177 = (p_165 - tmpvar_176);
    uv_175 = ((tmpvar_177 * tmpvar_177) * (3.0 - (2.0 * tmpvar_177)));
    float tmpvar_178;
    tmpvar_178 = fract((cos(
      dot (tmpvar_176, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_179;
    tmpvar_179.x = (tmpvar_176.x + 1.0);
    tmpvar_179.y = tmpvar_176.y;
    float tmpvar_180;
    tmpvar_180 = fract((cos(
      dot (tmpvar_179, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_181;
    tmpvar_181.x = tmpvar_176.x;
    tmpvar_181.y = (tmpvar_176.y + 1.0);
    float tmpvar_182;
    tmpvar_182 = fract((cos(
      dot (tmpvar_181, vec2(21.9898, 78.233))
    ) * 43758.55));
    f_166 = (f_166 + (0.25 * (
      ((tmpvar_178 + ((tmpvar_180 - tmpvar_178) * uv_175.x)) + ((tmpvar_182 - tmpvar_178) * uv_175.y))
     + 
      ((((
        (tmpvar_178 - tmpvar_180)
       - tmpvar_182) + fract(
        (cos(dot ((tmpvar_176 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
      )) * uv_175.x) * uv_175.y)
    )));
    p_165 = (p_165 * mat2(1.218, 1.218, -1.218, 1.624));
    if (best) {
      vec2 uv_183;
      vec2 tmpvar_184;
      tmpvar_184 = floor(p_165);
      vec2 tmpvar_185;
      tmpvar_185 = (p_165 - tmpvar_184);
      uv_183 = ((tmpvar_185 * tmpvar_185) * (3.0 - (2.0 * tmpvar_185)));
      float tmpvar_186;
      tmpvar_186 = fract((cos(
        dot (tmpvar_184, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_187;
      tmpvar_187.x = (tmpvar_184.x + 1.0);
      tmpvar_187.y = tmpvar_184.y;
      float tmpvar_188;
      tmpvar_188 = fract((cos(
        dot (tmpvar_187, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_189;
      tmpvar_189.x = tmpvar_184.x;
      tmpvar_189.y = (tmpvar_184.y + 1.0);
      float tmpvar_190;
      tmpvar_190 = fract((cos(
        dot (tmpvar_189, vec2(21.9898, 78.233))
      ) * 43758.55));
      f_166 = (f_166 + (0.125 * (
        ((tmpvar_186 + ((tmpvar_188 - tmpvar_186) * uv_183.x)) + ((tmpvar_190 - tmpvar_186) * uv_183.y))
       + 
        ((((
          (tmpvar_186 - tmpvar_188)
         - tmpvar_190) + fract(
          (cos(dot ((tmpvar_184 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
        )) * uv_183.x) * uv_183.y)
      )));
      p_165 = (p_165 * mat2(1.206, 1.206, -1.206, 1.608));
      vec2 uv_191;
      vec2 tmpvar_192;
      tmpvar_192 = floor(p_165);
      vec2 tmpvar_193;
      tmpvar_193 = (p_165 - tmpvar_192);
      uv_191 = ((tmpvar_193 * tmpvar_193) * (3.0 - (2.0 * tmpvar_193)));
      float tmpvar_194;
      tmpvar_194 = fract((cos(
        dot (tmpvar_192, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_195;
      tmpvar_195.x = (tmpvar_192.x + 1.0);
      tmpvar_195.y = tmpvar_192.y;
      float tmpvar_196;
      tmpvar_196 = fract((cos(
        dot (tmpvar_195, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_197;
      tmpvar_197.x = tmpvar_192.x;
      tmpvar_197.y = (tmpvar_192.y + 1.0);
      float tmpvar_198;
      tmpvar_198 = fract((cos(
        dot (tmpvar_197, vec2(21.9898, 78.233))
      ) * 43758.55));
      f_166 = (f_166 + (0.0625 * (
        ((tmpvar_194 + ((tmpvar_196 - tmpvar_194) * uv_191.x)) + ((tmpvar_198 - tmpvar_194) * uv_191.y))
       + 
        ((((
          (tmpvar_194 - tmpvar_196)
         - tmpvar_198) + fract(
          (cos(dot ((tmpvar_192 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
        )) * uv_191.x) * uv_191.y)
      )));
      p_165 = (p_165 * mat2(1.224, 1.224, -1.224, 1.632));
    };
    f_166 = (f_166 / 0.79375);
    vec4 tmpvar_199;
    tmpvar_199.w = 1.0;
    tmpvar_199.x = tmpvar_127;
    tmpvar_199.y = tmpvar_163;
    tmpvar_199.z = (0.26 * f_166);
    vec4 tmpvar_200;
    tmpvar_200 = pow (tmpvar_199, vec4(1.3, 1.3, 1.3, 1.3));
    cl_83 = (tmpvar_200 + tmpvar_200);
    vec4 tmpvar_201;
    tmpvar_201 = pow ((cl_83 + cl_83), vec4(1.5, 1.5, 1.5, 1.5));
    cl_83 = (pow ((
      (tmpvar_201 + tmpvar_201)
     + tmpvar_201), vec4(1.5, 1.5, 1.5, 1.5)) * 0.7);
    vec4 tmpvar_202;
    tmpvar_202 = ((cl_83 + cl_83) * 0.15);
    cl_83 = (tmpvar_202 + (tmpvar_202 * 2.0));
    vec2 x_203;
    x_203 = (uv_85 / 2.0);
    cl_83.xyz = (cl_83.xyz + (0.5 * pow (
      (1.0 - sqrt(dot (x_203, x_203)))
    , 2.5)));
    cl_83 = (0.9 * clamp (cl_83, vec4(0.0, 0.0, 0.0, 0.0), vec4(1.0, 1.0, 1.0, 1.0)));
    vec4 tmpvar_204;
    tmpvar_204 = clamp (vec4(-2.333333, -2.333333, -2.333333, -2.333333), 0.0, 1.0);
    vec4 tmpvar_205;
    tmpvar_205 = clamp ((tmpvar_204 * (tmpvar_204 * 
      (3.0 - (2.0 * tmpvar_204))
    )), 0.0, 1.0);
    cl_83 = (cl_83 + (tmpvar_205 * (tmpvar_205 * 
      (3.0 - (2.0 * tmpvar_205))
    )));
    vec2 p_206;
    p_206 = (st_84 * 0.4);
    float f_207;
    f_207 = 0.0;
    if (!(best)) {
      p_206 = (p_206 * mat2(0.9012, 0.9012, -0.9012, 1.2016));
    };
    vec2 uv_208;
    vec2 tmpvar_209;
    tmpvar_209 = floor(p_206);
    vec2 tmpvar_210;
    tmpvar_210 = (p_206 - tmpvar_209);
    uv_208 = ((tmpvar_210 * tmpvar_210) * (3.0 - (2.0 * tmpvar_210)));
    float tmpvar_211;
    tmpvar_211 = fract((cos(
      dot (tmpvar_209, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_212;
    tmpvar_212.x = (tmpvar_209.x + 1.0);
    tmpvar_212.y = tmpvar_209.y;
    float tmpvar_213;
    tmpvar_213 = fract((cos(
      dot (tmpvar_212, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_214;
    tmpvar_214.x = tmpvar_209.x;
    tmpvar_214.y = (tmpvar_209.y + 1.0);
    float tmpvar_215;
    tmpvar_215 = fract((cos(
      dot (tmpvar_214, vec2(21.9898, 78.233))
    ) * 43758.55));
    f_207 = (0.5 * ((
      (tmpvar_211 + ((tmpvar_213 - tmpvar_211) * uv_208.x))
     + 
      ((tmpvar_215 - tmpvar_211) * uv_208.y)
    ) + (
      ((((tmpvar_211 - tmpvar_213) - tmpvar_215) + fract((
        cos(dot ((tmpvar_209 + vec2(1.0, 1.0)), vec2(21.9898, 78.233)))
       * 43758.55))) * uv_208.x)
     * uv_208.y)));
    p_206 = (p_206 * mat2(1.212, 1.212, -1.212, 1.616));
    vec2 uv_216;
    vec2 tmpvar_217;
    tmpvar_217 = floor(p_206);
    vec2 tmpvar_218;
    tmpvar_218 = (p_206 - tmpvar_217);
    uv_216 = ((tmpvar_218 * tmpvar_218) * (3.0 - (2.0 * tmpvar_218)));
    float tmpvar_219;
    tmpvar_219 = fract((cos(
      dot (tmpvar_217, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_220;
    tmpvar_220.x = (tmpvar_217.x + 1.0);
    tmpvar_220.y = tmpvar_217.y;
    float tmpvar_221;
    tmpvar_221 = fract((cos(
      dot (tmpvar_220, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_222;
    tmpvar_222.x = tmpvar_217.x;
    tmpvar_222.y = (tmpvar_217.y + 1.0);
    float tmpvar_223;
    tmpvar_223 = fract((cos(
      dot (tmpvar_222, vec2(21.9898, 78.233))
    ) * 43758.55));
    f_207 = (f_207 + (0.25 * (
      ((tmpvar_219 + ((tmpvar_221 - tmpvar_219) * uv_216.x)) + ((tmpvar_223 - tmpvar_219) * uv_216.y))
     + 
      ((((
        (tmpvar_219 - tmpvar_221)
       - tmpvar_223) + fract(
        (cos(dot ((tmpvar_217 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
      )) * uv_216.x) * uv_216.y)
    )));
    p_206 = (p_206 * mat2(1.218, 1.218, -1.218, 1.624));
    if (best) {
      vec2 uv_224;
      vec2 tmpvar_225;
      tmpvar_225 = floor(p_206);
      vec2 tmpvar_226;
      tmpvar_226 = (p_206 - tmpvar_225);
      uv_224 = ((tmpvar_226 * tmpvar_226) * (3.0 - (2.0 * tmpvar_226)));
      float tmpvar_227;
      tmpvar_227 = fract((cos(
        dot (tmpvar_225, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_228;
      tmpvar_228.x = (tmpvar_225.x + 1.0);
      tmpvar_228.y = tmpvar_225.y;
      float tmpvar_229;
      tmpvar_229 = fract((cos(
        dot (tmpvar_228, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_230;
      tmpvar_230.x = tmpvar_225.x;
      tmpvar_230.y = (tmpvar_225.y + 1.0);
      float tmpvar_231;
      tmpvar_231 = fract((cos(
        dot (tmpvar_230, vec2(21.9898, 78.233))
      ) * 43758.55));
      f_207 = (f_207 + (0.125 * (
        ((tmpvar_227 + ((tmpvar_229 - tmpvar_227) * uv_224.x)) + ((tmpvar_231 - tmpvar_227) * uv_224.y))
       + 
        ((((
          (tmpvar_227 - tmpvar_229)
         - tmpvar_231) + fract(
          (cos(dot ((tmpvar_225 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
        )) * uv_224.x) * uv_224.y)
      )));
      p_206 = (p_206 * mat2(1.206, 1.206, -1.206, 1.608));
      vec2 uv_232;
      vec2 tmpvar_233;
      tmpvar_233 = floor(p_206);
      vec2 tmpvar_234;
      tmpvar_234 = (p_206 - tmpvar_233);
      uv_232 = ((tmpvar_234 * tmpvar_234) * (3.0 - (2.0 * tmpvar_234)));
      float tmpvar_235;
      tmpvar_235 = fract((cos(
        dot (tmpvar_233, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_236;
      tmpvar_236.x = (tmpvar_233.x + 1.0);
      tmpvar_236.y = tmpvar_233.y;
      float tmpvar_237;
      tmpvar_237 = fract((cos(
        dot (tmpvar_236, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_238;
      tmpvar_238.x = tmpvar_233.x;
      tmpvar_238.y = (tmpvar_233.y + 1.0);
      float tmpvar_239;
      tmpvar_239 = fract((cos(
        dot (tmpvar_238, vec2(21.9898, 78.233))
      ) * 43758.55));
      f_207 = (f_207 + (0.0625 * (
        ((tmpvar_235 + ((tmpvar_237 - tmpvar_235) * uv_232.x)) + ((tmpvar_239 - tmpvar_235) * uv_232.y))
       + 
        ((((
          (tmpvar_235 - tmpvar_237)
         - tmpvar_239) + fract(
          (cos(dot ((tmpvar_233 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
        )) * uv_232.x) * uv_232.y)
      )));
      p_206 = (p_206 * mat2(1.224, 1.224, -1.224, 1.632));
    };
    f_207 = (f_207 / 0.79375);
    vec2 p_240;
    p_240 = ((f_207 - vec2(tmpvar_88)) * 15.0);
    float f_241;
    f_241 = 0.0;
    if (!(best)) {
      p_240 = (p_240 * mat2(0.9012, 0.9012, -0.9012, 1.2016));
    };
    vec2 uv_242;
    vec2 tmpvar_243;
    tmpvar_243 = floor(p_240);
    vec2 tmpvar_244;
    tmpvar_244 = (p_240 - tmpvar_243);
    uv_242 = ((tmpvar_244 * tmpvar_244) * (3.0 - (2.0 * tmpvar_244)));
    float tmpvar_245;
    tmpvar_245 = fract((cos(
      dot (tmpvar_243, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_246;
    tmpvar_246.x = (tmpvar_243.x + 1.0);
    tmpvar_246.y = tmpvar_243.y;
    float tmpvar_247;
    tmpvar_247 = fract((cos(
      dot (tmpvar_246, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_248;
    tmpvar_248.x = tmpvar_243.x;
    tmpvar_248.y = (tmpvar_243.y + 1.0);
    float tmpvar_249;
    tmpvar_249 = fract((cos(
      dot (tmpvar_248, vec2(21.9898, 78.233))
    ) * 43758.55));
    f_241 = (0.5 * ((
      (tmpvar_245 + ((tmpvar_247 - tmpvar_245) * uv_242.x))
     + 
      ((tmpvar_249 - tmpvar_245) * uv_242.y)
    ) + (
      ((((tmpvar_245 - tmpvar_247) - tmpvar_249) + fract((
        cos(dot ((tmpvar_243 + vec2(1.0, 1.0)), vec2(21.9898, 78.233)))
       * 43758.55))) * uv_242.x)
     * uv_242.y)));
    p_240 = (p_240 * mat2(1.212, 1.212, -1.212, 1.616));
    vec2 uv_250;
    vec2 tmpvar_251;
    tmpvar_251 = floor(p_240);
    vec2 tmpvar_252;
    tmpvar_252 = (p_240 - tmpvar_251);
    uv_250 = ((tmpvar_252 * tmpvar_252) * (3.0 - (2.0 * tmpvar_252)));
    float tmpvar_253;
    tmpvar_253 = fract((cos(
      dot (tmpvar_251, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_254;
    tmpvar_254.x = (tmpvar_251.x + 1.0);
    tmpvar_254.y = tmpvar_251.y;
    float tmpvar_255;
    tmpvar_255 = fract((cos(
      dot (tmpvar_254, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_256;
    tmpvar_256.x = tmpvar_251.x;
    tmpvar_256.y = (tmpvar_251.y + 1.0);
    float tmpvar_257;
    tmpvar_257 = fract((cos(
      dot (tmpvar_256, vec2(21.9898, 78.233))
    ) * 43758.55));
    f_241 = (f_241 + (0.25 * (
      ((tmpvar_253 + ((tmpvar_255 - tmpvar_253) * uv_250.x)) + ((tmpvar_257 - tmpvar_253) * uv_250.y))
     + 
      ((((
        (tmpvar_253 - tmpvar_255)
       - tmpvar_257) + fract(
        (cos(dot ((tmpvar_251 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
      )) * uv_250.x) * uv_250.y)
    )));
    p_240 = (p_240 * mat2(1.218, 1.218, -1.218, 1.624));
    if (best) {
      vec2 uv_258;
      vec2 tmpvar_259;
      tmpvar_259 = floor(p_240);
      vec2 tmpvar_260;
      tmpvar_260 = (p_240 - tmpvar_259);
      uv_258 = ((tmpvar_260 * tmpvar_260) * (3.0 - (2.0 * tmpvar_260)));
      float tmpvar_261;
      tmpvar_261 = fract((cos(
        dot (tmpvar_259, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_262;
      tmpvar_262.x = (tmpvar_259.x + 1.0);
      tmpvar_262.y = tmpvar_259.y;
      float tmpvar_263;
      tmpvar_263 = fract((cos(
        dot (tmpvar_262, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_264;
      tmpvar_264.x = tmpvar_259.x;
      tmpvar_264.y = (tmpvar_259.y + 1.0);
      float tmpvar_265;
      tmpvar_265 = fract((cos(
        dot (tmpvar_264, vec2(21.9898, 78.233))
      ) * 43758.55));
      f_241 = (f_241 + (0.125 * (
        ((tmpvar_261 + ((tmpvar_263 - tmpvar_261) * uv_258.x)) + ((tmpvar_265 - tmpvar_261) * uv_258.y))
       + 
        ((((
          (tmpvar_261 - tmpvar_263)
         - tmpvar_265) + fract(
          (cos(dot ((tmpvar_259 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
        )) * uv_258.x) * uv_258.y)
      )));
      p_240 = (p_240 * mat2(1.206, 1.206, -1.206, 1.608));
      vec2 uv_266;
      vec2 tmpvar_267;
      tmpvar_267 = floor(p_240);
      vec2 tmpvar_268;
      tmpvar_268 = (p_240 - tmpvar_267);
      uv_266 = ((tmpvar_268 * tmpvar_268) * (3.0 - (2.0 * tmpvar_268)));
      float tmpvar_269;
      tmpvar_269 = fract((cos(
        dot (tmpvar_267, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_270;
      tmpvar_270.x = (tmpvar_267.x + 1.0);
      tmpvar_270.y = tmpvar_267.y;
      float tmpvar_271;
      tmpvar_271 = fract((cos(
        dot (tmpvar_270, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_272;
      tmpvar_272.x = tmpvar_267.x;
      tmpvar_272.y = (tmpvar_267.y + 1.0);
      float tmpvar_273;
      tmpvar_273 = fract((cos(
        dot (tmpvar_272, vec2(21.9898, 78.233))
      ) * 43758.55));
      f_241 = (f_241 + (0.0625 * (
        ((tmpvar_269 + ((tmpvar_271 - tmpvar_269) * uv_266.x)) + ((tmpvar_273 - tmpvar_269) * uv_266.y))
       + 
        ((((
          (tmpvar_269 - tmpvar_271)
         - tmpvar_273) + fract(
          (cos(dot ((tmpvar_267 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
        )) * uv_266.x) * uv_266.y)
      )));
      p_240 = (p_240 * mat2(1.224, 1.224, -1.224, 1.632));
    };
    f_241 = (f_241 / 0.79375);
    float tmpvar_274;
    tmpvar_274 = (f_241 * ((0.2 * 
      dot (uv_85, uv_85)
    ) - 0.5));
    vec4 tmpvar_275;
    tmpvar_275 = mix (cl_83, ((cl_83 + tmpvar_274) + (tmpvar_274 + tmpvar_274)), 0.6);
    cl_83 = tmpvar_275;
    vec2 tmpvar_276;
    tmpvar_276.x = (-(time) * 0.3);
    tmpvar_276.y = (time * 0.3);
    vec2 p_277;
    p_277 = (tmpvar_276 + (uv_85 * 20.0));
    float f_278;
    f_278 = 0.0;
    if (!(best)) {
      p_277 = (p_277 * mat2(0.9012, 0.9012, -0.9012, 1.2016));
    };
    vec2 uv_279;
    vec2 tmpvar_280;
    tmpvar_280 = floor(p_277);
    vec2 tmpvar_281;
    tmpvar_281 = (p_277 - tmpvar_280);
    uv_279 = ((tmpvar_281 * tmpvar_281) * (3.0 - (2.0 * tmpvar_281)));
    float tmpvar_282;
    tmpvar_282 = fract((cos(
      dot (tmpvar_280, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_283;
    tmpvar_283.x = (tmpvar_280.x + 1.0);
    tmpvar_283.y = tmpvar_280.y;
    float tmpvar_284;
    tmpvar_284 = fract((cos(
      dot (tmpvar_283, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_285;
    tmpvar_285.x = tmpvar_280.x;
    tmpvar_285.y = (tmpvar_280.y + 1.0);
    float tmpvar_286;
    tmpvar_286 = fract((cos(
      dot (tmpvar_285, vec2(21.9898, 78.233))
    ) * 43758.55));
    f_278 = (0.5 * ((
      (tmpvar_282 + ((tmpvar_284 - tmpvar_282) * uv_279.x))
     + 
      ((tmpvar_286 - tmpvar_282) * uv_279.y)
    ) + (
      ((((tmpvar_282 - tmpvar_284) - tmpvar_286) + fract((
        cos(dot ((tmpvar_280 + vec2(1.0, 1.0)), vec2(21.9898, 78.233)))
       * 43758.55))) * uv_279.x)
     * uv_279.y)));
    p_277 = (p_277 * mat2(1.212, 1.212, -1.212, 1.616));
    vec2 uv_287;
    vec2 tmpvar_288;
    tmpvar_288 = floor(p_277);
    vec2 tmpvar_289;
    tmpvar_289 = (p_277 - tmpvar_288);
    uv_287 = ((tmpvar_289 * tmpvar_289) * (3.0 - (2.0 * tmpvar_289)));
    float tmpvar_290;
    tmpvar_290 = fract((cos(
      dot (tmpvar_288, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_291;
    tmpvar_291.x = (tmpvar_288.x + 1.0);
    tmpvar_291.y = tmpvar_288.y;
    float tmpvar_292;
    tmpvar_292 = fract((cos(
      dot (tmpvar_291, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_293;
    tmpvar_293.x = tmpvar_288.x;
    tmpvar_293.y = (tmpvar_288.y + 1.0);
    float tmpvar_294;
    tmpvar_294 = fract((cos(
      dot (tmpvar_293, vec2(21.9898, 78.233))
    ) * 43758.55));
    f_278 = (f_278 + (0.25 * (
      ((tmpvar_290 + ((tmpvar_292 - tmpvar_290) * uv_287.x)) + ((tmpvar_294 - tmpvar_290) * uv_287.y))
     + 
      ((((
        (tmpvar_290 - tmpvar_292)
       - tmpvar_294) + fract(
        (cos(dot ((tmpvar_288 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
      )) * uv_287.x) * uv_287.y)
    )));
    p_277 = (p_277 * mat2(1.218, 1.218, -1.218, 1.624));
    if (best) {
      vec2 uv_295;
      vec2 tmpvar_296;
      tmpvar_296 = floor(p_277);
      vec2 tmpvar_297;
      tmpvar_297 = (p_277 - tmpvar_296);
      uv_295 = ((tmpvar_297 * tmpvar_297) * (3.0 - (2.0 * tmpvar_297)));
      float tmpvar_298;
      tmpvar_298 = fract((cos(
        dot (tmpvar_296, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_299;
      tmpvar_299.x = (tmpvar_296.x + 1.0);
      tmpvar_299.y = tmpvar_296.y;
      float tmpvar_300;
      tmpvar_300 = fract((cos(
        dot (tmpvar_299, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_301;
      tmpvar_301.x = tmpvar_296.x;
      tmpvar_301.y = (tmpvar_296.y + 1.0);
      float tmpvar_302;
      tmpvar_302 = fract((cos(
        dot (tmpvar_301, vec2(21.9898, 78.233))
      ) * 43758.55));
      f_278 = (f_278 + (0.125 * (
        ((tmpvar_298 + ((tmpvar_300 - tmpvar_298) * uv_295.x)) + ((tmpvar_302 - tmpvar_298) * uv_295.y))
       + 
        ((((
          (tmpvar_298 - tmpvar_300)
         - tmpvar_302) + fract(
          (cos(dot ((tmpvar_296 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
        )) * uv_295.x) * uv_295.y)
      )));
      p_277 = (p_277 * mat2(1.206, 1.206, -1.206, 1.608));
      vec2 uv_303;
      vec2 tmpvar_304;
      tmpvar_304 = floor(p_277);
      vec2 tmpvar_305;
      tmpvar_305 = (p_277 - tmpvar_304);
      uv_303 = ((tmpvar_305 * tmpvar_305) * (3.0 - (2.0 * tmpvar_305)));
      float tmpvar_306;
      tmpvar_306 = fract((cos(
        dot (tmpvar_304, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_307;
      tmpvar_307.x = (tmpvar_304.x + 1.0);
      tmpvar_307.y = tmpvar_304.y;
      float tmpvar_308;
      tmpvar_308 = fract((cos(
        dot (tmpvar_307, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_309;
      tmpvar_309.x = tmpvar_304.x;
      tmpvar_309.y = (tmpvar_304.y + 1.0);
      float tmpvar_310;
      tmpvar_310 = fract((cos(
        dot (tmpvar_309, vec2(21.9898, 78.233))
      ) * 43758.55));
      f_278 = (f_278 + (0.0625 * (
        ((tmpvar_306 + ((tmpvar_308 - tmpvar_306) * uv_303.x)) + ((tmpvar_310 - tmpvar_306) * uv_303.y))
       + 
        ((((
          (tmpvar_306 - tmpvar_308)
         - tmpvar_310) + fract(
          (cos(dot ((tmpvar_304 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
        )) * uv_303.x) * uv_303.y)
      )));
      p_277 = (p_277 * mat2(1.224, 1.224, -1.224, 1.632));
    };
    f_278 = (f_278 / 0.79375);
    cl_83 = (tmpvar_275 + (0.2 * f_278));
    cl_83 = (cl_83 - min (cl_83, vec4(-0.3, 0.0, -0.5, 1.0)));
    cl_83 = (cl_83 - (0.8 * dot (uv_85, uv_85)));
    tmpvar_79 = max (vec4(0.0, 0.0, 0.0, 0.0), cl_83);
  } else {
    tmpvar_79 = vec4(0.0, 0.0, 0.0, 0.0);
  };
  buff_11 = (tmpvar_78 + tmpvar_79);
  vec4 tmpvar_311;
  vec2 tmpvar_312;
  tmpvar_312 = ((tmpvar_2 - (planetpos1 * zoom)) - shippos);
  vec2 x_313;
  x_313 = (tmpvar_312 - (2500.0 * zoom));
  float tmpvar_314;
  tmpvar_314 = float((sqrt(
    dot (x_313, x_313)
  ) >= (3000.0 * zoom)));
  if (((1.0 - tmpvar_314) > 0.0)) {
    vec4 cxu_315;
    float bval_316;
    vec4 c_317;
    vec2 p_318;
    vec2 tmpvar_319;
    tmpvar_319 = vec2((5000.0 * zoom));
    vec2 tmpvar_320;
    tmpvar_320 = (((tmpvar_312 * 2.0) - tmpvar_319) / tmpvar_319.y);
    float tmpvar_321;
    tmpvar_321 = sqrt(dot (tmpvar_320, tmpvar_320));
    vec4 tmpvar_322;
    tmpvar_322 = (vec4(0.63, 0.62, 0.86, 1.0) + tmpvar_320.y);
    c_317 = tmpvar_322;
    p_318 = (((tmpvar_320 * 
      (sign(tmpvar_321) * (1.570796 - (sqrt(
        (1.0 - abs(tmpvar_321))
      ) * (1.570796 + 
        (abs(tmpvar_321) * (-0.2146018 + (abs(tmpvar_321) * (0.08656672 + 
          (abs(tmpvar_321) * -0.03102955)
        ))))
      ))))
    ) / tmpvar_321) - 5.0);
    p_318 = (p_318 * p_318.y);
    bval_316 = 0.021;
    if (best) {
      bval_316 = 0.1;
      float r_323;
      vec2 tmpvar_324;
      tmpvar_324 = ((0.7 * p_318) - 0.5);
      float tmpvar_325;
      tmpvar_325 = sqrt(((tmpvar_324.x * tmpvar_324.x) + (tmpvar_324.y * tmpvar_324.y)));
      float tmpvar_326;
      float tmpvar_327;
      tmpvar_327 = (min (abs(
        (tmpvar_324.y / tmpvar_324.x)
      ), 1.0) / max (abs(
        (tmpvar_324.y / tmpvar_324.x)
      ), 1.0));
      float tmpvar_328;
      tmpvar_328 = (tmpvar_327 * tmpvar_327);
      tmpvar_328 = (((
        ((((
          ((((-0.01213232 * tmpvar_328) + 0.05368138) * tmpvar_328) - 0.1173503)
         * tmpvar_328) + 0.1938925) * tmpvar_328) - 0.3326756)
       * tmpvar_328) + 0.9999793) * tmpvar_327);
      tmpvar_328 = (tmpvar_328 + (float(
        (abs((tmpvar_324.y / tmpvar_324.x)) > 1.0)
      ) * (
        (tmpvar_328 * -2.0)
       + 1.570796)));
      tmpvar_326 = (tmpvar_328 * sign((tmpvar_324.y / tmpvar_324.x)));
      if ((abs(tmpvar_324.x) > (1e-08 * abs(tmpvar_324.y)))) {
        if ((tmpvar_324.x < 0.0)) {
          if ((tmpvar_324.y >= 0.0)) {
            tmpvar_326 += 3.141593;
          } else {
            tmpvar_326 = (tmpvar_326 - 3.141593);
          };
        };
      } else {
        tmpvar_326 = (sign(tmpvar_324.y) * 1.570796);
      };
      float tmpvar_329;
      tmpvar_329 = (tmpvar_326 + (time / 100.0));
      vec2 tmpvar_330;
      tmpvar_330.x = (tmpvar_325 * cos(tmpvar_329));
      tmpvar_330.y = (tmpvar_325 * sin(tmpvar_329));
      float tmpvar_331;
      float tmpvar_332;
      tmpvar_332 = (time / 10.0);
      tmpvar_331 = (2.0 + (0.2 * cos(tmpvar_332)));
      float tmpvar_333;
      tmpvar_333 = (2.0 - (0.2 * sin(tmpvar_332)));
      vec2 v_334;
      v_334 = (10.0 * tmpvar_330);
      float amplitude_336;
      float value_337;
      value_337 = 0.0;
      amplitude_336 = 0.5;
      for (int i_335 = 0; i_335 < 4; i_335++) {
        vec2 uv_338;
        vec2 tmpvar_339;
        tmpvar_339 = floor(v_334);
        vec2 tmpvar_340;
        tmpvar_340 = (v_334 - tmpvar_339);
        uv_338 = ((tmpvar_340 * tmpvar_340) * (3.0 - (2.0 * tmpvar_340)));
        float tmpvar_341;
        tmpvar_341 = fract((cos(
          dot (tmpvar_339, vec2(21.9898, 78.233))
        ) * 43758.55));
        vec2 tmpvar_342;
        tmpvar_342.x = (tmpvar_339.x + 1.0);
        tmpvar_342.y = tmpvar_339.y;
        float tmpvar_343;
        tmpvar_343 = fract((cos(
          dot (tmpvar_342, vec2(21.9898, 78.233))
        ) * 43758.55));
        vec2 tmpvar_344;
        tmpvar_344.x = tmpvar_339.x;
        tmpvar_344.y = (tmpvar_339.y + 1.0);
        float tmpvar_345;
        tmpvar_345 = fract((cos(
          dot (tmpvar_344, vec2(21.9898, 78.233))
        ) * 43758.55));
        value_337 = (value_337 + (amplitude_336 * (
          ((tmpvar_341 + ((tmpvar_343 - tmpvar_341) * uv_338.x)) + ((tmpvar_345 - tmpvar_341) * uv_338.y))
         + 
          ((((
            (tmpvar_341 - tmpvar_343)
           - tmpvar_345) + fract(
            (cos(dot ((tmpvar_339 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
          )) * uv_338.x) * uv_338.y)
        )));
        v_334 = (v_334 * 2.0);
        amplitude_336 = (amplitude_336 * 0.5);
        vec2 xy_346;
        xy_346 = (v_334 * 2.0);
        vec2 uv_347;
        vec2 tmpvar_348;
        tmpvar_348 = floor(xy_346);
        vec2 tmpvar_349;
        tmpvar_349 = (xy_346 - tmpvar_348);
        uv_347 = ((tmpvar_349 * tmpvar_349) * (3.0 - (2.0 * tmpvar_349)));
        float tmpvar_350;
        tmpvar_350 = fract((cos(
          dot (tmpvar_348, vec2(21.9898, 78.233))
        ) * 43758.55));
        vec2 tmpvar_351;
        tmpvar_351.x = (tmpvar_348.x + 1.0);
        tmpvar_351.y = tmpvar_348.y;
        float tmpvar_352;
        tmpvar_352 = fract((cos(
          dot (tmpvar_351, vec2(21.9898, 78.233))
        ) * 43758.55));
        vec2 tmpvar_353;
        tmpvar_353.x = tmpvar_348.x;
        tmpvar_353.y = (tmpvar_348.y + 1.0);
        float tmpvar_354;
        tmpvar_354 = fract((cos(
          dot (tmpvar_353, vec2(21.9898, 78.233))
        ) * 43758.55));
        value_337 = (value_337 + ((amplitude_336 * 
          (((tmpvar_350 + (
            (tmpvar_352 - tmpvar_350)
           * uv_347.x)) + ((tmpvar_354 - tmpvar_350) * uv_347.y)) + (((
            ((tmpvar_350 - tmpvar_352) - tmpvar_354)
           + 
            fract((cos(dot (
              (tmpvar_348 + vec2(1.0, 1.0))
            , vec2(21.9898, 78.233))) * 43758.55))
          ) * uv_347.x) * uv_347.y))
        ) * 0.5));
        amplitude_336 = (amplitude_336 * 0.5);
      };
      r_323 = (sin((
        (((tmpvar_330.x * tmpvar_331) * 6.283) + ((tmpvar_330.y * tmpvar_333) * 6.283))
       + 
        (15.0 * value_337)
      )) + 1.0);
      vec4 tmpvar_355;
      tmpvar_355.w = 1.0;
      tmpvar_355.x = r_323;
      tmpvar_355.y = r_323;
      tmpvar_355.z = r_323;
      c_317 = (tmpvar_322 + ((tmpvar_355 * vec4(0.75, 1.0, 0.75, 1.0)) + (
        (1.0 - tmpvar_355)
       * vec4(0.0, 0.25, 0.0, 1.0))));
      p_318 = (p_318 * 0.4);
      c_317 = (c_317 * 0.6);
      float r_356;
      vec2 tmpvar_357;
      tmpvar_357 = ((0.7 * p_318) - 0.5);
      float tmpvar_358;
      tmpvar_358 = sqrt(((tmpvar_357.x * tmpvar_357.x) + (tmpvar_357.y * tmpvar_357.y)));
      float tmpvar_359;
      float tmpvar_360;
      tmpvar_360 = (min (abs(
        (tmpvar_357.y / tmpvar_357.x)
      ), 1.0) / max (abs(
        (tmpvar_357.y / tmpvar_357.x)
      ), 1.0));
      float tmpvar_361;
      tmpvar_361 = (tmpvar_360 * tmpvar_360);
      tmpvar_361 = (((
        ((((
          ((((-0.01213232 * tmpvar_361) + 0.05368138) * tmpvar_361) - 0.1173503)
         * tmpvar_361) + 0.1938925) * tmpvar_361) - 0.3326756)
       * tmpvar_361) + 0.9999793) * tmpvar_360);
      tmpvar_361 = (tmpvar_361 + (float(
        (abs((tmpvar_357.y / tmpvar_357.x)) > 1.0)
      ) * (
        (tmpvar_361 * -2.0)
       + 1.570796)));
      tmpvar_359 = (tmpvar_361 * sign((tmpvar_357.y / tmpvar_357.x)));
      if ((abs(tmpvar_357.x) > (1e-08 * abs(tmpvar_357.y)))) {
        if ((tmpvar_357.x < 0.0)) {
          if ((tmpvar_357.y >= 0.0)) {
            tmpvar_359 += 3.141593;
          } else {
            tmpvar_359 = (tmpvar_359 - 3.141593);
          };
        };
      } else {
        tmpvar_359 = (sign(tmpvar_357.y) * 1.570796);
      };
      float tmpvar_362;
      tmpvar_362 = (tmpvar_359 + (time / 100.0));
      vec2 tmpvar_363;
      tmpvar_363.x = (tmpvar_358 * cos(tmpvar_362));
      tmpvar_363.y = (tmpvar_358 * sin(tmpvar_362));
      float tmpvar_364;
      float tmpvar_365;
      tmpvar_365 = (time / 10.0);
      tmpvar_364 = (2.0 + (0.2 * cos(tmpvar_365)));
      float tmpvar_366;
      tmpvar_366 = (2.0 - (0.2 * sin(tmpvar_365)));
      vec2 v_367;
      v_367 = (10.0 * tmpvar_363);
      float amplitude_369;
      float value_370;
      value_370 = 0.0;
      amplitude_369 = 0.5;
      for (int i_368 = 0; i_368 < 4; i_368++) {
        vec2 uv_371;
        vec2 tmpvar_372;
        tmpvar_372 = floor(v_367);
        vec2 tmpvar_373;
        tmpvar_373 = (v_367 - tmpvar_372);
        uv_371 = ((tmpvar_373 * tmpvar_373) * (3.0 - (2.0 * tmpvar_373)));
        float tmpvar_374;
        tmpvar_374 = fract((cos(
          dot (tmpvar_372, vec2(21.9898, 78.233))
        ) * 43758.55));
        vec2 tmpvar_375;
        tmpvar_375.x = (tmpvar_372.x + 1.0);
        tmpvar_375.y = tmpvar_372.y;
        float tmpvar_376;
        tmpvar_376 = fract((cos(
          dot (tmpvar_375, vec2(21.9898, 78.233))
        ) * 43758.55));
        vec2 tmpvar_377;
        tmpvar_377.x = tmpvar_372.x;
        tmpvar_377.y = (tmpvar_372.y + 1.0);
        float tmpvar_378;
        tmpvar_378 = fract((cos(
          dot (tmpvar_377, vec2(21.9898, 78.233))
        ) * 43758.55));
        value_370 = (value_370 + (amplitude_369 * (
          ((tmpvar_374 + ((tmpvar_376 - tmpvar_374) * uv_371.x)) + ((tmpvar_378 - tmpvar_374) * uv_371.y))
         + 
          ((((
            (tmpvar_374 - tmpvar_376)
           - tmpvar_378) + fract(
            (cos(dot ((tmpvar_372 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
          )) * uv_371.x) * uv_371.y)
        )));
        v_367 = (v_367 * 2.0);
        amplitude_369 = (amplitude_369 * 0.5);
        vec2 xy_379;
        xy_379 = (v_367 * 2.0);
        vec2 uv_380;
        vec2 tmpvar_381;
        tmpvar_381 = floor(xy_379);
        vec2 tmpvar_382;
        tmpvar_382 = (xy_379 - tmpvar_381);
        uv_380 = ((tmpvar_382 * tmpvar_382) * (3.0 - (2.0 * tmpvar_382)));
        float tmpvar_383;
        tmpvar_383 = fract((cos(
          dot (tmpvar_381, vec2(21.9898, 78.233))
        ) * 43758.55));
        vec2 tmpvar_384;
        tmpvar_384.x = (tmpvar_381.x + 1.0);
        tmpvar_384.y = tmpvar_381.y;
        float tmpvar_385;
        tmpvar_385 = fract((cos(
          dot (tmpvar_384, vec2(21.9898, 78.233))
        ) * 43758.55));
        vec2 tmpvar_386;
        tmpvar_386.x = tmpvar_381.x;
        tmpvar_386.y = (tmpvar_381.y + 1.0);
        float tmpvar_387;
        tmpvar_387 = fract((cos(
          dot (tmpvar_386, vec2(21.9898, 78.233))
        ) * 43758.55));
        value_370 = (value_370 + ((amplitude_369 * 
          (((tmpvar_383 + (
            (tmpvar_385 - tmpvar_383)
           * uv_380.x)) + ((tmpvar_387 - tmpvar_383) * uv_380.y)) + (((
            ((tmpvar_383 - tmpvar_385) - tmpvar_387)
           + 
            fract((cos(dot (
              (tmpvar_381 + vec2(1.0, 1.0))
            , vec2(21.9898, 78.233))) * 43758.55))
          ) * uv_380.x) * uv_380.y))
        ) * 0.5));
        amplitude_369 = (amplitude_369 * 0.5);
      };
      r_356 = (sin((
        (((tmpvar_363.x * tmpvar_364) * 6.283) + ((tmpvar_363.y * tmpvar_366) * 6.283))
       + 
        (15.0 * value_370)
      )) + 1.0);
      vec4 tmpvar_388;
      tmpvar_388.w = 1.0;
      tmpvar_388.x = r_356;
      tmpvar_388.y = r_356;
      tmpvar_388.z = r_356;
      c_317 = (c_317 + ((tmpvar_388 * vec4(0.75, 1.0, 0.75, 1.0)) + (
        (1.0 - tmpvar_388)
       * vec4(0.0, 0.25, 0.0, 1.0))));
      p_318 = (p_318 * 0.4);
      c_317 = (c_317 * 0.6);
    };
    float r_389;
    vec2 tmpvar_390;
    tmpvar_390 = (((p_318 * bval_316) * 7.0) - 0.5);
    float tmpvar_391;
    tmpvar_391 = sqrt(((tmpvar_390.x * tmpvar_390.x) + (tmpvar_390.y * tmpvar_390.y)));
    float tmpvar_392;
    float tmpvar_393;
    tmpvar_393 = (min (abs(
      (tmpvar_390.y / tmpvar_390.x)
    ), 1.0) / max (abs(
      (tmpvar_390.y / tmpvar_390.x)
    ), 1.0));
    float tmpvar_394;
    tmpvar_394 = (tmpvar_393 * tmpvar_393);
    tmpvar_394 = (((
      ((((
        ((((-0.01213232 * tmpvar_394) + 0.05368138) * tmpvar_394) - 0.1173503)
       * tmpvar_394) + 0.1938925) * tmpvar_394) - 0.3326756)
     * tmpvar_394) + 0.9999793) * tmpvar_393);
    tmpvar_394 = (tmpvar_394 + (float(
      (abs((tmpvar_390.y / tmpvar_390.x)) > 1.0)
    ) * (
      (tmpvar_394 * -2.0)
     + 1.570796)));
    tmpvar_392 = (tmpvar_394 * sign((tmpvar_390.y / tmpvar_390.x)));
    if ((abs(tmpvar_390.x) > (1e-08 * abs(tmpvar_390.y)))) {
      if ((tmpvar_390.x < 0.0)) {
        if ((tmpvar_390.y >= 0.0)) {
          tmpvar_392 += 3.141593;
        } else {
          tmpvar_392 = (tmpvar_392 - 3.141593);
        };
      };
    } else {
      tmpvar_392 = (sign(tmpvar_390.y) * 1.570796);
    };
    float tmpvar_395;
    tmpvar_395 = (tmpvar_392 + (time / 100.0));
    vec2 tmpvar_396;
    tmpvar_396.x = (tmpvar_391 * cos(tmpvar_395));
    tmpvar_396.y = (tmpvar_391 * sin(tmpvar_395));
    float tmpvar_397;
    float tmpvar_398;
    tmpvar_398 = (time / 10.0);
    tmpvar_397 = (2.0 + (0.2 * cos(tmpvar_398)));
    float tmpvar_399;
    tmpvar_399 = (2.0 - (0.2 * sin(tmpvar_398)));
    vec2 v_400;
    v_400 = (10.0 * tmpvar_396);
    float amplitude_402;
    float value_403;
    value_403 = 0.0;
    amplitude_402 = 0.5;
    for (int i_401 = 0; i_401 < 4; i_401++) {
      vec2 uv_404;
      vec2 tmpvar_405;
      tmpvar_405 = floor(v_400);
      vec2 tmpvar_406;
      tmpvar_406 = (v_400 - tmpvar_405);
      uv_404 = ((tmpvar_406 * tmpvar_406) * (3.0 - (2.0 * tmpvar_406)));
      float tmpvar_407;
      tmpvar_407 = fract((cos(
        dot (tmpvar_405, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_408;
      tmpvar_408.x = (tmpvar_405.x + 1.0);
      tmpvar_408.y = tmpvar_405.y;
      float tmpvar_409;
      tmpvar_409 = fract((cos(
        dot (tmpvar_408, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_410;
      tmpvar_410.x = tmpvar_405.x;
      tmpvar_410.y = (tmpvar_405.y + 1.0);
      float tmpvar_411;
      tmpvar_411 = fract((cos(
        dot (tmpvar_410, vec2(21.9898, 78.233))
      ) * 43758.55));
      value_403 = (value_403 + (amplitude_402 * (
        ((tmpvar_407 + ((tmpvar_409 - tmpvar_407) * uv_404.x)) + ((tmpvar_411 - tmpvar_407) * uv_404.y))
       + 
        ((((
          (tmpvar_407 - tmpvar_409)
         - tmpvar_411) + fract(
          (cos(dot ((tmpvar_405 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
        )) * uv_404.x) * uv_404.y)
      )));
      v_400 = (v_400 * 2.0);
      amplitude_402 = (amplitude_402 * 0.5);
      vec2 xy_412;
      xy_412 = (v_400 * 2.0);
      vec2 uv_413;
      vec2 tmpvar_414;
      tmpvar_414 = floor(xy_412);
      vec2 tmpvar_415;
      tmpvar_415 = (xy_412 - tmpvar_414);
      uv_413 = ((tmpvar_415 * tmpvar_415) * (3.0 - (2.0 * tmpvar_415)));
      float tmpvar_416;
      tmpvar_416 = fract((cos(
        dot (tmpvar_414, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_417;
      tmpvar_417.x = (tmpvar_414.x + 1.0);
      tmpvar_417.y = tmpvar_414.y;
      float tmpvar_418;
      tmpvar_418 = fract((cos(
        dot (tmpvar_417, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_419;
      tmpvar_419.x = tmpvar_414.x;
      tmpvar_419.y = (tmpvar_414.y + 1.0);
      float tmpvar_420;
      tmpvar_420 = fract((cos(
        dot (tmpvar_419, vec2(21.9898, 78.233))
      ) * 43758.55));
      value_403 = (value_403 + ((amplitude_402 * 
        (((tmpvar_416 + (
          (tmpvar_418 - tmpvar_416)
         * uv_413.x)) + ((tmpvar_420 - tmpvar_416) * uv_413.y)) + (((
          ((tmpvar_416 - tmpvar_418) - tmpvar_420)
         + 
          fract((cos(dot (
            (tmpvar_414 + vec2(1.0, 1.0))
          , vec2(21.9898, 78.233))) * 43758.55))
        ) * uv_413.x) * uv_413.y))
      ) * 0.5));
      amplitude_402 = (amplitude_402 * 0.5);
    };
    r_389 = (sin((
      (((tmpvar_396.x * tmpvar_397) * 6.283) + ((tmpvar_396.y * tmpvar_399) * 6.283))
     + 
      (15.0 * value_403)
    )) + 1.0);
    vec4 tmpvar_421;
    tmpvar_421.w = 1.0;
    tmpvar_421.x = r_389;
    tmpvar_421.y = r_389;
    tmpvar_421.z = r_389;
    c_317 = (c_317 + ((tmpvar_421 * vec4(0.75, 1.0, 0.75, 1.0)) + (
      (1.0 - tmpvar_421)
     * vec4(0.0, 0.25, 0.0, 1.0))));
    p_318 = (p_318 * 0.4);
    c_317 = (c_317 * 0.6);
    float tmpvar_422;
    tmpvar_422 = clamp (((tax - 0.23) / 0.16), 0.0, 1.0);
    float tmpvar_423;
    tmpvar_423 = clamp (((tax - 0.65) / -0.26), 0.0, 1.0);
    float tmpvar_424;
    tmpvar_424 = ((1.0 - (tmpvar_422 * 
      (tmpvar_422 * (3.0 - (2.0 * tmpvar_422)))
    )) + (1.0 - (tmpvar_423 * 
      (tmpvar_423 * (3.0 - (2.0 * tmpvar_423)))
    )));
    if (((1.0 - tmpvar_424) > 0.0)) {
      vec2 pos_425;
      vec3 col_426;
      float tmpvar_427;
      tmpvar_427 = clamp (((tax - 0.19) / 0.46), 0.0, 1.0);
      float tmpvar_428;
      tmpvar_428 = (1.0 - (tmpvar_427 * (tmpvar_427 * 
        (3.0 - (2.0 * tmpvar_427))
      )));
      float tmpvar_429;
      tmpvar_429 = (7000.0 * zoom);
      pos_425 = (tmpvar_312 + ((
        -(tmpvar_429)
       / 2.0) + (tmpvar_429 * 0.145)));
      mat2 tmpvar_430;
      float tmpvar_431;
      tmpvar_431 = (tax + 0.9817436);
      tmpvar_430[0].x = cos((tmpvar_431 + (1.57079 * 
        (1.0 - tmpvar_428)
      )));
      tmpvar_430[0].y = -(sin((tmpvar_431 + 
        (1.57079 * (1.0 - tmpvar_428))
      )));
      tmpvar_430[1].x = sin((tmpvar_431 + (1.57079 * 
        (1.0 - tmpvar_428)
      )));
      tmpvar_430[1].y = cos((tmpvar_431 + (1.57079 * 
        (1.0 - tmpvar_428)
      )));
      pos_425 = ((tmpvar_429 * 0.5) - (pos_425 * tmpvar_430));
      vec2 tmpvar_432;
      tmpvar_432 = ((pos_425 / tmpvar_429) - vec2(0.5, 0.5));
      col_426 = vec3(0.0, 0.0, 0.0);
      float tmpvar_433;
      tmpvar_433 = (dot (tmpvar_432, tmpvar_432) * 8.0);
      float tmpvar_434;
      tmpvar_434 = ((1.0 - sqrt(
        abs((1.0 - tmpvar_433))
      )) / tmpvar_433);
      vec2 p_435;
      vec2 tmpvar_436;
      tmpvar_436 = vec2((11050.0 * zoom));
      mat2 tmpvar_437;
      float tmpvar_438;
      tmpvar_438 = (tax * 3.0);
      tmpvar_437[0].x = cos(tmpvar_438);
      tmpvar_437[0].y = -(sin(tmpvar_438));
      tmpvar_437[1].x = sin(tmpvar_438);
      tmpvar_437[1].y = cos(tmpvar_438);
      p_435 = (((pos_425 - 
        (0.5 * tmpvar_436)
      ) / tmpvar_436.y) * tmpvar_437);
      float color1_439;
      vec2 x_440;
      x_440 = (2.5 * p_435);
      float tmpvar_441;
      tmpvar_441 = (4.0 - (3.0 * sqrt(
        dot (x_440, x_440)
      )));
      color1_439 = tmpvar_441;
      float tmpvar_442;
      float tmpvar_443;
      tmpvar_443 = (min (abs(
        (p_435.x / p_435.y)
      ), 1.0) / max (abs(
        (p_435.x / p_435.y)
      ), 1.0));
      float tmpvar_444;
      tmpvar_444 = (tmpvar_443 * tmpvar_443);
      tmpvar_444 = (((
        ((((
          ((((-0.01213232 * tmpvar_444) + 0.05368138) * tmpvar_444) - 0.1173503)
         * tmpvar_444) + 0.1938925) * tmpvar_444) - 0.3326756)
       * tmpvar_444) + 0.9999793) * tmpvar_443);
      tmpvar_444 = (tmpvar_444 + (float(
        (abs((p_435.x / p_435.y)) > 1.0)
      ) * (
        (tmpvar_444 * -2.0)
       + 1.570796)));
      tmpvar_442 = (tmpvar_444 * sign((p_435.x / p_435.y)));
      if ((abs(p_435.y) > (1e-08 * abs(p_435.x)))) {
        if ((p_435.y < 0.0)) {
          if ((p_435.x >= 0.0)) {
            tmpvar_442 += 3.141593;
          } else {
            tmpvar_442 = (tmpvar_442 - 3.141593);
          };
        };
      } else {
        tmpvar_442 = (sign(p_435.x) * 1.570796);
      };
      vec3 tmpvar_445;
      tmpvar_445.z = 0.5;
      tmpvar_445.x = ((tmpvar_442 / 6.2832) + 0.5);
      tmpvar_445.y = (sqrt(dot (p_435, p_435)) * 0.4);
      vec3 tmpvar_446;
      tmpvar_446.x = 0.0;
      float tmpvar_447;
      tmpvar_447 = -(time);
      tmpvar_446.y = (tmpvar_447 * 0.05);
      tmpvar_446.z = (tmpvar_447 * 0.01);
      vec3 uv_448;
      uv_448 = (tmpvar_445 + tmpvar_446);
      vec3 f_449;
      uv_448 = (uv_448 * 32.0);
      vec3 tmpvar_450;
      tmpvar_450 = (floor((vec3(mod (uv_448, 32.0)))) * vec3(1.0, 100.0, 1000.0));
      vec3 tmpvar_451;
      tmpvar_451 = (floor((vec3(mod (
        (uv_448 + 1.0)
      , 32.0)))) * vec3(1.0, 100.0, 1000.0));
      vec3 tmpvar_452;
      tmpvar_452 = fract(uv_448);
      f_449 = ((tmpvar_452 * tmpvar_452) * (3.0 - (2.0 * tmpvar_452)));
      vec4 tmpvar_453;
      tmpvar_453.x = ((tmpvar_450.x + tmpvar_450.y) + tmpvar_450.z);
      tmpvar_453.y = ((tmpvar_451.x + tmpvar_450.y) + tmpvar_450.z);
      tmpvar_453.z = ((tmpvar_450.x + tmpvar_451.y) + tmpvar_450.z);
      tmpvar_453.w = ((tmpvar_451.x + tmpvar_451.y) + tmpvar_450.z);
      vec4 tmpvar_454;
      tmpvar_454 = fract((sin(
        (tmpvar_453 * 0.1)
      ) * 1000.0));
      vec4 tmpvar_455;
      tmpvar_455 = fract((sin(
        (((tmpvar_453 + tmpvar_451.z) - tmpvar_450.z) * 0.1)
      ) * 1000.0));
      color1_439 = (tmpvar_441 + (0.15 * (
        (mix (mix (mix (tmpvar_454.x, tmpvar_454.y, f_449.x), mix (tmpvar_454.z, tmpvar_454.w, f_449.x), f_449.y), mix (mix (tmpvar_455.x, tmpvar_455.y, f_449.x), mix (tmpvar_455.z, tmpvar_455.w, f_449.x), f_449.y), f_449.z) * 2.0)
       - 1.0)));
      if (best) {
        vec3 tmpvar_456;
        tmpvar_456.x = 0.0;
        float tmpvar_457;
        tmpvar_457 = -(time);
        tmpvar_456.y = (tmpvar_457 * 0.05);
        tmpvar_456.z = (tmpvar_457 * 0.01);
        vec3 uv_458;
        uv_458 = (tmpvar_445 + tmpvar_456);
        vec3 f_459;
        uv_458 = (uv_458 * 64.0);
        vec3 tmpvar_460;
        tmpvar_460 = (floor((vec3(mod (uv_458, 64.0)))) * vec3(1.0, 100.0, 1000.0));
        vec3 tmpvar_461;
        tmpvar_461 = (floor((vec3(mod (
          (uv_458 + 1.0)
        , 64.0)))) * vec3(1.0, 100.0, 1000.0));
        vec3 tmpvar_462;
        tmpvar_462 = fract(uv_458);
        f_459 = ((tmpvar_462 * tmpvar_462) * (3.0 - (2.0 * tmpvar_462)));
        vec4 tmpvar_463;
        tmpvar_463.x = ((tmpvar_460.x + tmpvar_460.y) + tmpvar_460.z);
        tmpvar_463.y = ((tmpvar_461.x + tmpvar_460.y) + tmpvar_460.z);
        tmpvar_463.z = ((tmpvar_460.x + tmpvar_461.y) + tmpvar_460.z);
        tmpvar_463.w = ((tmpvar_461.x + tmpvar_461.y) + tmpvar_460.z);
        vec4 tmpvar_464;
        tmpvar_464 = fract((sin(
          (tmpvar_463 * 0.1)
        ) * 1000.0));
        vec4 tmpvar_465;
        tmpvar_465 = fract((sin(
          (((tmpvar_463 + tmpvar_461.z) - tmpvar_460.z) * 0.1)
        ) * 1000.0));
        color1_439 = (color1_439 + (0.0375 * (
          (mix (mix (mix (tmpvar_464.x, tmpvar_464.y, f_459.x), mix (tmpvar_464.z, tmpvar_464.w, f_459.x), f_459.y), mix (mix (tmpvar_465.x, tmpvar_465.y, f_459.x), mix (tmpvar_465.z, tmpvar_465.w, f_459.x), f_459.y), f_459.z) * 2.0)
         - 1.0)));
        vec3 tmpvar_466;
        tmpvar_466.x = 0.0;
        tmpvar_466.y = (tmpvar_457 * 0.05);
        tmpvar_466.z = (tmpvar_457 * 0.01);
        vec3 uv_467;
        uv_467 = (tmpvar_445 + tmpvar_466);
        vec3 f_468;
        uv_467 = (uv_467 * 128.0);
        vec3 tmpvar_469;
        tmpvar_469 = (floor((vec3(mod (uv_467, 128.0)))) * vec3(1.0, 100.0, 1000.0));
        vec3 tmpvar_470;
        tmpvar_470 = (floor((vec3(mod (
          (uv_467 + 1.0)
        , 128.0)))) * vec3(1.0, 100.0, 1000.0));
        vec3 tmpvar_471;
        tmpvar_471 = fract(uv_467);
        f_468 = ((tmpvar_471 * tmpvar_471) * (3.0 - (2.0 * tmpvar_471)));
        vec4 tmpvar_472;
        tmpvar_472.x = ((tmpvar_469.x + tmpvar_469.y) + tmpvar_469.z);
        tmpvar_472.y = ((tmpvar_470.x + tmpvar_469.y) + tmpvar_469.z);
        tmpvar_472.z = ((tmpvar_469.x + tmpvar_470.y) + tmpvar_469.z);
        tmpvar_472.w = ((tmpvar_470.x + tmpvar_470.y) + tmpvar_469.z);
        vec4 tmpvar_473;
        tmpvar_473 = fract((sin(
          (tmpvar_472 * 0.1)
        ) * 1000.0));
        vec4 tmpvar_474;
        tmpvar_474 = fract((sin(
          (((tmpvar_472 + tmpvar_470.z) - tmpvar_469.z) * 0.1)
        ) * 1000.0));
        color1_439 = (color1_439 + (0.01875 * (
          (mix (mix (mix (tmpvar_473.x, tmpvar_473.y, f_468.x), mix (tmpvar_473.z, tmpvar_473.w, f_468.x), f_468.y), mix (mix (tmpvar_474.x, tmpvar_474.y, f_468.x), mix (tmpvar_474.z, tmpvar_474.w, f_468.x), f_468.y), f_468.z) * 2.0)
         - 1.0)));
      };
      color1_439 = (color1_439 * 0.6);
      vec4 tmpvar_475;
      tmpvar_475.w = 1.0;
      tmpvar_475.xyz = (vec3(0.7, 0.3556, 0.364) * vec3(color1_439));
      col_426 = ((tmpvar_475.xyz * 1.4) * tmpvar_434);
      vec4 tmpvar_476;
      tmpvar_476.xyz = col_426;
      tmpvar_476.w = tmpvar_434;
      cxu_315 = tmpvar_476;
    } else {
      cxu_315 = vec4(0.0, 0.0, 0.0, 0.0);
    };
    float tmpvar_477;
    float tmpvar_478;
    tmpvar_478 = (zoom * 5000.0);
    tmpvar_477 = (tmpvar_478 / 2.1251);
    vec2 tmpvar_479;
    tmpvar_479 = (((tmpvar_2 - 
      (planetpos1 * zoom)
    ) - shippos) - (tmpvar_478 / 2.0));
    float tmpvar_480;
    tmpvar_480 = sqrt(((
      (-(tmpvar_477) * tmpvar_477)
     + 
      (tmpvar_479.x * tmpvar_479.x)
    ) + (tmpvar_479.y * tmpvar_479.y)));
    float tmpvar_481;
    tmpvar_481 = max (0.0, ((
      ((tmpvar_477 * 0.12) / tmpvar_480)
     - 0.574) + 0.3));
    vec3 tmpvar_482;
    tmpvar_482.xy = tmpvar_479;
    tmpvar_482.z = tmpvar_480;
    float tmpvar_483;
    tmpvar_483 = max (0.0, normalize(tmpvar_482).z);
    vec4 tmpvar_484;
    tmpvar_484.w = 1.0;
    tmpvar_484.x = (tmpvar_481 * tmpvar_483);
    tmpvar_484.y = (tmpvar_481 * tmpvar_483);
    tmpvar_484.z = ((10.0 * tmpvar_481) * tmpvar_483);
    float tmpvar_485;
    tmpvar_485 = clamp (((tmpvar_321 - 1.2) / -0.2), 0.0, 1.0);
    tmpvar_311 = (((
      (max (vec4(0.0, 0.0, 0.0, 0.0), ((c_317.y + 
        ((tmpvar_322 - c_317.y) * c_317.x)
      ) * clamp (
        (9.0 - ((tmpvar_321 * tmpvar_321) * 9.0))
      , 0.0, 1.0))) * (vec4((1.0 - (1.0 - tmpvar_424))) + (cxu_315 * (1.0 - tmpvar_424))))
     + 
      (tmpvar_484 * (1.0 - clamp ((9.0 - 
        ((tmpvar_321 * tmpvar_321) * 9.0)
      ), 0.0, 1.0)))
    ) + (buff_11 * 
      (1.0 - clamp ((9.0 - (
        (tmpvar_321 * tmpvar_321)
       * 9.0)), 0.0, 1.0))
    )) + ((cxu_315 * 
      (tmpvar_485 * (tmpvar_485 * (3.0 - (2.0 * tmpvar_485))))
    ) * (1.0 - tmpvar_424)));
  } else {
    tmpvar_311 = buff_11;
  };
  buff_11 = tmpvar_311;
  vec4 tmpvar_486;
  vec2 tmpvar_487;
  tmpvar_487 = ((tmpvar_2 - (planetpos2 * zoom)) - shippos);
  vec2 x_488;
  float tmpvar_489;
  tmpvar_489 = (7500.0 * zoom);
  x_488 = (tmpvar_487 - tmpvar_489);
  float tmpvar_490;
  tmpvar_490 = float((sqrt(
    dot (x_488, x_488)
  ) >= tmpvar_489));
  if (((1.0 - tmpvar_490) > 0.0)) {
    vec4 tmpc_491;
    float bval_492;
    vec4 c_493;
    vec2 p_494;
    vec2 tmpvar_495;
    tmpvar_495 = vec2((15000.0 * zoom));
    vec2 tmpvar_496;
    tmpvar_496 = (((tmpvar_487 * 2.0) - tmpvar_495) / tmpvar_495.y);
    float tmpvar_497;
    tmpvar_497 = sqrt(dot (tmpvar_496, tmpvar_496));
    vec4 tmpvar_498;
    tmpvar_498 = (vec4(0.53, 0.952, 1.8, 1.0) + tmpvar_496.y);
    c_493 = tmpvar_498;
    p_494 = (((tmpvar_496 * 
      (sign(tmpvar_497) * (1.570796 - (sqrt(
        (1.0 - abs(tmpvar_497))
      ) * (1.570796 + 
        (abs(tmpvar_497) * (-0.2146018 + (abs(tmpvar_497) * (0.08656672 + 
          (abs(tmpvar_497) * -0.03102955)
        ))))
      ))))
    ) / tmpvar_497) - 5.0);
    p_494 = (p_494 * p_494.y);
    bval_492 = 0.01951;
    if (best) {
      bval_492 = 0.1;
      vec2 p_499;
      p_499 = (p_494 * 0.1);
      vec4 k_500;
      mat4 m_501;
      mat4 tmpvar_502;
      tmpvar_502[0].x = -1.0;
      tmpvar_502[0].y = 2.0;
      tmpvar_502[0].z = -2.0;
      tmpvar_502[0].w = 0.0;
      tmpvar_502[1].x = -2.0;
      tmpvar_502[1].y = 1.0;
      tmpvar_502[1].z = 3.0;
      tmpvar_502[1].w = 0.0;
      tmpvar_502[2].x = 3.0;
      tmpvar_502[2].y = 2.0;
      tmpvar_502[2].z = 1.0;
      tmpvar_502[2].w = 0.0;
      tmpvar_502[3].xy = (800.2 * p_499);
      tmpvar_502[3].zw = (vec2(time) + 10000.0);
      mat4 tmpvar_503;
      tmpvar_503[0].x = 1.0;
      tmpvar_503[0].y = 0.0;
      tmpvar_503[0].z = 0.0;
      tmpvar_503[0].w = 0.0;
      tmpvar_503[1].x = 0.0;
      tmpvar_503[1].y = 1.0;
      tmpvar_503[1].z = 0.0;
      tmpvar_503[1].w = 0.0;
      tmpvar_503[2].x = -1.244444;
      tmpvar_503[2].y = 0.0;
      tmpvar_503[2].z = 0.5555556;
      tmpvar_503[2].w = 0.0;
      tmpvar_503[3].x = 0.0;
      tmpvar_503[3].y = 0.0;
      tmpvar_503[3].z = 0.0;
      tmpvar_503[3].w = 1.0;
      m_501 = (tmpvar_502 * tmpvar_503);
      mat4 tmpvar_504;
      tmpvar_504 = (m_501 * 0.4);
      m_501 = tmpvar_504;
      vec4 tmpvar_505;
      tmpvar_505 = (tmpvar_504[3] * tmpvar_504);
      m_501[3] = tmpvar_505;
      vec4 x_506;
      x_506 = (fract(tmpvar_505) - 0.5);
      mat4 tmpvar_507;
      tmpvar_507 = (m_501 * -0.6);
      m_501 = tmpvar_507;
      vec4 tmpvar_508;
      tmpvar_508 = (tmpvar_507[3] * tmpvar_507);
      m_501[3] = tmpvar_508;
      vec4 x_509;
      x_509 = (fract(tmpvar_508) - 0.5);
      mat4 tmpvar_510;
      tmpvar_510 = (m_501 * -1.6);
      m_501 = tmpvar_510;
      vec4 tmpvar_511;
      tmpvar_511 = (tmpvar_510[3] * tmpvar_510);
      m_501[3] = tmpvar_511;
      vec4 x_512;
      x_512 = (fract(tmpvar_511) - 0.5);
      k_500 = (min (min (
        sqrt(dot (x_506, x_506))
      , 
        sqrt(dot (x_509, x_509))
      ), sqrt(
        dot (x_512, x_512)
      )) / m_501[2]);
      vec2 p_513;
      float r_514;
      p_513.y = (p_499.y - 0.8505124);
      p_513.x = (p_499.x - 2.005062);
      float tmpvar_515;
      float tmpvar_516;
      tmpvar_516 = (min (abs(
        (p_513.y / p_513.x)
      ), 1.0) / max (abs(
        (p_513.y / p_513.x)
      ), 1.0));
      float tmpvar_517;
      tmpvar_517 = (tmpvar_516 * tmpvar_516);
      tmpvar_517 = (((
        ((((
          ((((-0.01213232 * tmpvar_517) + 0.05368138) * tmpvar_517) - 0.1173503)
         * tmpvar_517) + 0.1938925) * tmpvar_517) - 0.3326756)
       * tmpvar_517) + 0.9999793) * tmpvar_516);
      tmpvar_517 = (tmpvar_517 + (float(
        (abs((p_513.y / p_513.x)) > 1.0)
      ) * (
        (tmpvar_517 * -2.0)
       + 1.570796)));
      tmpvar_515 = (tmpvar_517 * sign((p_513.y / p_513.x)));
      if ((abs(p_513.x) > (1e-08 * abs(p_513.y)))) {
        if ((p_513.x < 0.0)) {
          if ((p_513.y >= 0.0)) {
            tmpvar_515 += 3.141593;
          } else {
            tmpvar_515 = (tmpvar_515 - 3.141593);
          };
        };
      } else {
        tmpvar_515 = (sign(p_513.y) * 1.570796);
      };
      float tmpvar_518;
      tmpvar_518 = clamp (((tmpvar_515 - 0.8471932) / 0.2), 0.0, 1.0);
      float tmpvar_519;
      tmpvar_519 = clamp (((tmpvar_515 - 2.094386) / 0.2), 0.0, 1.0);
      r_514 = (sin((3.14158 * 
        ((tmpvar_515 - 1.047193) / 1.047193)
      )) * 0.2);
      r_514 = (r_514 + (abs(
        sin(((r_514 * 10.0) + (time * 0.1)))
      ) * 0.2));
      r_514 += 0.1;
      float tmpvar_520;
      tmpvar_520 = clamp (((
        sqrt(dot (p_513, p_513))
       - 0.4) / 0.2), 0.0, 1.0);
      float tmpvar_521;
      tmpvar_521 = clamp (((
        sqrt(dot (p_513, p_513))
       - 0.8) / (
        ((abs(sin(
          ((r_514 * 10.0) + time)
        )) * 0.2) + 2.0)
       - 0.8)), 0.0, 1.0);
      r_514 = (r_514 * ((tmpvar_520 * 
        (tmpvar_520 * (3.0 - (2.0 * tmpvar_520)))
      ) - (tmpvar_521 * 
        (tmpvar_521 * (3.0 - (2.0 * tmpvar_521)))
      )));
      vec2 xy_522;
      xy_522 = (p_513 + (time * 0.5));
      vec2 uv_523;
      vec2 tmpvar_524;
      tmpvar_524 = floor(xy_522);
      vec2 tmpvar_525;
      tmpvar_525 = (xy_522 - tmpvar_524);
      uv_523 = ((tmpvar_525 * tmpvar_525) * (3.0 - (2.0 * tmpvar_525)));
      float tmpvar_526;
      tmpvar_526 = fract((cos(
        dot (tmpvar_524, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_527;
      tmpvar_527.x = (tmpvar_524.x + 1.0);
      tmpvar_527.y = tmpvar_524.y;
      float tmpvar_528;
      tmpvar_528 = fract((cos(
        dot (tmpvar_527, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_529;
      tmpvar_529.x = tmpvar_524.x;
      tmpvar_529.y = (tmpvar_524.y + 1.0);
      float tmpvar_530;
      tmpvar_530 = fract((cos(
        dot (tmpvar_529, vec2(21.9898, 78.233))
      ) * 43758.55));
      r_514 = (r_514 * abs((
        ((tmpvar_526 + ((tmpvar_528 - tmpvar_526) * uv_523.x)) + ((tmpvar_530 - tmpvar_526) * uv_523.y))
       + 
        ((((
          (tmpvar_526 - tmpvar_528)
         - tmpvar_530) + fract(
          (cos(dot ((tmpvar_524 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
        )) * uv_523.x) * uv_523.y)
      )));
      r_514 = (r_514 * 15.0);
      vec4 tmpvar_531;
      tmpvar_531.w = 1.0;
      tmpvar_531.xyz = ((vec3(-1.29, -0.5, -0.1) * r_514) * ((tmpvar_518 * 
        (tmpvar_518 * (3.0 - (2.0 * tmpvar_518)))
      ) - (tmpvar_519 * 
        (tmpvar_519 * (3.0 - (2.0 * tmpvar_519)))
      )));
      float c_532;
      vec2 tmpvar_533;
      tmpvar_533 = (p_499 - vec2(0.5, 0.5));
      c_532 = ((cos(
        ((p_499.x * 80.0) - (time / 2.0))
      ) * 0.5) + 0.5);
      vec4 tmpvar_534;
      tmpvar_534.x = c_532;
      tmpvar_534.y = c_532;
      tmpvar_534.z = c_532;
      tmpvar_534.w = min (clamp ((1.0 - 
        sqrt(dot (tmpvar_533, tmpvar_533))
      ), 0.0, 1.0), c_532);
      c_493 = (tmpvar_498 + ((k_500 + tmpvar_531) + mix (vec4(-0.25, 0.0, 0.0, 1.0), tmpvar_534, tmpvar_534.w)));
      p_494 = (p_494 * 0.4);
      c_493 = (c_493 * 0.6);
      vec2 p_535;
      p_535 = (p_494 * 0.1);
      vec4 k_536;
      mat4 m_537;
      mat4 tmpvar_538;
      tmpvar_538[0].x = -1.0;
      tmpvar_538[0].y = 2.0;
      tmpvar_538[0].z = -2.0;
      tmpvar_538[0].w = 0.0;
      tmpvar_538[1].x = -2.0;
      tmpvar_538[1].y = 1.0;
      tmpvar_538[1].z = 3.0;
      tmpvar_538[1].w = 0.0;
      tmpvar_538[2].x = 3.0;
      tmpvar_538[2].y = 2.0;
      tmpvar_538[2].z = 1.0;
      tmpvar_538[2].w = 0.0;
      tmpvar_538[3].xy = (800.2 * p_535);
      tmpvar_538[3].zw = (vec2(time) + 10000.0);
      mat4 tmpvar_539;
      tmpvar_539[0].x = 1.0;
      tmpvar_539[0].y = 0.0;
      tmpvar_539[0].z = 0.0;
      tmpvar_539[0].w = 0.0;
      tmpvar_539[1].x = 0.0;
      tmpvar_539[1].y = 1.0;
      tmpvar_539[1].z = 0.0;
      tmpvar_539[1].w = 0.0;
      tmpvar_539[2].x = -1.244444;
      tmpvar_539[2].y = 0.0;
      tmpvar_539[2].z = 0.5555556;
      tmpvar_539[2].w = 0.0;
      tmpvar_539[3].x = 0.0;
      tmpvar_539[3].y = 0.0;
      tmpvar_539[3].z = 0.0;
      tmpvar_539[3].w = 1.0;
      m_537 = (tmpvar_538 * tmpvar_539);
      mat4 tmpvar_540;
      tmpvar_540 = (m_537 * 0.4);
      m_537 = tmpvar_540;
      vec4 tmpvar_541;
      tmpvar_541 = (tmpvar_540[3] * tmpvar_540);
      m_537[3] = tmpvar_541;
      vec4 x_542;
      x_542 = (fract(tmpvar_541) - 0.5);
      mat4 tmpvar_543;
      tmpvar_543 = (m_537 * -0.6);
      m_537 = tmpvar_543;
      vec4 tmpvar_544;
      tmpvar_544 = (tmpvar_543[3] * tmpvar_543);
      m_537[3] = tmpvar_544;
      vec4 x_545;
      x_545 = (fract(tmpvar_544) - 0.5);
      mat4 tmpvar_546;
      tmpvar_546 = (m_537 * -1.6);
      m_537 = tmpvar_546;
      vec4 tmpvar_547;
      tmpvar_547 = (tmpvar_546[3] * tmpvar_546);
      m_537[3] = tmpvar_547;
      vec4 x_548;
      x_548 = (fract(tmpvar_547) - 0.5);
      k_536 = (min (min (
        sqrt(dot (x_542, x_542))
      , 
        sqrt(dot (x_545, x_545))
      ), sqrt(
        dot (x_548, x_548)
      )) / m_537[2]);
      vec2 p_549;
      float r_550;
      p_549.y = (p_535.y - 0.8505124);
      p_549.x = (p_535.x - 2.005062);
      float tmpvar_551;
      float tmpvar_552;
      tmpvar_552 = (min (abs(
        (p_549.y / p_549.x)
      ), 1.0) / max (abs(
        (p_549.y / p_549.x)
      ), 1.0));
      float tmpvar_553;
      tmpvar_553 = (tmpvar_552 * tmpvar_552);
      tmpvar_553 = (((
        ((((
          ((((-0.01213232 * tmpvar_553) + 0.05368138) * tmpvar_553) - 0.1173503)
         * tmpvar_553) + 0.1938925) * tmpvar_553) - 0.3326756)
       * tmpvar_553) + 0.9999793) * tmpvar_552);
      tmpvar_553 = (tmpvar_553 + (float(
        (abs((p_549.y / p_549.x)) > 1.0)
      ) * (
        (tmpvar_553 * -2.0)
       + 1.570796)));
      tmpvar_551 = (tmpvar_553 * sign((p_549.y / p_549.x)));
      if ((abs(p_549.x) > (1e-08 * abs(p_549.y)))) {
        if ((p_549.x < 0.0)) {
          if ((p_549.y >= 0.0)) {
            tmpvar_551 += 3.141593;
          } else {
            tmpvar_551 = (tmpvar_551 - 3.141593);
          };
        };
      } else {
        tmpvar_551 = (sign(p_549.y) * 1.570796);
      };
      float tmpvar_554;
      tmpvar_554 = clamp (((tmpvar_551 - 0.8471932) / 0.2), 0.0, 1.0);
      float tmpvar_555;
      tmpvar_555 = clamp (((tmpvar_551 - 2.094386) / 0.2), 0.0, 1.0);
      r_550 = (sin((3.14158 * 
        ((tmpvar_551 - 1.047193) / 1.047193)
      )) * 0.2);
      r_550 = (r_550 + (abs(
        sin(((r_550 * 10.0) + (time * 0.1)))
      ) * 0.2));
      r_550 += 0.1;
      float tmpvar_556;
      tmpvar_556 = clamp (((
        sqrt(dot (p_549, p_549))
       - 0.4) / 0.2), 0.0, 1.0);
      float tmpvar_557;
      tmpvar_557 = clamp (((
        sqrt(dot (p_549, p_549))
       - 0.8) / (
        ((abs(sin(
          ((r_550 * 10.0) + time)
        )) * 0.2) + 2.0)
       - 0.8)), 0.0, 1.0);
      r_550 = (r_550 * ((tmpvar_556 * 
        (tmpvar_556 * (3.0 - (2.0 * tmpvar_556)))
      ) - (tmpvar_557 * 
        (tmpvar_557 * (3.0 - (2.0 * tmpvar_557)))
      )));
      vec2 xy_558;
      xy_558 = (p_549 + (time * 0.5));
      vec2 uv_559;
      vec2 tmpvar_560;
      tmpvar_560 = floor(xy_558);
      vec2 tmpvar_561;
      tmpvar_561 = (xy_558 - tmpvar_560);
      uv_559 = ((tmpvar_561 * tmpvar_561) * (3.0 - (2.0 * tmpvar_561)));
      float tmpvar_562;
      tmpvar_562 = fract((cos(
        dot (tmpvar_560, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_563;
      tmpvar_563.x = (tmpvar_560.x + 1.0);
      tmpvar_563.y = tmpvar_560.y;
      float tmpvar_564;
      tmpvar_564 = fract((cos(
        dot (tmpvar_563, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_565;
      tmpvar_565.x = tmpvar_560.x;
      tmpvar_565.y = (tmpvar_560.y + 1.0);
      float tmpvar_566;
      tmpvar_566 = fract((cos(
        dot (tmpvar_565, vec2(21.9898, 78.233))
      ) * 43758.55));
      r_550 = (r_550 * abs((
        ((tmpvar_562 + ((tmpvar_564 - tmpvar_562) * uv_559.x)) + ((tmpvar_566 - tmpvar_562) * uv_559.y))
       + 
        ((((
          (tmpvar_562 - tmpvar_564)
         - tmpvar_566) + fract(
          (cos(dot ((tmpvar_560 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
        )) * uv_559.x) * uv_559.y)
      )));
      r_550 = (r_550 * 15.0);
      vec4 tmpvar_567;
      tmpvar_567.w = 1.0;
      tmpvar_567.xyz = ((vec3(-1.29, -0.5, -0.1) * r_550) * ((tmpvar_554 * 
        (tmpvar_554 * (3.0 - (2.0 * tmpvar_554)))
      ) - (tmpvar_555 * 
        (tmpvar_555 * (3.0 - (2.0 * tmpvar_555)))
      )));
      float c_568;
      vec2 tmpvar_569;
      tmpvar_569 = (p_535 - vec2(0.5, 0.5));
      c_568 = ((cos(
        ((p_535.x * 80.0) - (time / 2.0))
      ) * 0.5) + 0.5);
      vec4 tmpvar_570;
      tmpvar_570.x = c_568;
      tmpvar_570.y = c_568;
      tmpvar_570.z = c_568;
      tmpvar_570.w = min (clamp ((1.0 - 
        sqrt(dot (tmpvar_569, tmpvar_569))
      ), 0.0, 1.0), c_568);
      c_493 = (c_493 + ((k_536 + tmpvar_567) + mix (vec4(-0.25, 0.0, 0.0, 1.0), tmpvar_570, tmpvar_570.w)));
      p_494 = (p_494 * 0.4);
      c_493 = (c_493 * 0.6);
      vec2 p_571;
      p_571 = (p_494 * 0.1);
      vec4 k_572;
      mat4 m_573;
      mat4 tmpvar_574;
      tmpvar_574[0].x = -1.0;
      tmpvar_574[0].y = 2.0;
      tmpvar_574[0].z = -2.0;
      tmpvar_574[0].w = 0.0;
      tmpvar_574[1].x = -2.0;
      tmpvar_574[1].y = 1.0;
      tmpvar_574[1].z = 3.0;
      tmpvar_574[1].w = 0.0;
      tmpvar_574[2].x = 3.0;
      tmpvar_574[2].y = 2.0;
      tmpvar_574[2].z = 1.0;
      tmpvar_574[2].w = 0.0;
      tmpvar_574[3].xy = (800.2 * p_571);
      tmpvar_574[3].zw = (vec2(time) + 10000.0);
      mat4 tmpvar_575;
      tmpvar_575[0].x = 1.0;
      tmpvar_575[0].y = 0.0;
      tmpvar_575[0].z = 0.0;
      tmpvar_575[0].w = 0.0;
      tmpvar_575[1].x = 0.0;
      tmpvar_575[1].y = 1.0;
      tmpvar_575[1].z = 0.0;
      tmpvar_575[1].w = 0.0;
      tmpvar_575[2].x = -1.244444;
      tmpvar_575[2].y = 0.0;
      tmpvar_575[2].z = 0.5555556;
      tmpvar_575[2].w = 0.0;
      tmpvar_575[3].x = 0.0;
      tmpvar_575[3].y = 0.0;
      tmpvar_575[3].z = 0.0;
      tmpvar_575[3].w = 1.0;
      m_573 = (tmpvar_574 * tmpvar_575);
      mat4 tmpvar_576;
      tmpvar_576 = (m_573 * 0.4);
      m_573 = tmpvar_576;
      vec4 tmpvar_577;
      tmpvar_577 = (tmpvar_576[3] * tmpvar_576);
      m_573[3] = tmpvar_577;
      vec4 x_578;
      x_578 = (fract(tmpvar_577) - 0.5);
      mat4 tmpvar_579;
      tmpvar_579 = (m_573 * -0.6);
      m_573 = tmpvar_579;
      vec4 tmpvar_580;
      tmpvar_580 = (tmpvar_579[3] * tmpvar_579);
      m_573[3] = tmpvar_580;
      vec4 x_581;
      x_581 = (fract(tmpvar_580) - 0.5);
      mat4 tmpvar_582;
      tmpvar_582 = (m_573 * -1.6);
      m_573 = tmpvar_582;
      vec4 tmpvar_583;
      tmpvar_583 = (tmpvar_582[3] * tmpvar_582);
      m_573[3] = tmpvar_583;
      vec4 x_584;
      x_584 = (fract(tmpvar_583) - 0.5);
      k_572 = (min (min (
        sqrt(dot (x_578, x_578))
      , 
        sqrt(dot (x_581, x_581))
      ), sqrt(
        dot (x_584, x_584)
      )) / m_573[2]);
      vec2 p_585;
      float r_586;
      p_585.y = (p_571.y - 0.8505124);
      p_585.x = (p_571.x - 2.005062);
      float tmpvar_587;
      float tmpvar_588;
      tmpvar_588 = (min (abs(
        (p_585.y / p_585.x)
      ), 1.0) / max (abs(
        (p_585.y / p_585.x)
      ), 1.0));
      float tmpvar_589;
      tmpvar_589 = (tmpvar_588 * tmpvar_588);
      tmpvar_589 = (((
        ((((
          ((((-0.01213232 * tmpvar_589) + 0.05368138) * tmpvar_589) - 0.1173503)
         * tmpvar_589) + 0.1938925) * tmpvar_589) - 0.3326756)
       * tmpvar_589) + 0.9999793) * tmpvar_588);
      tmpvar_589 = (tmpvar_589 + (float(
        (abs((p_585.y / p_585.x)) > 1.0)
      ) * (
        (tmpvar_589 * -2.0)
       + 1.570796)));
      tmpvar_587 = (tmpvar_589 * sign((p_585.y / p_585.x)));
      if ((abs(p_585.x) > (1e-08 * abs(p_585.y)))) {
        if ((p_585.x < 0.0)) {
          if ((p_585.y >= 0.0)) {
            tmpvar_587 += 3.141593;
          } else {
            tmpvar_587 = (tmpvar_587 - 3.141593);
          };
        };
      } else {
        tmpvar_587 = (sign(p_585.y) * 1.570796);
      };
      float tmpvar_590;
      tmpvar_590 = clamp (((tmpvar_587 - 0.8471932) / 0.2), 0.0, 1.0);
      float tmpvar_591;
      tmpvar_591 = clamp (((tmpvar_587 - 2.094386) / 0.2), 0.0, 1.0);
      r_586 = (sin((3.14158 * 
        ((tmpvar_587 - 1.047193) / 1.047193)
      )) * 0.2);
      r_586 = (r_586 + (abs(
        sin(((r_586 * 10.0) + (time * 0.1)))
      ) * 0.2));
      r_586 += 0.1;
      float tmpvar_592;
      tmpvar_592 = clamp (((
        sqrt(dot (p_585, p_585))
       - 0.4) / 0.2), 0.0, 1.0);
      float tmpvar_593;
      tmpvar_593 = clamp (((
        sqrt(dot (p_585, p_585))
       - 0.8) / (
        ((abs(sin(
          ((r_586 * 10.0) + time)
        )) * 0.2) + 2.0)
       - 0.8)), 0.0, 1.0);
      r_586 = (r_586 * ((tmpvar_592 * 
        (tmpvar_592 * (3.0 - (2.0 * tmpvar_592)))
      ) - (tmpvar_593 * 
        (tmpvar_593 * (3.0 - (2.0 * tmpvar_593)))
      )));
      vec2 xy_594;
      xy_594 = (p_585 + (time * 0.5));
      vec2 uv_595;
      vec2 tmpvar_596;
      tmpvar_596 = floor(xy_594);
      vec2 tmpvar_597;
      tmpvar_597 = (xy_594 - tmpvar_596);
      uv_595 = ((tmpvar_597 * tmpvar_597) * (3.0 - (2.0 * tmpvar_597)));
      float tmpvar_598;
      tmpvar_598 = fract((cos(
        dot (tmpvar_596, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_599;
      tmpvar_599.x = (tmpvar_596.x + 1.0);
      tmpvar_599.y = tmpvar_596.y;
      float tmpvar_600;
      tmpvar_600 = fract((cos(
        dot (tmpvar_599, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_601;
      tmpvar_601.x = tmpvar_596.x;
      tmpvar_601.y = (tmpvar_596.y + 1.0);
      float tmpvar_602;
      tmpvar_602 = fract((cos(
        dot (tmpvar_601, vec2(21.9898, 78.233))
      ) * 43758.55));
      r_586 = (r_586 * abs((
        ((tmpvar_598 + ((tmpvar_600 - tmpvar_598) * uv_595.x)) + ((tmpvar_602 - tmpvar_598) * uv_595.y))
       + 
        ((((
          (tmpvar_598 - tmpvar_600)
         - tmpvar_602) + fract(
          (cos(dot ((tmpvar_596 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
        )) * uv_595.x) * uv_595.y)
      )));
      r_586 = (r_586 * 15.0);
      vec4 tmpvar_603;
      tmpvar_603.w = 1.0;
      tmpvar_603.xyz = ((vec3(-1.29, -0.5, -0.1) * r_586) * ((tmpvar_590 * 
        (tmpvar_590 * (3.0 - (2.0 * tmpvar_590)))
      ) - (tmpvar_591 * 
        (tmpvar_591 * (3.0 - (2.0 * tmpvar_591)))
      )));
      float c_604;
      vec2 tmpvar_605;
      tmpvar_605 = (p_571 - vec2(0.5, 0.5));
      c_604 = ((cos(
        ((p_571.x * 80.0) - (time / 2.0))
      ) * 0.5) + 0.5);
      vec4 tmpvar_606;
      tmpvar_606.x = c_604;
      tmpvar_606.y = c_604;
      tmpvar_606.z = c_604;
      tmpvar_606.w = min (clamp ((1.0 - 
        sqrt(dot (tmpvar_605, tmpvar_605))
      ), 0.0, 1.0), c_604);
      c_493 = (c_493 + ((k_572 + tmpvar_603) + mix (vec4(-0.25, 0.0, 0.0, 1.0), tmpvar_606, tmpvar_606.w)));
      p_494 = (p_494 * 0.4);
      c_493 = (c_493 * 0.6);
    };
    vec2 p_607;
    p_607 = (p_494 * bval_492);
    vec4 k_608;
    mat4 m_609;
    mat4 tmpvar_610;
    tmpvar_610[0].x = -1.0;
    tmpvar_610[0].y = 2.0;
    tmpvar_610[0].z = -2.0;
    tmpvar_610[0].w = 0.0;
    tmpvar_610[1].x = -2.0;
    tmpvar_610[1].y = 1.0;
    tmpvar_610[1].z = 3.0;
    tmpvar_610[1].w = 0.0;
    tmpvar_610[2].x = 3.0;
    tmpvar_610[2].y = 2.0;
    tmpvar_610[2].z = 1.0;
    tmpvar_610[2].w = 0.0;
    tmpvar_610[3].xy = (800.2 * p_607);
    tmpvar_610[3].zw = (vec2(time) + 10000.0);
    mat4 tmpvar_611;
    tmpvar_611[0].x = 1.0;
    tmpvar_611[0].y = 0.0;
    tmpvar_611[0].z = 0.0;
    tmpvar_611[0].w = 0.0;
    tmpvar_611[1].x = 0.0;
    tmpvar_611[1].y = 1.0;
    tmpvar_611[1].z = 0.0;
    tmpvar_611[1].w = 0.0;
    tmpvar_611[2].x = -1.244444;
    tmpvar_611[2].y = 0.0;
    tmpvar_611[2].z = 0.5555556;
    tmpvar_611[2].w = 0.0;
    tmpvar_611[3].x = 0.0;
    tmpvar_611[3].y = 0.0;
    tmpvar_611[3].z = 0.0;
    tmpvar_611[3].w = 1.0;
    m_609 = (tmpvar_610 * tmpvar_611);
    mat4 tmpvar_612;
    tmpvar_612 = (m_609 * 0.4);
    m_609 = tmpvar_612;
    vec4 tmpvar_613;
    tmpvar_613 = (tmpvar_612[3] * tmpvar_612);
    m_609[3] = tmpvar_613;
    vec4 x_614;
    x_614 = (fract(tmpvar_613) - 0.5);
    mat4 tmpvar_615;
    tmpvar_615 = (m_609 * -0.6);
    m_609 = tmpvar_615;
    vec4 tmpvar_616;
    tmpvar_616 = (tmpvar_615[3] * tmpvar_615);
    m_609[3] = tmpvar_616;
    vec4 x_617;
    x_617 = (fract(tmpvar_616) - 0.5);
    mat4 tmpvar_618;
    tmpvar_618 = (m_609 * -1.6);
    m_609 = tmpvar_618;
    vec4 tmpvar_619;
    tmpvar_619 = (tmpvar_618[3] * tmpvar_618);
    m_609[3] = tmpvar_619;
    vec4 x_620;
    x_620 = (fract(tmpvar_619) - 0.5);
    k_608 = (min (min (
      sqrt(dot (x_614, x_614))
    , 
      sqrt(dot (x_617, x_617))
    ), sqrt(
      dot (x_620, x_620)
    )) / m_609[2]);
    vec2 p_621;
    float r_622;
    p_621.y = (p_607.y - 0.8505124);
    p_621.x = (p_607.x - 2.005062);
    float tmpvar_623;
    float tmpvar_624;
    tmpvar_624 = (min (abs(
      (p_621.y / p_621.x)
    ), 1.0) / max (abs(
      (p_621.y / p_621.x)
    ), 1.0));
    float tmpvar_625;
    tmpvar_625 = (tmpvar_624 * tmpvar_624);
    tmpvar_625 = (((
      ((((
        ((((-0.01213232 * tmpvar_625) + 0.05368138) * tmpvar_625) - 0.1173503)
       * tmpvar_625) + 0.1938925) * tmpvar_625) - 0.3326756)
     * tmpvar_625) + 0.9999793) * tmpvar_624);
    tmpvar_625 = (tmpvar_625 + (float(
      (abs((p_621.y / p_621.x)) > 1.0)
    ) * (
      (tmpvar_625 * -2.0)
     + 1.570796)));
    tmpvar_623 = (tmpvar_625 * sign((p_621.y / p_621.x)));
    if ((abs(p_621.x) > (1e-08 * abs(p_621.y)))) {
      if ((p_621.x < 0.0)) {
        if ((p_621.y >= 0.0)) {
          tmpvar_623 += 3.141593;
        } else {
          tmpvar_623 = (tmpvar_623 - 3.141593);
        };
      };
    } else {
      tmpvar_623 = (sign(p_621.y) * 1.570796);
    };
    float tmpvar_626;
    tmpvar_626 = clamp (((tmpvar_623 - 0.8471932) / 0.2), 0.0, 1.0);
    float tmpvar_627;
    tmpvar_627 = clamp (((tmpvar_623 - 2.094386) / 0.2), 0.0, 1.0);
    r_622 = (sin((3.14158 * 
      ((tmpvar_623 - 1.047193) / 1.047193)
    )) * 0.2);
    r_622 = (r_622 + (abs(
      sin(((r_622 * 10.0) + (time * 0.1)))
    ) * 0.2));
    r_622 += 0.1;
    float tmpvar_628;
    tmpvar_628 = clamp (((
      sqrt(dot (p_621, p_621))
     - 0.4) / 0.2), 0.0, 1.0);
    float tmpvar_629;
    tmpvar_629 = clamp (((
      sqrt(dot (p_621, p_621))
     - 0.8) / (
      ((abs(sin(
        ((r_622 * 10.0) + time)
      )) * 0.2) + 2.0)
     - 0.8)), 0.0, 1.0);
    r_622 = (r_622 * ((tmpvar_628 * 
      (tmpvar_628 * (3.0 - (2.0 * tmpvar_628)))
    ) - (tmpvar_629 * 
      (tmpvar_629 * (3.0 - (2.0 * tmpvar_629)))
    )));
    vec2 xy_630;
    xy_630 = (p_621 + (time * 0.5));
    vec2 uv_631;
    vec2 tmpvar_632;
    tmpvar_632 = floor(xy_630);
    vec2 tmpvar_633;
    tmpvar_633 = (xy_630 - tmpvar_632);
    uv_631 = ((tmpvar_633 * tmpvar_633) * (3.0 - (2.0 * tmpvar_633)));
    float tmpvar_634;
    tmpvar_634 = fract((cos(
      dot (tmpvar_632, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_635;
    tmpvar_635.x = (tmpvar_632.x + 1.0);
    tmpvar_635.y = tmpvar_632.y;
    float tmpvar_636;
    tmpvar_636 = fract((cos(
      dot (tmpvar_635, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_637;
    tmpvar_637.x = tmpvar_632.x;
    tmpvar_637.y = (tmpvar_632.y + 1.0);
    float tmpvar_638;
    tmpvar_638 = fract((cos(
      dot (tmpvar_637, vec2(21.9898, 78.233))
    ) * 43758.55));
    r_622 = (r_622 * abs((
      ((tmpvar_634 + ((tmpvar_636 - tmpvar_634) * uv_631.x)) + ((tmpvar_638 - tmpvar_634) * uv_631.y))
     + 
      ((((
        (tmpvar_634 - tmpvar_636)
       - tmpvar_638) + fract(
        (cos(dot ((tmpvar_632 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
      )) * uv_631.x) * uv_631.y)
    )));
    r_622 = (r_622 * 15.0);
    vec4 tmpvar_639;
    tmpvar_639.w = 1.0;
    tmpvar_639.xyz = ((vec3(-1.29, -0.5, -0.1) * r_622) * ((tmpvar_626 * 
      (tmpvar_626 * (3.0 - (2.0 * tmpvar_626)))
    ) - (tmpvar_627 * 
      (tmpvar_627 * (3.0 - (2.0 * tmpvar_627)))
    )));
    float c_640;
    vec2 tmpvar_641;
    tmpvar_641 = (p_607 - vec2(0.5, 0.5));
    c_640 = ((cos(
      ((p_607.x * 80.0) - (time / 2.0))
    ) * 0.5) + 0.5);
    vec4 tmpvar_642;
    tmpvar_642.x = c_640;
    tmpvar_642.y = c_640;
    tmpvar_642.z = c_640;
    tmpvar_642.w = min (clamp ((1.0 - 
      sqrt(dot (tmpvar_641, tmpvar_641))
    ), 0.0, 1.0), c_640);
    c_493 = (c_493 + ((k_608 + tmpvar_639) + mix (vec4(-0.25, 0.0, 0.0, 1.0), tmpvar_642, tmpvar_642.w)));
    p_494 = (p_494 * 0.4);
    c_493 = (c_493 * 0.6);
    vec2 p_643;
    p_643 = (p_494 * bval_492);
    vec4 k_644;
    mat4 m_645;
    mat4 tmpvar_646;
    tmpvar_646[0].x = -1.0;
    tmpvar_646[0].y = 2.0;
    tmpvar_646[0].z = -2.0;
    tmpvar_646[0].w = 0.0;
    tmpvar_646[1].x = -2.0;
    tmpvar_646[1].y = 1.0;
    tmpvar_646[1].z = 3.0;
    tmpvar_646[1].w = 0.0;
    tmpvar_646[2].x = 3.0;
    tmpvar_646[2].y = 2.0;
    tmpvar_646[2].z = 1.0;
    tmpvar_646[2].w = 0.0;
    tmpvar_646[3].xy = (800.2 * p_643);
    tmpvar_646[3].zw = (vec2(time) + 10000.0);
    mat4 tmpvar_647;
    tmpvar_647[0].x = 1.0;
    tmpvar_647[0].y = 0.0;
    tmpvar_647[0].z = 0.0;
    tmpvar_647[0].w = 0.0;
    tmpvar_647[1].x = 0.0;
    tmpvar_647[1].y = 1.0;
    tmpvar_647[1].z = 0.0;
    tmpvar_647[1].w = 0.0;
    tmpvar_647[2].x = -1.244444;
    tmpvar_647[2].y = 0.0;
    tmpvar_647[2].z = 0.5555556;
    tmpvar_647[2].w = 0.0;
    tmpvar_647[3].x = 0.0;
    tmpvar_647[3].y = 0.0;
    tmpvar_647[3].z = 0.0;
    tmpvar_647[3].w = 1.0;
    m_645 = (tmpvar_646 * tmpvar_647);
    mat4 tmpvar_648;
    tmpvar_648 = (m_645 * 0.4);
    m_645 = tmpvar_648;
    vec4 tmpvar_649;
    tmpvar_649 = (tmpvar_648[3] * tmpvar_648);
    m_645[3] = tmpvar_649;
    vec4 x_650;
    x_650 = (fract(tmpvar_649) - 0.5);
    mat4 tmpvar_651;
    tmpvar_651 = (m_645 * -0.6);
    m_645 = tmpvar_651;
    vec4 tmpvar_652;
    tmpvar_652 = (tmpvar_651[3] * tmpvar_651);
    m_645[3] = tmpvar_652;
    vec4 x_653;
    x_653 = (fract(tmpvar_652) - 0.5);
    mat4 tmpvar_654;
    tmpvar_654 = (m_645 * -1.6);
    m_645 = tmpvar_654;
    vec4 tmpvar_655;
    tmpvar_655 = (tmpvar_654[3] * tmpvar_654);
    m_645[3] = tmpvar_655;
    vec4 x_656;
    x_656 = (fract(tmpvar_655) - 0.5);
    k_644 = (min (min (
      sqrt(dot (x_650, x_650))
    , 
      sqrt(dot (x_653, x_653))
    ), sqrt(
      dot (x_656, x_656)
    )) / m_645[2]);
    vec2 p_657;
    float r_658;
    p_657.y = (p_643.y - 0.8505124);
    p_657.x = (p_643.x - 2.005062);
    float tmpvar_659;
    float tmpvar_660;
    tmpvar_660 = (min (abs(
      (p_657.y / p_657.x)
    ), 1.0) / max (abs(
      (p_657.y / p_657.x)
    ), 1.0));
    float tmpvar_661;
    tmpvar_661 = (tmpvar_660 * tmpvar_660);
    tmpvar_661 = (((
      ((((
        ((((-0.01213232 * tmpvar_661) + 0.05368138) * tmpvar_661) - 0.1173503)
       * tmpvar_661) + 0.1938925) * tmpvar_661) - 0.3326756)
     * tmpvar_661) + 0.9999793) * tmpvar_660);
    tmpvar_661 = (tmpvar_661 + (float(
      (abs((p_657.y / p_657.x)) > 1.0)
    ) * (
      (tmpvar_661 * -2.0)
     + 1.570796)));
    tmpvar_659 = (tmpvar_661 * sign((p_657.y / p_657.x)));
    if ((abs(p_657.x) > (1e-08 * abs(p_657.y)))) {
      if ((p_657.x < 0.0)) {
        if ((p_657.y >= 0.0)) {
          tmpvar_659 += 3.141593;
        } else {
          tmpvar_659 = (tmpvar_659 - 3.141593);
        };
      };
    } else {
      tmpvar_659 = (sign(p_657.y) * 1.570796);
    };
    float tmpvar_662;
    tmpvar_662 = clamp (((tmpvar_659 - 0.8471932) / 0.2), 0.0, 1.0);
    float tmpvar_663;
    tmpvar_663 = clamp (((tmpvar_659 - 2.094386) / 0.2), 0.0, 1.0);
    r_658 = (sin((3.14158 * 
      ((tmpvar_659 - 1.047193) / 1.047193)
    )) * 0.2);
    r_658 = (r_658 + (abs(
      sin(((r_658 * 10.0) + (time * 0.1)))
    ) * 0.2));
    r_658 += 0.1;
    float tmpvar_664;
    tmpvar_664 = clamp (((
      sqrt(dot (p_657, p_657))
     - 0.4) / 0.2), 0.0, 1.0);
    float tmpvar_665;
    tmpvar_665 = clamp (((
      sqrt(dot (p_657, p_657))
     - 0.8) / (
      ((abs(sin(
        ((r_658 * 10.0) + time)
      )) * 0.2) + 2.0)
     - 0.8)), 0.0, 1.0);
    r_658 = (r_658 * ((tmpvar_664 * 
      (tmpvar_664 * (3.0 - (2.0 * tmpvar_664)))
    ) - (tmpvar_665 * 
      (tmpvar_665 * (3.0 - (2.0 * tmpvar_665)))
    )));
    vec2 xy_666;
    xy_666 = (p_657 + (time * 0.5));
    vec2 uv_667;
    vec2 tmpvar_668;
    tmpvar_668 = floor(xy_666);
    vec2 tmpvar_669;
    tmpvar_669 = (xy_666 - tmpvar_668);
    uv_667 = ((tmpvar_669 * tmpvar_669) * (3.0 - (2.0 * tmpvar_669)));
    float tmpvar_670;
    tmpvar_670 = fract((cos(
      dot (tmpvar_668, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_671;
    tmpvar_671.x = (tmpvar_668.x + 1.0);
    tmpvar_671.y = tmpvar_668.y;
    float tmpvar_672;
    tmpvar_672 = fract((cos(
      dot (tmpvar_671, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_673;
    tmpvar_673.x = tmpvar_668.x;
    tmpvar_673.y = (tmpvar_668.y + 1.0);
    float tmpvar_674;
    tmpvar_674 = fract((cos(
      dot (tmpvar_673, vec2(21.9898, 78.233))
    ) * 43758.55));
    r_658 = (r_658 * abs((
      ((tmpvar_670 + ((tmpvar_672 - tmpvar_670) * uv_667.x)) + ((tmpvar_674 - tmpvar_670) * uv_667.y))
     + 
      ((((
        (tmpvar_670 - tmpvar_672)
       - tmpvar_674) + fract(
        (cos(dot ((tmpvar_668 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
      )) * uv_667.x) * uv_667.y)
    )));
    r_658 = (r_658 * 15.0);
    vec4 tmpvar_675;
    tmpvar_675.w = 1.0;
    tmpvar_675.xyz = ((vec3(-1.29, -0.5, -0.1) * r_658) * ((tmpvar_662 * 
      (tmpvar_662 * (3.0 - (2.0 * tmpvar_662)))
    ) - (tmpvar_663 * 
      (tmpvar_663 * (3.0 - (2.0 * tmpvar_663)))
    )));
    float c_676;
    vec2 tmpvar_677;
    tmpvar_677 = (p_643 - vec2(0.5, 0.5));
    c_676 = ((cos(
      ((p_643.x * 80.0) - (time / 2.0))
    ) * 0.5) + 0.5);
    vec4 tmpvar_678;
    tmpvar_678.x = c_676;
    tmpvar_678.y = c_676;
    tmpvar_678.z = c_676;
    tmpvar_678.w = min (clamp ((1.0 - 
      sqrt(dot (tmpvar_677, tmpvar_677))
    ), 0.0, 1.0), c_676);
    c_493 = (c_493 + ((k_644 + tmpvar_675) + mix (vec4(-0.25, 0.0, 0.0, 1.0), tmpvar_678, tmpvar_678.w)));
    p_494 = (p_494 * 0.4);
    c_493 = (c_493 * 0.6);
    vec4 tmpvar_679;
    tmpvar_679 = max (vec4(0.0, 0.0, 0.0, 0.0), ((
      (c_493.y + ((tmpvar_498 - c_493.y) * c_493.x))
     * 
      clamp ((9.0 - ((tmpvar_497 * tmpvar_497) * 9.0)), 0.0, 1.0)
    ) + (tmpvar_311 * 
      (1.0 - clamp ((9.0 - (
        (tmpvar_497 * tmpvar_497)
       * 9.0)), 0.0, 1.0))
    )));
    tmpc_491.zw = tmpvar_679.zw;
    tmpc_491.x = (tmpvar_679.x * 0.55);
    tmpc_491.y = (tmpvar_679.y * 0.725);
    tmpvar_486 = tmpc_491;
  } else {
    tmpvar_486 = tmpvar_311;
  };
  buff_11 = tmpvar_486;
  vec4 tmpvar_680;
  vec2 tmpvar_681;
  tmpvar_681 = ((tmpvar_2 - (planetpos3 * zoom)) - shippos);
  vec2 x_682;
  float tmpvar_683;
  tmpvar_683 = (10000.0 * zoom);
  x_682 = (tmpvar_681 - tmpvar_683);
  float tmpvar_684;
  tmpvar_684 = float((sqrt(
    dot (x_682, x_682)
  ) >= tmpvar_683));
  if (((1.0 - tmpvar_684) > 0.0)) {
    vec4 c_685;
    vec2 p_686;
    vec2 tmpvar_687;
    tmpvar_687 = vec2((20000.0 * zoom));
    vec2 tmpvar_688;
    tmpvar_688 = (((tmpvar_681 * 2.0) - tmpvar_687) / tmpvar_687.y);
    float tmpvar_689;
    tmpvar_689 = sqrt(dot (tmpvar_688, tmpvar_688));
    vec4 tmpvar_690;
    tmpvar_690 = (vec4(0.43, 0.442, 0.4, 1.0) + tmpvar_688.y);
    c_685 = tmpvar_690;
    p_686 = (((tmpvar_688 * 
      (sign(tmpvar_689) * (1.570796 - (sqrt(
        (1.0 - abs(tmpvar_689))
      ) * (1.570796 + 
        (abs(tmpvar_689) * (-0.2146018 + (abs(tmpvar_689) * (0.08656672 + 
          (abs(tmpvar_689) * -0.03102955)
        ))))
      ))))
    ) / tmpvar_689) - 5.0);
    p_686 = (p_686 * p_686.y);
    if (best) {
      vec2 fragCoord_691;
      fragCoord_691 = (p_686 * 0.0390151);
      vec3 color_692;
      vec2 tmpvar_693;
      tmpvar_693 = (fragCoord_691 * 0.51);
      vec2 tmpvar_694;
      tmpvar_694.y = 0.5;
      tmpvar_694.x = (0.5 - (0.015 * sin(
        (time / 3.0)
      )));
      vec2 tmpvar_695;
      tmpvar_695.x = tmpvar_694.x;
      tmpvar_695.y = 0.5;
      vec2 tmpvar_696;
      tmpvar_696 = (mat2(0.866, 0.5, -0.5, 0.866) * (tmpvar_693 - tmpvar_695));
      vec2 x_697;
      x_697 = (tmpvar_693 - tmpvar_695);
      vec3 tmpvar_698;
      tmpvar_698 = mix (mix (mix (vec3(1.5, 1.294, 1.908235), vec3(1.0, 0.0504019, -0.806), 
        (0.5 * (1.0 + sin((60.0 * tmpvar_696.y))))
      ), vec3(1.0, 1.0, 0.5), (0.5 * 
        (1.0 + sin(((80.0 * tmpvar_696.y) * tmpvar_696.y)))
      )), color_692, pow (sqrt(
        dot (x_697, x_697)
      ), 80.0));
      color_692 = tmpvar_698;
      vec4 tmpvar_699;
      tmpvar_699.w = 1.0;
      tmpvar_699.xyz = tmpvar_698;
      vec4 d_700;
      vec2 tmpvar_701;
      tmpvar_701 = ((fragCoord_691 * 0.525) + 2.9);
      d_700.zw = vec2((time * 0.081));
      d_700.y = (tmpvar_701.y * 0.015);
      d_700.x = (tmpvar_701.x * 0.725);
      d_700.xyw = (d_700.xyw * mat3(-1.0, -0.5, 1.0, 1.5, -1.0, 0.5, 0.5, 1.0, 1.0));
      vec3 x_702;
      x_702 = (0.5 - fract(d_700.xyw));
      d_700.xyw = (d_700.xyw * mat3(-0.8, -0.4, 0.8, 1.2, -0.8, 0.4, 0.4, 0.8, 0.8));
      vec3 x_703;
      x_703 = (0.5 - fract(d_700.xyw));
      d_700.xyw = (d_700.xyw * mat3(-0.6, -0.3, 0.6, 0.9, -0.6, 0.3, 0.3, 0.6, 0.6));
      vec3 x_704;
      x_704 = (0.5 - fract(d_700.xyw));
      c_685 = (tmpvar_690 + (tmpvar_699 * mix (vec4(0.208, 0.108, 0.0, 1.0), vec4(0.462, 0.44, 0.81, 1.0), 
        ((pow (min (
          min (sqrt(dot (x_702, x_702)), sqrt(dot (x_703, x_703)))
        , 
          sqrt(dot (x_704, x_704))
        ), 4.0) * 13.37) + (tmpvar_701.y * 1.55))
      )));
      p_686 = (p_686 * 0.4);
      c_685 = (c_685 * 0.3856);
    };
    vec2 fragCoord_705;
    fragCoord_705 = (p_686 * 0.0390151);
    vec3 color_706;
    vec2 tmpvar_707;
    tmpvar_707 = (fragCoord_705 * 0.51);
    vec2 tmpvar_708;
    tmpvar_708.y = 0.5;
    tmpvar_708.x = (0.5 - (0.015 * sin(
      (time / 3.0)
    )));
    vec2 tmpvar_709;
    tmpvar_709.x = tmpvar_708.x;
    tmpvar_709.y = 0.5;
    vec2 tmpvar_710;
    tmpvar_710 = (mat2(0.866, 0.5, -0.5, 0.866) * (tmpvar_707 - tmpvar_709));
    vec2 x_711;
    x_711 = (tmpvar_707 - tmpvar_709);
    vec3 tmpvar_712;
    tmpvar_712 = mix (mix (mix (vec3(1.5, 1.294, 1.908235), vec3(1.0, 0.0504019, -0.806), 
      (0.5 * (1.0 + sin((60.0 * tmpvar_710.y))))
    ), vec3(1.0, 1.0, 0.5), (0.5 * 
      (1.0 + sin(((80.0 * tmpvar_710.y) * tmpvar_710.y)))
    )), color_706, pow (sqrt(
      dot (x_711, x_711)
    ), 80.0));
    color_706 = tmpvar_712;
    vec4 tmpvar_713;
    tmpvar_713.w = 1.0;
    tmpvar_713.xyz = tmpvar_712;
    vec4 d_714;
    vec2 tmpvar_715;
    tmpvar_715 = ((fragCoord_705 * 0.525) + 2.9);
    d_714.zw = vec2((time * 0.081));
    d_714.y = (tmpvar_715.y * 0.015);
    d_714.x = (tmpvar_715.x * 0.725);
    d_714.xyw = (d_714.xyw * mat3(-1.0, -0.5, 1.0, 1.5, -1.0, 0.5, 0.5, 1.0, 1.0));
    vec3 x_716;
    x_716 = (0.5 - fract(d_714.xyw));
    d_714.xyw = (d_714.xyw * mat3(-0.8, -0.4, 0.8, 1.2, -0.8, 0.4, 0.4, 0.8, 0.8));
    vec3 x_717;
    x_717 = (0.5 - fract(d_714.xyw));
    d_714.xyw = (d_714.xyw * mat3(-0.6, -0.3, 0.6, 0.9, -0.6, 0.3, 0.3, 0.6, 0.6));
    vec3 x_718;
    x_718 = (0.5 - fract(d_714.xyw));
    c_685 = (c_685 + (tmpvar_713 * mix (vec4(0.208, 0.108, 0.0, 1.0), vec4(0.462, 0.44, 0.81, 1.0), 
      ((pow (min (
        min (sqrt(dot (x_716, x_716)), sqrt(dot (x_717, x_717)))
      , 
        sqrt(dot (x_718, x_718))
      ), 4.0) * 13.37) + (tmpvar_715.y * 1.55))
    )));
    p_686 = (p_686 * 0.4);
    c_685 = (c_685 * 0.3856);
    tmpvar_680 = (max (vec4(0.0, 0.0, 0.0, 0.0), (
      (c_685 * clamp ((9.0 - (
        (tmpvar_689 * tmpvar_689)
       * 9.0)), 0.0, 1.0))
     + 
      (tmpvar_486 * (1.0 - clamp ((9.0 - 
        ((tmpvar_689 * tmpvar_689) * 9.0)
      ), 0.0, 1.0)))
    )) * 0.755);
  } else {
    tmpvar_680 = tmpvar_486;
  };
  buff_11 = tmpvar_680;
  vec4 tmpvar_719;
  vec2 tmpvar_720;
  tmpvar_720 = ((tmpvar_2 - (planetpos4 * zoom)) - shippos);
  vec2 x_721;
  float tmpvar_722;
  tmpvar_722 = (12500.0 * zoom);
  x_721 = (tmpvar_720 - tmpvar_722);
  float tmpvar_723;
  tmpvar_723 = float((sqrt(
    dot (x_721, x_721)
  ) >= tmpvar_722));
  if (((1.0 - tmpvar_723) > 0.0)) {
    vec4 tmpc_724;
    vec4 c_725;
    vec2 p_726;
    vec2 tmpvar_727;
    tmpvar_727 = vec2((25000.0 * zoom));
    vec2 tmpvar_728;
    tmpvar_728 = (((tmpvar_720 * 2.0) - tmpvar_727) / tmpvar_727.y);
    float tmpvar_729;
    tmpvar_729 = sqrt(dot (tmpvar_728, tmpvar_728));
    vec4 tmpvar_730;
    tmpvar_730 = (vec4(0.43, 0.42, 0.678, 1.0) - min (0.59, abs(tmpvar_728.y)));
    c_725 = tmpvar_730;
    p_726 = (((tmpvar_728 * 
      (sign(tmpvar_729) * (1.570796 - (sqrt(
        (1.0 - abs(tmpvar_729))
      ) * (1.570796 + 
        (abs(tmpvar_729) * (-0.2146018 + (abs(tmpvar_729) * (0.08656672 + 
          (abs(tmpvar_729) * -0.03102955)
        ))))
      ))))
    ) / tmpvar_729) - 5.0);
    p_726 = (p_726 * p_726.y);
    vec4 col_731;
    float gg_733;
    float b_734;
    vec2 p_735;
    vec2 uv_736;
    vec2 tmpvar_737;
    tmpvar_737 = ((0.1851 * p_726) - 4.5);
    uv_736 = tmpvar_737;
    p_735 = tmpvar_737;
    float tmpvar_738;
    tmpvar_738 = (1.0 + sqrt(dot (tmpvar_737, tmpvar_737)));
    b_734 = tmpvar_738;
    vec2 g_739;
    g_739 = (tmpvar_737 * 1.4);
    vec4 f_740;
    f_740 = vec4(1.0, 1.0, 1.0, 1.0);
    vec2 U_741;
    vec4 O_742;
    U_741 = (g_739 * 200.0);
    O_742 = vec4(1.0, 1.0, 1.0, 1.0);
    vec2 tmpvar_743;
    tmpvar_743 = (U_741 / 8.0);
    U_741 = tmpvar_743;
    vec2 tmpvar_744;
    tmpvar_744 = ceil(tmpvar_743);
    float tmpvar_745;
    tmpvar_745 = sin((100000.0 * sqrt(
      dot (tmpvar_744, tmpvar_744)
    )));
    float tmpvar_746;
    if ((tmpvar_745 < 0.0)) {
      tmpvar_746 = tmpvar_743.x;
    } else {
      tmpvar_746 = tmpvar_743.y;
    };
    O_742 = (vec4(1.0, 1.0, 1.0, 1.0) + ((0.1 / 
      fract(tmpvar_746)
    ) - vec4(1.0, 1.0, 1.0, 1.0)));
    g_739 = (g_739 * 8.0);
    g_739.x = (g_739.x * 5.25);
    float tmpvar_747;
    float tmpvar_748;
    tmpvar_748 = (min (abs(
      (g_739.x / g_739.y)
    ), 1.0) / max (abs(
      (g_739.x / g_739.y)
    ), 1.0));
    float tmpvar_749;
    tmpvar_749 = (tmpvar_748 * tmpvar_748);
    tmpvar_749 = (((
      ((((
        ((((-0.01213232 * tmpvar_749) + 0.05368138) * tmpvar_749) - 0.1173503)
       * tmpvar_749) + 0.1938925) * tmpvar_749) - 0.3326756)
     * tmpvar_749) + 0.9999793) * tmpvar_748);
    tmpvar_749 = (tmpvar_749 + (float(
      (abs((g_739.x / g_739.y)) > 1.0)
    ) * (
      (tmpvar_749 * -2.0)
     + 1.570796)));
    tmpvar_747 = (tmpvar_749 * sign((g_739.x / g_739.y)));
    if ((abs(g_739.y) > (1e-08 * abs(g_739.x)))) {
      if ((g_739.y < 0.0)) {
        if ((g_739.x >= 0.0)) {
          tmpvar_747 += 3.141593;
        } else {
          tmpvar_747 = (tmpvar_747 - 3.141593);
        };
      };
    } else {
      tmpvar_747 = (sign(g_739.x) * 1.570796);
    };
    float tmpvar_750;
    tmpvar_750 = sqrt(dot (g_739, g_739));
    g_739.y = tmpvar_750;
    g_739.x = ((tmpvar_747 * 1.7) * floor(tmpvar_750));
    vec2 tmpvar_751;
    tmpvar_751 = floor(g_739);
    float tmpvar_752;
    tmpvar_752 = cos((60000.0 * sqrt(
      dot (tmpvar_751, tmpvar_751)
    )));
    float tmpvar_753;
    if ((tmpvar_752 < -0.8)) {
      tmpvar_753 = g_739.x;
    } else {
      tmpvar_753 = g_739.y;
    };
    f_740 = (vec4(1.0, 1.0, 1.0, 1.0) + (float(
      (0.6 >= (0.1 / fract(tmpvar_753)))
    ) - vec4(1.0, 1.0, 1.0, 1.0)));
    b_734 = (tmpvar_738 + ((f_740 * 
      max (0.0, (0.6 - O_742.x))
    ).x * 0.1));
    b_734 = (b_734 + (sin(time) * 0.01));
    p_735 = (tmpvar_737 * b_734);
    float tmpvar_754;
    tmpvar_754 = (time * 0.2);
    p_735.x = (p_735.x + (sin(tmpvar_754) * 2.0));
    p_735.y = (p_735.y + (cos(tmpvar_754) * 2.0));
    vec2 p_755;
    p_755 = ((p_735 * 0.1) + tmpvar_737);
    float q_757;
    q_757 = 0.0;
    for (float i_756 = 0.0; i_756 < 5.0; i_756 += 1.0) {
      q_757 = (q_757 + (0.028 + (i_756 * 0.01)));
      p_755.x = (p_755.x + ((
        (p_755.y * sin((iTime * 0.021)))
       * 0.1) + (
        sin((iTime * 0.05))
       * 1.2)));
      p_755.y = (p_755.y - ((
        (p_755.x * cos((iTime * 0.031)))
       * 0.1) + (
        cos((iTime * 0.05))
       * 1.2)));
      vec4 tmpvar_758;
      vec2 g_759;
      g_759 = ((vec2(mod (p_755, 4.0))) * 0.25);
      vec4 f_760;
      f_760 = vec4(1.0, 1.0, 1.0, 1.0);
      vec2 U_761;
      vec4 O_762;
      U_761 = (g_759 * 200.0);
      O_762 = vec4(1.0, 1.0, 1.0, 1.0);
      vec2 tmpvar_763;
      tmpvar_763 = (U_761 / 8.0);
      U_761 = tmpvar_763;
      vec2 tmpvar_764;
      tmpvar_764 = ceil(tmpvar_763);
      float tmpvar_765;
      tmpvar_765 = sin((100000.0 * sqrt(
        dot (tmpvar_764, tmpvar_764)
      )));
      float tmpvar_766;
      if ((tmpvar_765 < 0.0)) {
        tmpvar_766 = tmpvar_763.x;
      } else {
        tmpvar_766 = tmpvar_763.y;
      };
      O_762 = (vec4(1.0, 1.0, 1.0, 1.0) + ((0.1 / 
        fract(tmpvar_766)
      ) - vec4(1.0, 1.0, 1.0, 1.0)));
      g_759 = (g_759 * 8.0);
      g_759.x = (g_759.x * 5.25);
      float tmpvar_767;
      float tmpvar_768;
      tmpvar_768 = (min (abs(
        (g_759.x / g_759.y)
      ), 1.0) / max (abs(
        (g_759.x / g_759.y)
      ), 1.0));
      float tmpvar_769;
      tmpvar_769 = (tmpvar_768 * tmpvar_768);
      tmpvar_769 = (((
        ((((
          ((((-0.01213232 * tmpvar_769) + 0.05368138) * tmpvar_769) - 0.1173503)
         * tmpvar_769) + 0.1938925) * tmpvar_769) - 0.3326756)
       * tmpvar_769) + 0.9999793) * tmpvar_768);
      tmpvar_769 = (tmpvar_769 + (float(
        (abs((g_759.x / g_759.y)) > 1.0)
      ) * (
        (tmpvar_769 * -2.0)
       + 1.570796)));
      tmpvar_767 = (tmpvar_769 * sign((g_759.x / g_759.y)));
      if ((abs(g_759.y) > (1e-08 * abs(g_759.x)))) {
        if ((g_759.y < 0.0)) {
          if ((g_759.x >= 0.0)) {
            tmpvar_767 += 3.141593;
          } else {
            tmpvar_767 = (tmpvar_767 - 3.141593);
          };
        };
      } else {
        tmpvar_767 = (sign(g_759.x) * 1.570796);
      };
      float tmpvar_770;
      tmpvar_770 = sqrt(dot (g_759, g_759));
      g_759.y = tmpvar_770;
      g_759.x = ((tmpvar_767 * 1.7) * floor(tmpvar_770));
      vec2 tmpvar_771;
      tmpvar_771 = floor(g_759);
      float tmpvar_772;
      tmpvar_772 = cos((60000.0 * sqrt(
        dot (tmpvar_771, tmpvar_771)
      )));
      float tmpvar_773;
      if ((tmpvar_772 < -0.8)) {
        tmpvar_773 = g_759.x;
      } else {
        tmpvar_773 = g_759.y;
      };
      f_760 = (vec4(1.0, 1.0, 1.0, 1.0) + (float(
        (0.6 >= (0.1 / fract(tmpvar_773)))
      ) - vec4(1.0, 1.0, 1.0, 1.0)));
      tmpvar_758 = (f_760 * max (0.0, (0.6 - O_762.x)));
      if ((tmpvar_758.x < 0.1360704)) {
        break;
      };
      p_755 = (p_755 * 1.2);
    };
    gg_733 = 0.0;
    for (float g_732 = 0.0; g_732 < 6.0; g_732 += 1.0) {
      float tmpvar_774;
      tmpvar_774 = pow ((g_732 / 20.0), 0.5);
      vec2 p_775;
      p_775 = ((p_735 * 0.1) + (uv_736 * (tmpvar_774 + 
        (fract((cos(
          (dot ((uv_736 + p_735), vec2(2.31, 53.21)) * 124.123)
        ) * 412.0)) * (tmpvar_774 - pow ((
          (g_732 - 1.0)
         / 20.0), 0.5)))
      )));
      float q_777;
      q_777 = 0.0;
      for (float i_776 = 0.0; i_776 < 5.0; i_776 += 1.0) {
        q_777 = (q_777 + (0.028 + (i_776 * 0.01)));
        p_775.x = (p_775.x + ((
          (p_775.y * sin((iTime * 0.021)))
         * 0.1) + (
          sin((iTime * 0.05))
         * 1.2)));
        p_775.y = (p_775.y - ((
          (p_775.x * cos((iTime * 0.031)))
         * 0.1) + (
          cos((iTime * 0.05))
         * 1.2)));
        vec4 tmpvar_778;
        vec2 g_779;
        g_779 = ((vec2(mod (p_775, 4.0))) * 0.25);
        vec4 f_780;
        f_780 = vec4(1.0, 1.0, 1.0, 1.0);
        vec2 U_781;
        vec4 O_782;
        U_781 = (g_779 * 200.0);
        O_782 = vec4(1.0, 1.0, 1.0, 1.0);
        vec2 tmpvar_783;
        tmpvar_783 = (U_781 / 8.0);
        U_781 = tmpvar_783;
        vec2 tmpvar_784;
        tmpvar_784 = ceil(tmpvar_783);
        float tmpvar_785;
        tmpvar_785 = sin((100000.0 * sqrt(
          dot (tmpvar_784, tmpvar_784)
        )));
        float tmpvar_786;
        if ((tmpvar_785 < 0.0)) {
          tmpvar_786 = tmpvar_783.x;
        } else {
          tmpvar_786 = tmpvar_783.y;
        };
        O_782 = (vec4(1.0, 1.0, 1.0, 1.0) + ((0.1 / 
          fract(tmpvar_786)
        ) - vec4(1.0, 1.0, 1.0, 1.0)));
        g_779 = (g_779 * 8.0);
        g_779.x = (g_779.x * 5.25);
        float tmpvar_787;
        float tmpvar_788;
        tmpvar_788 = (min (abs(
          (g_779.x / g_779.y)
        ), 1.0) / max (abs(
          (g_779.x / g_779.y)
        ), 1.0));
        float tmpvar_789;
        tmpvar_789 = (tmpvar_788 * tmpvar_788);
        tmpvar_789 = (((
          ((((
            ((((-0.01213232 * tmpvar_789) + 0.05368138) * tmpvar_789) - 0.1173503)
           * tmpvar_789) + 0.1938925) * tmpvar_789) - 0.3326756)
         * tmpvar_789) + 0.9999793) * tmpvar_788);
        tmpvar_789 = (tmpvar_789 + (float(
          (abs((g_779.x / g_779.y)) > 1.0)
        ) * (
          (tmpvar_789 * -2.0)
         + 1.570796)));
        tmpvar_787 = (tmpvar_789 * sign((g_779.x / g_779.y)));
        if ((abs(g_779.y) > (1e-08 * abs(g_779.x)))) {
          if ((g_779.y < 0.0)) {
            if ((g_779.x >= 0.0)) {
              tmpvar_787 += 3.141593;
            } else {
              tmpvar_787 = (tmpvar_787 - 3.141593);
            };
          };
        } else {
          tmpvar_787 = (sign(g_779.x) * 1.570796);
        };
        float tmpvar_790;
        tmpvar_790 = sqrt(dot (g_779, g_779));
        g_779.y = tmpvar_790;
        g_779.x = ((tmpvar_787 * 1.7) * floor(tmpvar_790));
        vec2 tmpvar_791;
        tmpvar_791 = floor(g_779);
        float tmpvar_792;
        tmpvar_792 = cos((60000.0 * sqrt(
          dot (tmpvar_791, tmpvar_791)
        )));
        float tmpvar_793;
        if ((tmpvar_792 < -0.8)) {
          tmpvar_793 = g_779.x;
        } else {
          tmpvar_793 = g_779.y;
        };
        f_780 = (vec4(1.0, 1.0, 1.0, 1.0) + (float(
          (0.6 >= (0.1 / fract(tmpvar_793)))
        ) - vec4(1.0, 1.0, 1.0, 1.0)));
        tmpvar_778 = (f_780 * max (0.0, (0.6 - O_782.x)));
        if ((tmpvar_778.x < 0.1360704)) {
          break;
        };
        p_775 = (p_775 * 1.2);
      };
      gg_733 = (gg_733 + q_777);
    };
    float tmpvar_794;
    tmpvar_794 = mix ((gg_733 * 0.125), q_757, 0.25);
    vec4 tmpvar_795;
    tmpvar_795.w = 1.0;
    tmpvar_795.x = (tmpvar_794 * 4.0);
    tmpvar_795.y = (tmpvar_794 * 3.0);
    tmpvar_795.z = tmpvar_794;
    col_731 = (tmpvar_795 / (b_734 - 0.61));
    float tmpvar_796;
    tmpvar_796 = fract((cos(
      (dot ((tmpvar_737 + col_731.xy), vec2(2.31, 53.21)) * 124.123)
    ) * 412.0));
    vec4 tmpvar_797;
    tmpvar_797.w = 0.0;
    tmpvar_797.x = tmpvar_796;
    tmpvar_797.y = tmpvar_796;
    tmpvar_797.z = tmpvar_796;
    col_731 = (col_731 - (tmpvar_797 * 0.025));
    float tmpvar_798;
    tmpvar_798 = ((col_731.x + col_731.y) + col_731.z);
    vec4 tmpvar_799;
    tmpvar_799.w = 1.0;
    tmpvar_799.x = tmpvar_798;
    tmpvar_799.y = tmpvar_798;
    tmpvar_799.z = tmpvar_798;
    c_725 = (tmpvar_730 + mix (col_731, (tmpvar_799 * 0.85), tmpvar_798));
    p_726 = (p_726 * 0.4);
    c_725 = (c_725 * 0.76);
    vec4 tmpvar_800;
    tmpvar_800 = max (vec4(0.0, 0.0, 0.0, 0.0), ((c_725 * 
      clamp ((9.0 - ((tmpvar_729 * tmpvar_729) * 9.0)), 0.0, 1.0)
    ) + (tmpvar_680 * 
      (1.0 - clamp ((9.0 - (
        (tmpvar_729 * tmpvar_729)
       * 9.0)), 0.0, 1.0))
    )));
    tmpc_724.xyw = tmpvar_800.xyw;
    tmpc_724.z = (tmpvar_800.z * 0.51);
    tmpvar_719 = tmpc_724;
  } else {
    tmpvar_719 = tmpvar_680;
  };
  buff_11 = tmpvar_719;
  vec4 tmpvar_801;
  vec2 tmpvar_802;
  tmpvar_802 = ((tmpvar_2 - (planetpos5 * zoom)) - shippos);
  vec2 x_803;
  float tmpvar_804;
  tmpvar_804 = (4000.0 * zoom);
  x_803 = (tmpvar_802 - tmpvar_804);
  float tmpvar_805;
  tmpvar_805 = float((sqrt(
    dot (x_803, x_803)
  ) >= tmpvar_804));
  if (((1.0 - tmpvar_805) > 0.0)) {
    vec4 tmpc_806;
    vec4 c_807;
    vec2 p_808;
    vec2 tmpvar_809;
    tmpvar_809 = vec2((8000.0 * zoom));
    vec2 tmpvar_810;
    tmpvar_810 = (((tmpvar_802 * 2.0) - tmpvar_809) / tmpvar_809.y);
    float tmpvar_811;
    tmpvar_811 = sqrt(dot (tmpvar_810, tmpvar_810));
    vec4 tmpvar_812;
    tmpvar_812 = (vec4(0.4643, 0.22, 0.28, 1.0) + (tmpvar_810.y / 1.5));
    c_807 = tmpvar_812;
    p_808 = (((tmpvar_810 * 
      (sign(tmpvar_811) * (1.570796 - (sqrt(
        (1.0 - abs(tmpvar_811))
      ) * (1.570796 + 
        (abs(tmpvar_811) * (-0.2146018 + (abs(tmpvar_811) * (0.08656672 + 
          (abs(tmpvar_811) * -0.03102955)
        ))))
      ))))
    ) / tmpvar_811) - 5.0);
    p_808 = (p_808 * p_808.y);
    if (best) {
      vec4 fcx_813;
      vec2 uv_814;
      vec2 tmpvar_815;
      tmpvar_815 = (0.45 * p_808);
      uv_814.y = tmpvar_815.y;
      uv_814.x = (tmpvar_815.x + (time * 0.11));
      vec2 uv_816;
      vec2 frac_818;
      vec2 cell_819;
      float minDistance_820;
      vec3 tmpvar_821;
      tmpvar_821.yz = vec2(0.02, 0.02);
      tmpvar_821.x = (0.09 + (abs(
        sin((time * 0.75))
      ) * 0.03));
      minDistance_820 = 1.0;
      uv_816 = (uv_814 * 3.0);
      cell_819 = floor(uv_816);
      frac_818 = fract(uv_816);
      for (int i_817 = -1; i_817 <= 1; i_817++) {
        for (int j_822 = -1; j_822 <= 1; j_822++) {
          vec2 tmpvar_823;
          tmpvar_823.x = float(i_817);
          tmpvar_823.y = float(j_822);
          vec2 tmpvar_824;
          tmpvar_824.x = dot ((cell_819 + tmpvar_823), vec2(127.1, 311.7));
          tmpvar_824.y = dot ((cell_819 + tmpvar_823), vec2(269.5, 183.3));
          vec2 uv_825;
          vec2 tmpvar_826;
          tmpvar_826 = floor(uv_816);
          vec2 tmpvar_827;
          tmpvar_827 = (uv_816 - tmpvar_826);
          uv_825 = ((tmpvar_827 * tmpvar_827) * (3.0 - (2.0 * tmpvar_827)));
          float tmpvar_828;
          tmpvar_828 = fract((cos(
            dot (tmpvar_826, vec2(21.9898, 78.233))
          ) * 43758.55));
          vec2 tmpvar_829;
          tmpvar_829.x = (tmpvar_826.x + 1.0);
          tmpvar_829.y = tmpvar_826.y;
          float tmpvar_830;
          tmpvar_830 = fract((cos(
            dot (tmpvar_829, vec2(21.9898, 78.233))
          ) * 43758.55));
          vec2 tmpvar_831;
          tmpvar_831.x = tmpvar_826.x;
          tmpvar_831.y = (tmpvar_826.y + 1.0);
          float tmpvar_832;
          tmpvar_832 = fract((cos(
            dot (tmpvar_831, vec2(21.9898, 78.233))
          ) * 43758.55));
          vec2 x_833;
          x_833 = ((tmpvar_823 + (
            fract((sin(tmpvar_824) * 43758.55))
           + 
            ((((
              (tmpvar_828 + ((tmpvar_830 - tmpvar_828) * uv_825.x))
             + 
              ((tmpvar_832 - tmpvar_828) * uv_825.y)
            ) + (
              ((((tmpvar_828 - tmpvar_830) - tmpvar_832) + fract((
                cos(dot ((tmpvar_826 + vec2(1.0, 1.0)), vec2(21.9898, 78.233)))
               * 43758.55))) * uv_825.x)
             * uv_825.y)) / 5.0) * 1.5)
          )) - frac_818);
          minDistance_820 = min (minDistance_820, sqrt(dot (x_833, x_833)));
        };
      };
      float tmpvar_834;
      tmpvar_834 = (time * 1.5);
      fcx_813.xyz = (fcx_813.xyz + mix (tmpvar_821, (vec3(1.725, 0.5175, 0.0) * 
        pow (minDistance_820, (2.5 + ((
          sin(((uv_816.x * 2.0) + tmpvar_834))
         + 
          sin(((uv_816.y * 2.0) + tmpvar_834))
        ) * 0.95)))
      ), minDistance_820));
      vec2 uv_835;
      vec2 frac_836;
      vec2 cell_837;
      float minDistance_838;
      vec3 tmpvar_839;
      tmpvar_839.yz = vec2(0.02, 0.02);
      float tmpvar_840;
      tmpvar_840 = (time * 0.75);
      tmpvar_839.x = (0.09 + (abs(
        sin(tmpvar_840)
      ) * 0.03));
      uv_835 = (uv_814 * 6.0);
      cell_837 = floor(uv_835);
      frac_836 = fract(uv_835);
      vec2 tmpvar_841;
      tmpvar_841.x = dot ((cell_837 + vec2(-1.0, -1.0)), vec2(127.1, 311.7));
      tmpvar_841.y = dot ((cell_837 + vec2(-1.0, -1.0)), vec2(269.5, 183.3));
      vec2 x_842;
      x_842 = ((vec2(-1.0, -1.0) + fract(
        (sin(tmpvar_841) * 43758.55)
      )) - frac_836);
      minDistance_838 = min (1.0, sqrt(dot (x_842, x_842)));
      vec2 tmpvar_843;
      tmpvar_843.x = dot ((cell_837 + vec2(-1.0, 0.0)), vec2(127.1, 311.7));
      tmpvar_843.y = dot ((cell_837 + vec2(-1.0, 0.0)), vec2(269.5, 183.3));
      vec2 x_844;
      x_844 = ((vec2(-1.0, 0.0) + fract(
        (sin(tmpvar_843) * 43758.55)
      )) - frac_836);
      minDistance_838 = min (minDistance_838, sqrt(dot (x_844, x_844)));
      vec2 tmpvar_845;
      tmpvar_845.x = dot ((cell_837 + vec2(-1.0, 1.0)), vec2(127.1, 311.7));
      tmpvar_845.y = dot ((cell_837 + vec2(-1.0, 1.0)), vec2(269.5, 183.3));
      vec2 x_846;
      x_846 = ((vec2(-1.0, 1.0) + fract(
        (sin(tmpvar_845) * 43758.55)
      )) - frac_836);
      minDistance_838 = min (minDistance_838, sqrt(dot (x_846, x_846)));
      vec2 tmpvar_847;
      tmpvar_847.x = dot ((cell_837 + vec2(0.0, -1.0)), vec2(127.1, 311.7));
      tmpvar_847.y = dot ((cell_837 + vec2(0.0, -1.0)), vec2(269.5, 183.3));
      vec2 x_848;
      x_848 = ((vec2(0.0, -1.0) + fract(
        (sin(tmpvar_847) * 43758.55)
      )) - frac_836);
      minDistance_838 = min (minDistance_838, sqrt(dot (x_848, x_848)));
      vec2 tmpvar_849;
      tmpvar_849.x = dot (cell_837, vec2(127.1, 311.7));
      tmpvar_849.y = dot (cell_837, vec2(269.5, 183.3));
      vec2 x_850;
      x_850 = (fract((
        sin(tmpvar_849)
       * 43758.55)) - frac_836);
      minDistance_838 = min (minDistance_838, sqrt(dot (x_850, x_850)));
      vec2 tmpvar_851;
      tmpvar_851.x = dot ((cell_837 + vec2(0.0, 1.0)), vec2(127.1, 311.7));
      tmpvar_851.y = dot ((cell_837 + vec2(0.0, 1.0)), vec2(269.5, 183.3));
      vec2 x_852;
      x_852 = ((vec2(0.0, 1.0) + fract(
        (sin(tmpvar_851) * 43758.55)
      )) - frac_836);
      minDistance_838 = min (minDistance_838, sqrt(dot (x_852, x_852)));
      vec2 tmpvar_853;
      tmpvar_853.x = dot ((cell_837 + vec2(1.0, -1.0)), vec2(127.1, 311.7));
      tmpvar_853.y = dot ((cell_837 + vec2(1.0, -1.0)), vec2(269.5, 183.3));
      vec2 x_854;
      x_854 = ((vec2(1.0, -1.0) + fract(
        (sin(tmpvar_853) * 43758.55)
      )) - frac_836);
      minDistance_838 = min (minDistance_838, sqrt(dot (x_854, x_854)));
      vec2 tmpvar_855;
      tmpvar_855.x = dot ((cell_837 + vec2(1.0, 0.0)), vec2(127.1, 311.7));
      tmpvar_855.y = dot ((cell_837 + vec2(1.0, 0.0)), vec2(269.5, 183.3));
      vec2 x_856;
      x_856 = ((vec2(1.0, 0.0) + fract(
        (sin(tmpvar_855) * 43758.55)
      )) - frac_836);
      minDistance_838 = min (minDistance_838, sqrt(dot (x_856, x_856)));
      vec2 tmpvar_857;
      tmpvar_857.x = dot ((cell_837 + vec2(1.0, 1.0)), vec2(127.1, 311.7));
      tmpvar_857.y = dot ((cell_837 + vec2(1.0, 1.0)), vec2(269.5, 183.3));
      vec2 x_858;
      x_858 = ((vec2(1.0, 1.0) + fract(
        (sin(tmpvar_857) * 43758.55)
      )) - frac_836);
      minDistance_838 = min (minDistance_838, sqrt(dot (x_858, x_858)));
      fcx_813.xyz = (fcx_813.xyz + mix (tmpvar_839, (vec3(0.6, 0.0, 0.0) * 
        pow (minDistance_838, (3.0 + ((
          sin(((uv_835.x * 2.0) + time))
         + 
          sin(((uv_835.y * 2.0) + time))
        ) * 0.95)))
      ), minDistance_838));
      vec2 uv_859;
      vec2 frac_861;
      vec2 cell_862;
      float minDistance_863;
      vec3 tmpvar_864;
      tmpvar_864.yz = vec2(0.02, 0.02);
      tmpvar_864.x = (0.09 + (abs(
        sin(tmpvar_840)
      ) * 0.03));
      minDistance_863 = 1.0;
      uv_859 = (uv_814 * 8.0);
      cell_862 = floor(uv_859);
      frac_861 = fract(uv_859);
      for (int i_860 = -1; i_860 <= 1; i_860++) {
        for (int j_865 = -1; j_865 <= 1; j_865++) {
          vec2 randPoint_866;
          vec2 tmpvar_867;
          tmpvar_867.x = float(i_860);
          tmpvar_867.y = float(j_865);
          vec2 tmpvar_868;
          tmpvar_868.x = dot ((cell_862 + tmpvar_867), vec2(127.1, 311.7));
          tmpvar_868.y = dot ((cell_862 + tmpvar_867), vec2(269.5, 183.3));
          vec2 uv_869;
          vec2 tmpvar_870;
          tmpvar_870 = floor(uv_859);
          vec2 tmpvar_871;
          tmpvar_871 = (uv_859 - tmpvar_870);
          uv_869 = ((tmpvar_871 * tmpvar_871) * (3.0 - (2.0 * tmpvar_871)));
          float tmpvar_872;
          tmpvar_872 = fract((cos(
            dot (tmpvar_870, vec2(21.9898, 78.233))
          ) * 43758.55));
          vec2 tmpvar_873;
          tmpvar_873.x = (tmpvar_870.x + 1.0);
          tmpvar_873.y = tmpvar_870.y;
          float tmpvar_874;
          tmpvar_874 = fract((cos(
            dot (tmpvar_873, vec2(21.9898, 78.233))
          ) * 43758.55));
          vec2 tmpvar_875;
          tmpvar_875.x = tmpvar_870.x;
          tmpvar_875.y = (tmpvar_870.y + 1.0);
          float tmpvar_876;
          tmpvar_876 = fract((cos(
            dot (tmpvar_875, vec2(21.9898, 78.233))
          ) * 43758.55));
          randPoint_866 = (fract((
            sin(tmpvar_868)
           * 43758.55)) + ((
            (((tmpvar_872 + (
              (tmpvar_874 - tmpvar_872)
             * uv_869.x)) + ((tmpvar_876 - tmpvar_872) * uv_869.y)) + (((
              ((tmpvar_872 - tmpvar_874) - tmpvar_876)
             + 
              fract((cos(dot (
                (tmpvar_870 + vec2(1.0, 1.0))
              , vec2(21.9898, 78.233))) * 43758.55))
            ) * uv_869.x) * uv_869.y))
           / 5.0) * 0.5));
          vec2 tmpvar_877;
          tmpvar_877 = (0.5 + (0.5 * sin(
            ((iTime * 0.35) + (6.2831 * randPoint_866))
          )));
          randPoint_866 = tmpvar_877;
          vec2 x_878;
          x_878 = ((tmpvar_867 + tmpvar_877) - frac_861);
          minDistance_863 = min (minDistance_863, sqrt(dot (x_878, x_878)));
        };
      };
      float tmpvar_879;
      tmpvar_879 = (time * 1.9);
      fcx_813.xyz = (fcx_813.xyz + mix (tmpvar_864, (vec3(0.24, 0.08000001, 0.0) * 
        pow (minDistance_863, (4.0 + ((
          sin(((uv_859.x * 2.0) + tmpvar_879))
         + 
          sin(((uv_859.y * 2.0) + tmpvar_879))
        ) * 0.95)))
      ), minDistance_863));
      c_807 = (tmpvar_812 + fcx_813);
      p_808 = (p_808 * 0.4);
      c_807 = (c_807 * 0.6);
    };
    vec4 fcx_880;
    vec2 uv_881;
    vec2 tmpvar_882;
    tmpvar_882 = (0.45 * p_808);
    uv_881.y = tmpvar_882.y;
    uv_881.x = (tmpvar_882.x + (time * 0.11));
    vec2 uv_883;
    vec2 frac_885;
    vec2 cell_886;
    float minDistance_887;
    vec3 tmpvar_888;
    tmpvar_888.yz = vec2(0.02, 0.02);
    tmpvar_888.x = (0.09 + (abs(
      sin((time * 0.75))
    ) * 0.03));
    minDistance_887 = 1.0;
    uv_883 = (uv_881 * 3.0);
    cell_886 = floor(uv_883);
    frac_885 = fract(uv_883);
    for (int i_884 = -1; i_884 <= 1; i_884++) {
      for (int j_889 = -1; j_889 <= 1; j_889++) {
        vec2 tmpvar_890;
        tmpvar_890.x = float(i_884);
        tmpvar_890.y = float(j_889);
        vec2 tmpvar_891;
        tmpvar_891.x = dot ((cell_886 + tmpvar_890), vec2(127.1, 311.7));
        tmpvar_891.y = dot ((cell_886 + tmpvar_890), vec2(269.5, 183.3));
        vec2 uv_892;
        vec2 tmpvar_893;
        tmpvar_893 = floor(uv_883);
        vec2 tmpvar_894;
        tmpvar_894 = (uv_883 - tmpvar_893);
        uv_892 = ((tmpvar_894 * tmpvar_894) * (3.0 - (2.0 * tmpvar_894)));
        float tmpvar_895;
        tmpvar_895 = fract((cos(
          dot (tmpvar_893, vec2(21.9898, 78.233))
        ) * 43758.55));
        vec2 tmpvar_896;
        tmpvar_896.x = (tmpvar_893.x + 1.0);
        tmpvar_896.y = tmpvar_893.y;
        float tmpvar_897;
        tmpvar_897 = fract((cos(
          dot (tmpvar_896, vec2(21.9898, 78.233))
        ) * 43758.55));
        vec2 tmpvar_898;
        tmpvar_898.x = tmpvar_893.x;
        tmpvar_898.y = (tmpvar_893.y + 1.0);
        float tmpvar_899;
        tmpvar_899 = fract((cos(
          dot (tmpvar_898, vec2(21.9898, 78.233))
        ) * 43758.55));
        vec2 x_900;
        x_900 = ((tmpvar_890 + (
          fract((sin(tmpvar_891) * 43758.55))
         + 
          ((((
            (tmpvar_895 + ((tmpvar_897 - tmpvar_895) * uv_892.x))
           + 
            ((tmpvar_899 - tmpvar_895) * uv_892.y)
          ) + (
            ((((tmpvar_895 - tmpvar_897) - tmpvar_899) + fract((
              cos(dot ((tmpvar_893 + vec2(1.0, 1.0)), vec2(21.9898, 78.233)))
             * 43758.55))) * uv_892.x)
           * uv_892.y)) / 5.0) * 1.5)
        )) - frac_885);
        minDistance_887 = min (minDistance_887, sqrt(dot (x_900, x_900)));
      };
    };
    float tmpvar_901;
    tmpvar_901 = (time * 1.5);
    fcx_880.xyz = (fcx_880.xyz + mix (tmpvar_888, (vec3(1.725, 0.5175, 0.0) * 
      pow (minDistance_887, (2.5 + ((
        sin(((uv_883.x * 2.0) + tmpvar_901))
       + 
        sin(((uv_883.y * 2.0) + tmpvar_901))
      ) * 0.95)))
    ), minDistance_887));
    vec2 uv_902;
    vec2 frac_903;
    vec2 cell_904;
    float minDistance_905;
    vec3 tmpvar_906;
    tmpvar_906.yz = vec2(0.02, 0.02);
    float tmpvar_907;
    tmpvar_907 = (time * 0.75);
    tmpvar_906.x = (0.09 + (abs(
      sin(tmpvar_907)
    ) * 0.03));
    uv_902 = (uv_881 * 6.0);
    cell_904 = floor(uv_902);
    frac_903 = fract(uv_902);
    vec2 tmpvar_908;
    tmpvar_908.x = dot ((cell_904 + vec2(-1.0, -1.0)), vec2(127.1, 311.7));
    tmpvar_908.y = dot ((cell_904 + vec2(-1.0, -1.0)), vec2(269.5, 183.3));
    vec2 x_909;
    x_909 = ((vec2(-1.0, -1.0) + fract(
      (sin(tmpvar_908) * 43758.55)
    )) - frac_903);
    minDistance_905 = min (1.0, sqrt(dot (x_909, x_909)));
    vec2 tmpvar_910;
    tmpvar_910.x = dot ((cell_904 + vec2(-1.0, 0.0)), vec2(127.1, 311.7));
    tmpvar_910.y = dot ((cell_904 + vec2(-1.0, 0.0)), vec2(269.5, 183.3));
    vec2 x_911;
    x_911 = ((vec2(-1.0, 0.0) + fract(
      (sin(tmpvar_910) * 43758.55)
    )) - frac_903);
    minDistance_905 = min (minDistance_905, sqrt(dot (x_911, x_911)));
    vec2 tmpvar_912;
    tmpvar_912.x = dot ((cell_904 + vec2(-1.0, 1.0)), vec2(127.1, 311.7));
    tmpvar_912.y = dot ((cell_904 + vec2(-1.0, 1.0)), vec2(269.5, 183.3));
    vec2 x_913;
    x_913 = ((vec2(-1.0, 1.0) + fract(
      (sin(tmpvar_912) * 43758.55)
    )) - frac_903);
    minDistance_905 = min (minDistance_905, sqrt(dot (x_913, x_913)));
    vec2 tmpvar_914;
    tmpvar_914.x = dot ((cell_904 + vec2(0.0, -1.0)), vec2(127.1, 311.7));
    tmpvar_914.y = dot ((cell_904 + vec2(0.0, -1.0)), vec2(269.5, 183.3));
    vec2 x_915;
    x_915 = ((vec2(0.0, -1.0) + fract(
      (sin(tmpvar_914) * 43758.55)
    )) - frac_903);
    minDistance_905 = min (minDistance_905, sqrt(dot (x_915, x_915)));
    vec2 tmpvar_916;
    tmpvar_916.x = dot (cell_904, vec2(127.1, 311.7));
    tmpvar_916.y = dot (cell_904, vec2(269.5, 183.3));
    vec2 x_917;
    x_917 = (fract((
      sin(tmpvar_916)
     * 43758.55)) - frac_903);
    minDistance_905 = min (minDistance_905, sqrt(dot (x_917, x_917)));
    vec2 tmpvar_918;
    tmpvar_918.x = dot ((cell_904 + vec2(0.0, 1.0)), vec2(127.1, 311.7));
    tmpvar_918.y = dot ((cell_904 + vec2(0.0, 1.0)), vec2(269.5, 183.3));
    vec2 x_919;
    x_919 = ((vec2(0.0, 1.0) + fract(
      (sin(tmpvar_918) * 43758.55)
    )) - frac_903);
    minDistance_905 = min (minDistance_905, sqrt(dot (x_919, x_919)));
    vec2 tmpvar_920;
    tmpvar_920.x = dot ((cell_904 + vec2(1.0, -1.0)), vec2(127.1, 311.7));
    tmpvar_920.y = dot ((cell_904 + vec2(1.0, -1.0)), vec2(269.5, 183.3));
    vec2 x_921;
    x_921 = ((vec2(1.0, -1.0) + fract(
      (sin(tmpvar_920) * 43758.55)
    )) - frac_903);
    minDistance_905 = min (minDistance_905, sqrt(dot (x_921, x_921)));
    vec2 tmpvar_922;
    tmpvar_922.x = dot ((cell_904 + vec2(1.0, 0.0)), vec2(127.1, 311.7));
    tmpvar_922.y = dot ((cell_904 + vec2(1.0, 0.0)), vec2(269.5, 183.3));
    vec2 x_923;
    x_923 = ((vec2(1.0, 0.0) + fract(
      (sin(tmpvar_922) * 43758.55)
    )) - frac_903);
    minDistance_905 = min (minDistance_905, sqrt(dot (x_923, x_923)));
    vec2 tmpvar_924;
    tmpvar_924.x = dot ((cell_904 + vec2(1.0, 1.0)), vec2(127.1, 311.7));
    tmpvar_924.y = dot ((cell_904 + vec2(1.0, 1.0)), vec2(269.5, 183.3));
    vec2 x_925;
    x_925 = ((vec2(1.0, 1.0) + fract(
      (sin(tmpvar_924) * 43758.55)
    )) - frac_903);
    minDistance_905 = min (minDistance_905, sqrt(dot (x_925, x_925)));
    fcx_880.xyz = (fcx_880.xyz + mix (tmpvar_906, (vec3(0.6, 0.0, 0.0) * 
      pow (minDistance_905, (3.0 + ((
        sin(((uv_902.x * 2.0) + time))
       + 
        sin(((uv_902.y * 2.0) + time))
      ) * 0.95)))
    ), minDistance_905));
    vec2 uv_926;
    vec2 frac_928;
    vec2 cell_929;
    float minDistance_930;
    vec3 tmpvar_931;
    tmpvar_931.yz = vec2(0.02, 0.02);
    tmpvar_931.x = (0.09 + (abs(
      sin(tmpvar_907)
    ) * 0.03));
    minDistance_930 = 1.0;
    uv_926 = (uv_881 * 8.0);
    cell_929 = floor(uv_926);
    frac_928 = fract(uv_926);
    for (int i_927 = -1; i_927 <= 1; i_927++) {
      for (int j_932 = -1; j_932 <= 1; j_932++) {
        vec2 randPoint_933;
        vec2 tmpvar_934;
        tmpvar_934.x = float(i_927);
        tmpvar_934.y = float(j_932);
        vec2 tmpvar_935;
        tmpvar_935.x = dot ((cell_929 + tmpvar_934), vec2(127.1, 311.7));
        tmpvar_935.y = dot ((cell_929 + tmpvar_934), vec2(269.5, 183.3));
        vec2 uv_936;
        vec2 tmpvar_937;
        tmpvar_937 = floor(uv_926);
        vec2 tmpvar_938;
        tmpvar_938 = (uv_926 - tmpvar_937);
        uv_936 = ((tmpvar_938 * tmpvar_938) * (3.0 - (2.0 * tmpvar_938)));
        float tmpvar_939;
        tmpvar_939 = fract((cos(
          dot (tmpvar_937, vec2(21.9898, 78.233))
        ) * 43758.55));
        vec2 tmpvar_940;
        tmpvar_940.x = (tmpvar_937.x + 1.0);
        tmpvar_940.y = tmpvar_937.y;
        float tmpvar_941;
        tmpvar_941 = fract((cos(
          dot (tmpvar_940, vec2(21.9898, 78.233))
        ) * 43758.55));
        vec2 tmpvar_942;
        tmpvar_942.x = tmpvar_937.x;
        tmpvar_942.y = (tmpvar_937.y + 1.0);
        float tmpvar_943;
        tmpvar_943 = fract((cos(
          dot (tmpvar_942, vec2(21.9898, 78.233))
        ) * 43758.55));
        randPoint_933 = (fract((
          sin(tmpvar_935)
         * 43758.55)) + ((
          (((tmpvar_939 + (
            (tmpvar_941 - tmpvar_939)
           * uv_936.x)) + ((tmpvar_943 - tmpvar_939) * uv_936.y)) + (((
            ((tmpvar_939 - tmpvar_941) - tmpvar_943)
           + 
            fract((cos(dot (
              (tmpvar_937 + vec2(1.0, 1.0))
            , vec2(21.9898, 78.233))) * 43758.55))
          ) * uv_936.x) * uv_936.y))
         / 5.0) * 0.5));
        vec2 tmpvar_944;
        tmpvar_944 = (0.5 + (0.5 * sin(
          ((iTime * 0.35) + (6.2831 * randPoint_933))
        )));
        randPoint_933 = tmpvar_944;
        vec2 x_945;
        x_945 = ((tmpvar_934 + tmpvar_944) - frac_928);
        minDistance_930 = min (minDistance_930, sqrt(dot (x_945, x_945)));
      };
    };
    float tmpvar_946;
    tmpvar_946 = (time * 1.9);
    fcx_880.xyz = (fcx_880.xyz + mix (tmpvar_931, (vec3(0.24, 0.08000001, 0.0) * 
      pow (minDistance_930, (4.0 + ((
        sin(((uv_926.x * 2.0) + tmpvar_946))
       + 
        sin(((uv_926.y * 2.0) + tmpvar_946))
      ) * 0.95)))
    ), minDistance_930));
    c_807 = (c_807 + fcx_880);
    p_808 = (p_808 * 0.4);
    c_807 = (c_807 * 0.6);
    vec4 tmpvar_947;
    tmpvar_947 = max (vec4(0.0, 0.0, 0.0, 0.0), ((c_807 * 
      clamp ((9.0 - ((tmpvar_811 * tmpvar_811) * 9.0)), 0.0, 1.0)
    ) + (tmpvar_719 * 
      (1.0 - clamp ((9.0 - (
        (tmpvar_811 * tmpvar_811)
       * 9.0)), 0.0, 1.0))
    )));
    tmpc_806.xyw = tmpvar_947.xyw;
    tmpc_806.z = (tmpvar_947.z * -2.51);
    tmpvar_801 = tmpc_806;
  } else {
    tmpvar_801 = tmpvar_719;
  };
  buff_11 = tmpvar_801;
  vec4 tmpvar_948;
  vec2 tmpvar_949;
  tmpvar_949 = ((tmpvar_2 - (planetpos6 * zoom)) - shippos);
  vec2 x_950;
  float tmpvar_951;
  tmpvar_951 = (5250.0 * zoom);
  x_950 = (tmpvar_949 - tmpvar_951);
  float tmpvar_952;
  tmpvar_952 = float((sqrt(
    dot (x_950, x_950)
  ) >= tmpvar_951));
  if (((1.0 - tmpvar_952) > 0.0)) {
    vec3 p_953;
    vec4 s_954;
    vec2 v_955;
    vec2 tmpvar_956;
    tmpvar_956 = (vec2(10500.0, 10500.0) * zoom);
    float tmpvar_957;
    vec2 fragCoord_958;
    fragCoord_958 = ((tmpvar_949 - (tmpvar_956 / vec2(2.0, 2.0))) / tmpvar_956.y);
    vec2 p_959;
    p_959 = ((fragCoord_958 + vec2(0.25, 0.25)) * 2.0);
    vec2 tmpvar_960;
    tmpvar_960 = (p_959 - 0.5);
    p_959 = tmpvar_960;
    float tmpvar_961;
    tmpvar_961 = (0.1 + (0.5 * (1.0 - 
      dot (tmpvar_960, tmpvar_960)
    )));
    vec2 tmpvar_962;
    tmpvar_962 = (fract((
      ((fragCoord_958 / tmpvar_961) * 25.0)
     + 
      (time / 2.0)
    )) - 0.5);
    float tmpvar_963;
    tmpvar_963 = (3.0 * (1.0 - dot (tmpvar_962, tmpvar_962)));
    float tmpvar_964;
    tmpvar_964 = (((
      (tmpvar_963 * tmpvar_961)
     / 6.0) * tmpvar_963) * tmpvar_961);
    tmpvar_957 = (abs((
      pow ((tmpvar_964 * 9.9), 7.6)
     * 
      cos((tmpvar_964 * 9.0))
    )) + sin((tmpvar_964 * 10.5)));
    float tmpvar_965;
    tmpvar_965 = clamp (((tax - 0.19) / 0.3), 0.0, 1.0);
    float tmpvar_966;
    tmpvar_966 = clamp (((tax - 0.7) / -0.21), 0.0, 1.0);
    float tmpvar_967;
    tmpvar_967 = ((1.0 - (tmpvar_965 * 
      (tmpvar_965 * (3.0 - (2.0 * tmpvar_965)))
    )) + (1.0 - (tmpvar_966 * 
      (tmpvar_966 * (3.0 - (2.0 * tmpvar_966)))
    )));
    float tmpvar_968;
    tmpvar_968 = -(tmpvar_967);
    vec3 tmpvar_969;
    tmpvar_969.x = 1.0;
    tmpvar_969.y = (tmpvar_968 / 5.0);
    tmpvar_969.z = tmpvar_968;
    vec3 tmpvar_970;
    tmpvar_970 = normalize(tmpvar_969);
    float tmpvar_971;
    tmpvar_971 = min (tmpvar_956.x, tmpvar_956.y);
    mat2 tmpvar_972;
    float tmpvar_973;
    tmpvar_973 = (tax + 0.7305999);
    tmpvar_972[0].x = cos((tmpvar_973 - (0.2617983 * tmpvar_967)));
    tmpvar_972[0].y = -(sin((tmpvar_973 - 
      (0.2617983 * tmpvar_967)
    )));
    tmpvar_972[1].x = sin((tmpvar_973 - (0.2617983 * tmpvar_967)));
    tmpvar_972[1].y = cos((tmpvar_973 - (0.2617983 * tmpvar_967)));
    v_955 = (((tmpvar_949 - 
      (tmpvar_956 / 2.0)
    ) / tmpvar_971) * tmpvar_972);
    float tmpvar_974;
    tmpvar_974 = (sqrt(dot (v_955, v_955)) - 0.4);
    float edge0_975;
    edge0_975 = -((5.0 / tmpvar_971));
    float tmpvar_976;
    tmpvar_976 = clamp (((tmpvar_974 - edge0_975) / -(edge0_975)), 0.0, 1.0);
    float tmpvar_977;
    tmpvar_977 = (1.0 - (tmpvar_976 * (tmpvar_976 * 
      (3.0 - (2.0 * tmpvar_976))
    )));
    vec3 tmpvar_978;
    tmpvar_978.z = 0.0;
    tmpvar_978.xy = (v_955 / 0.4);
    float tmpvar_979;
    tmpvar_979 = sqrt(dot (tmpvar_978, tmpvar_978));
    if ((tmpvar_979 < 1.0)) {
      vec3 tmpvar_980;
      tmpvar_980.xy = tmpvar_978.xy;
      tmpvar_980.z = sqrt(((1.0 - 
        (tmpvar_978.x * tmpvar_978.x)
      ) - (tmpvar_978.y * tmpvar_978.y)));
      float tmpvar_981;
      tmpvar_981 = clamp (((
        (pow ((dot (tmpvar_980, tmpvar_970) * (1.0 - tmpvar_967)), 0.75) - 0.5)
       - -0.05) / 0.1), 0.0, 1.0);
      s_954 = (tmpvar_977 * mix ((0.1 * vec4(tmpvar_957)), vec4(tmpvar_957), (tmpvar_981 * 
        (tmpvar_981 * (3.0 - (2.0 * tmpvar_981)))
      )));
    } else {
      s_954 = vec4(0.0, 0.0, 0.0, 0.0);
    };
    vec3 tmpvar_982;
    tmpvar_982.z = 0.0;
    tmpvar_982.xy = (v_955 / 0.4);
    p_953 = tmpvar_982;
    float tmpvar_983;
    tmpvar_983 = sqrt(dot (tmpvar_982, tmpvar_982));
    if ((tmpvar_983 < 1.0)) {
      vec3 tmpvar_984;
      tmpvar_984.xy = tmpvar_982.xy;
      tmpvar_984.z = sqrt(((1.0 - 
        (tmpvar_982.x * tmpvar_982.x)
      ) - (tmpvar_982.y * tmpvar_982.y)));
      p_953 = tmpvar_984;
    } else {
      p_953 = normalize(p_953);
    };
    p_953 = (p_953 - vec3(0.0, 0.0, 0.406));
    float tmpvar_985;
    tmpvar_985 = clamp ((tmpvar_974 / 0.006), 0.0, 1.0);
    vec2 x_986;
    x_986 = (tmpvar_949 - (5250.0 * zoom));
    tmpvar_948 = ((s_954 + (
      clamp ((dot (p_953, tmpvar_970) * (1.0 - tmpvar_967)), 0.0, 1.0)
     * 
      (vec4(5.0, 1.225, 0.7, 0.25) * (1.0 - (tmpvar_985 * (tmpvar_985 * 
        (3.0 - (2.0 * tmpvar_985))
      ))))
    )) + (tmpvar_801 * float(
      (sqrt(dot (x_986, x_986)) >= (4195.0 * zoom))
    )));
  } else {
    tmpvar_948 = tmpvar_801;
  };
  buff_11 = tmpvar_948;
  vec4 tmpvar_987;
  if (paused) {
    tmpvar_987 = vec4(0.0, 0.0, 0.0, 1.0);
  } else {
    vec2 tmpvar_988;
    float tmpvar_989;
    tmpvar_989 = (radius / 2.0);
    tmpvar_988 = (((shippos + tmpvar_989) / iResolution.xy) - 0.5);
    vec2 tmpvar_990;
    tmpvar_990 = (((
      (tmpvar_2 - (-(shippos) + iResolution.xy))
     + tmpvar_989) + (
      (radius * 3.0)
     * tmpvar_988)) / iResolution.xy);
    float tmpvar_991;
    float tmpvar_992;
    tmpvar_992 = (min (abs(
      (tmpvar_990.x / tmpvar_990.y)
    ), 1.0) / max (abs(
      (tmpvar_990.x / tmpvar_990.y)
    ), 1.0));
    float tmpvar_993;
    tmpvar_993 = (tmpvar_992 * tmpvar_992);
    tmpvar_993 = (((
      ((((
        ((((-0.01213232 * tmpvar_993) + 0.05368138) * tmpvar_993) - 0.1173503)
       * tmpvar_993) + 0.1938925) * tmpvar_993) - 0.3326756)
     * tmpvar_993) + 0.9999793) * tmpvar_992);
    tmpvar_993 = (tmpvar_993 + (float(
      (abs((tmpvar_990.x / tmpvar_990.y)) > 1.0)
    ) * (
      (tmpvar_993 * -2.0)
     + 1.570796)));
    tmpvar_991 = (tmpvar_993 * sign((tmpvar_990.x / tmpvar_990.y)));
    if ((abs(tmpvar_990.y) > (1e-08 * abs(tmpvar_990.x)))) {
      if ((tmpvar_990.y < 0.0)) {
        if ((tmpvar_990.x >= 0.0)) {
          tmpvar_991 += 3.141593;
        } else {
          tmpvar_991 = (tmpvar_991 - 3.141593);
        };
      };
    } else {
      tmpvar_991 = (sign(tmpvar_990.x) * 1.570796);
    };
    float tmpvar_994;
    tmpvar_994 = ceil((tmpvar_991 * 600.0));
    float tmpvar_995;
    tmpvar_995 = cos(tmpvar_994);
    float tmpvar_996;
    tmpvar_996 = (tmpvar_995 / dot (tmpvar_990, tmpvar_990));
    vec2 x_997;
    x_997 = (tmpvar_988 * zoom);
    tmpvar_987 = vec4(max (0.0, (min (1.0, 
      (exp((fract(
        ((tmpvar_996 + (tmpvar_995 * tmpvar_994)) + time)
      ) * -100.0)) / tmpvar_996)
    ) * abs(
      sqrt(dot (x_997, x_997))
    ))));
  };
  buff_11 = (tmpvar_948 + tmpvar_987);
  mcol_10 = buff_11;
  vec2 pos_998;
  pos_998 = ((tmpvar_2 - (en3pos * zoom)) - shippos);
  mat2 tmpvar_999;
  float tmpvar_1000;
  tmpvar_1000 = (tax + 1.57079);
  tmpvar_999[0].x = cos((tmpvar_1000 + 0.7305999));
  tmpvar_999[0].y = -(sin((tmpvar_1000 + 0.7305999)));
  tmpvar_999[1].x = sin((tmpvar_1000 + 0.7305999));
  tmpvar_999[1].y = cos((tmpvar_1000 + 0.7305999));
  pos_998 = (pos_998 * tmpvar_999);
  vec4 tmpvar_1001;
  float tmpvar_1002;
  tmpvar_1002 = (900.0 * zoom);
  if ((((
    (pos_998.x > -((300.0 * zoom)))
   && 
    (pos_998.x < (tmpvar_1002 + (300.0 * zoom)))
  ) && (pos_998.y > 
    -((300.0 * zoom))
  )) && (pos_998.y < (tmpvar_1002 + 
    (300.0 * zoom)
  )))) {
    float boxx_1003;
    vec3 color_1004;
    vec2 tmpvar_1005;
    tmpvar_1005 = (pos_998 / tmpvar_1002);
    vec2 tmpvar_1006;
    tmpvar_1006 = (-(tmpvar_1005) + 0.5);
    float tmpvar_1007;
    tmpvar_1007 = (0.9 + cos((time + 
      (sqrt(dot (tmpvar_1006, tmpvar_1006)) * 10.0)
    )));
    color_1004 = vec3(0.0, 0.0, 0.0);
    float tmpvar_1008;
    float tmpvar_1009;
    tmpvar_1009 = (tax / 0.29);
    tmpvar_1008 = clamp (tmpvar_1009, 0.0, 1.0);
    float tmpvar_1010;
    float tmpvar_1011;
    tmpvar_1011 = (tax - 0.7);
    tmpvar_1010 = clamp ((tmpvar_1011 / -0.41), 0.0, 1.0);
    float tmpvar_1012;
    tmpvar_1012 = ((1.0 - (tmpvar_1008 * 
      (tmpvar_1008 * (3.0 - (2.0 * tmpvar_1008)))
    )) + (1.0 - (tmpvar_1010 * 
      (tmpvar_1010 * (3.0 - (2.0 * tmpvar_1010)))
    )));
    vec2 tmpvar_1013;
    tmpvar_1013.x = 0.08;
    tmpvar_1013.y = (0.3 - (0.07 * tmpvar_1012));
    float tmpvar_1014;
    tmpvar_1014 = clamp (tmpvar_1009, 0.0, 1.0);
    float tmpvar_1015;
    tmpvar_1015 = clamp ((tmpvar_1011 / -0.41), 0.0, 1.0);
    vec2 tmpvar_1016;
    tmpvar_1016.x = 9.0;
    tmpvar_1016.y = (((
      (1.0 - (tmpvar_1014 * (tmpvar_1014 * (3.0 - 
        (2.0 * tmpvar_1014)
      ))))
     + 
      (1.0 - (tmpvar_1015 * (tmpvar_1015 * (3.0 - 
        (2.0 * tmpvar_1015)
      ))))
    ) * 2.0) + 7.0);
    vec2 pos_1017;
    pos_1017 = (abs((
      ((pos_998 / (900.0 * zoom)) - 0.5)
     * 50.0)) - tmpvar_1016);
    if ((pos_1017.x < pos_1017.y)) {
      pos_1017 = pos_1017.yx;
    };
    pos_1017 = (abs(pos_1017) - (tmpvar_1016 * 0.5));
    if ((pos_1017.x < pos_1017.y)) {
      pos_1017 = pos_1017.yx;
    };
    pos_1017 = (abs(pos_1017) - (tmpvar_1016 * 0.25));
    if ((pos_1017.x < pos_1017.y)) {
      pos_1017 = pos_1017.yx;
    };
    pos_1017 = (abs(pos_1017) - (tmpvar_1016 * 0.125));
    if ((pos_1017.x < pos_1017.y)) {
      pos_1017 = pos_1017.yx;
    };
    pos_1017 = (abs(pos_1017) - (tmpvar_1016 * 0.0625));
    if ((pos_1017.x < pos_1017.y)) {
      pos_1017 = pos_1017.yx;
    };
    pos_1017 = (abs(pos_1017) - (tmpvar_1016 * 0.03125));
    if ((pos_1017.x < pos_1017.y)) {
      pos_1017 = pos_1017.yx;
    };
    float tmpvar_1018;
    tmpvar_1018 = abs(pos_1017.x);
    bool tmpvar_1019;
    if ((tmpvar_1018 < 0.683)) {
      tmpvar_1019 = (abs(pos_1017.y) < 0.83);
    } else {
      tmpvar_1019 = bool(0);
    };
    vec2 tmpvar_1020;
    if (tmpvar_1019) {
      float tmpvar_1021;
      tmpvar_1021 = clamp (((
        sqrt(dot (pos_1017, pos_1017))
       - 0.1) / 2.9), 0.0, 1.0);
      vec2 tmpvar_1022;
      tmpvar_1022.x = 1.0;
      tmpvar_1022.y = (tmpvar_1021 * (tmpvar_1021 * (3.0 - 
        (2.0 * tmpvar_1021)
      )));
      tmpvar_1020 = tmpvar_1022;
    } else {
      float tmpvar_1023;
      tmpvar_1023 = clamp (((
        sqrt(dot (pos_1017, pos_1017))
       - 1.5) / -1.5), 0.0, 1.0);
      vec2 tmpvar_1024;
      tmpvar_1024.x = 0.0;
      tmpvar_1024.y = (tmpvar_1023 * (tmpvar_1023 * (3.0 - 
        (2.0 * tmpvar_1023)
      )));
      tmpvar_1020 = tmpvar_1024;
    };
    vec2 tmpvar_1025;
    tmpvar_1025 = max ((abs(
      (tmpvar_1005 - vec2(0.5, 0.5))
    ) - tmpvar_1013), 0.0);
    float tmpvar_1026;
    tmpvar_1026 = clamp (((tax - 0.19) / 0.2), 0.0, 1.0);
    float tmpvar_1027;
    tmpvar_1027 = clamp (((tax - 0.65) / -0.26), 0.0, 1.0);
    boxx_1003 = ((1.0 - float(
      (sqrt(dot (tmpvar_1025, tmpvar_1025)) >= 0.001)
    )) * (float(
      (abs((pos_998.x - (
        (sin(((pos_998.y / -0.22) + time)) * 222.0)
       + 
        ((900.0 * zoom) / 2.0)
      ))) < (15.0 / zoom))
    ) * (1.0 - 
      (0.9 * ((1.0 - (tmpvar_1026 * 
        (tmpvar_1026 * (3.0 - (2.0 * tmpvar_1026)))
      )) + (1.0 - (tmpvar_1027 * 
        (tmpvar_1027 * (3.0 - (2.0 * tmpvar_1027)))
      ))))
    )));
    float tmpvar_1028;
    tmpvar_1028 = clamp (((tmpvar_1020.y - 0.05) / -0.05), 0.0, 1.0);
    float tmpvar_1029;
    tmpvar_1029 = clamp (((tmpvar_1020.y - 0.001) / -0.001), 0.0, 1.0);
    float tmpvar_1030;
    tmpvar_1030 = clamp ((0.039 / (tmpvar_1020.y - -0.002)), 0.0, 1.0);
    vec3 tmpvar_1031;
    tmpvar_1031.xz = vec2(0.0, 1.0);
    tmpvar_1031.y = (0.4 + (0.9 * (1.0 - tmpvar_1012)));
    color_1004 = (((
      (0.85 * (tmpvar_1028 * (tmpvar_1028 * (3.0 - 
        (2.0 * tmpvar_1028)
      ))))
     * tmpvar_1020.x) + (
      (0.1 * (tmpvar_1029 * (tmpvar_1029 * (3.0 - 
        (2.0 * tmpvar_1029)
      ))))
     * tmpvar_1020.x)) + ((tmpvar_1007 * 
      (tmpvar_1030 * (tmpvar_1030 * (3.0 - (2.0 * tmpvar_1030))))
    ) * (tmpvar_1031 * tmpvar_1020.x)));
    vec4 tmpvar_1032;
    tmpvar_1032.w = 1.0;
    tmpvar_1032.xyz = color_1004;
    vec3 finalColor_1033;
    float tmpvar_1034;
    if (en3hit) {
      float tmpvar_1035;
      tmpvar_1035 = clamp (((lpower - 20.0) / -20.0), 0.0, 1.0);
      tmpvar_1034 = (2.0 * (tmpvar_1035 * (tmpvar_1035 * 
        (3.0 - (2.0 * tmpvar_1035))
      )));
    } else {
      tmpvar_1034 = 0.0;
    };
    float tmpvar_1036;
    float tmpvar_1037;
    tmpvar_1037 = sin(time);
    tmpvar_1036 = (0.015 + ((tmpvar_1034 / 50.0) * cos(tmpvar_1037)));
    vec2 tmpvar_1038;
    tmpvar_1038 = (((pos_998 / 
      (900.0 * zoom)
    ) * 2.0) - 1.0);
    finalColor_1033 = vec3(0.0, 0.0, 0.0);
    vec3 tmpvar_1039;
    tmpvar_1039.y = 0.5;
    tmpvar_1039.x = (0.3 + tmpvar_1034);
    tmpvar_1039.z = (2.5 - abs((tmpvar_1034 * 
      cos(tmpvar_1037)
    )));
    vec2 x_1040;
    x_1040 = ((tmpvar_1038 / 1.6) * 0.5);
    vec2 tmpvar_1041;
    tmpvar_1041 = max (((
      -(tmpvar_1038)
     / 1.6) - vec2(0.572, 0.0915)), sqrt(dot (x_1040, x_1040)));
    float tmpvar_1042;
    tmpvar_1042 = sqrt(dot (tmpvar_1041, tmpvar_1041));
    float y_over_x_1043;
    y_over_x_1043 = (tmpvar_1038.y / tmpvar_1038.x);
    float tmpvar_1044;
    tmpvar_1044 = (min (abs(y_over_x_1043), 1.0) / max (abs(y_over_x_1043), 1.0));
    float tmpvar_1045;
    tmpvar_1045 = (tmpvar_1044 * tmpvar_1044);
    tmpvar_1045 = (((
      ((((
        ((((-0.01213232 * tmpvar_1045) + 0.05368138) * tmpvar_1045) - 0.1173503)
       * tmpvar_1045) + 0.1938925) * tmpvar_1045) - 0.3326756)
     * tmpvar_1045) + 0.9999793) * tmpvar_1044);
    tmpvar_1045 = (tmpvar_1045 + (float(
      (abs(y_over_x_1043) > 1.0)
    ) * (
      (tmpvar_1045 * -2.0)
     + 1.570796)));
    float tmpvar_1046;
    tmpvar_1046 = sin(((
      (tmpvar_1045 * sign(y_over_x_1043))
     * 30.0) + (time * -10.0)));
    float v_1047;
    vec2 xy_1048;
    xy_1048 = (tmpvar_1038 * 200.0);
    vec2 uv_1049;
    vec2 tmpvar_1050;
    tmpvar_1050 = floor(xy_1048);
    vec2 tmpvar_1051;
    tmpvar_1051 = (xy_1048 - tmpvar_1050);
    uv_1049 = ((tmpvar_1051 * tmpvar_1051) * (3.0 - (2.0 * tmpvar_1051)));
    float tmpvar_1052;
    tmpvar_1052 = fract((cos(
      dot (tmpvar_1050, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_1053;
    tmpvar_1053.x = (tmpvar_1050.x + 1.0);
    tmpvar_1053.y = tmpvar_1050.y;
    float tmpvar_1054;
    tmpvar_1054 = fract((cos(
      dot (tmpvar_1053, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_1055;
    tmpvar_1055.x = tmpvar_1050.x;
    tmpvar_1055.y = (tmpvar_1050.y + 1.0);
    float tmpvar_1056;
    tmpvar_1056 = fract((cos(
      dot (tmpvar_1055, vec2(21.9898, 78.233))
    ) * 43758.55));
    v_1047 = (((
      (tmpvar_1052 + ((tmpvar_1054 - tmpvar_1052) * uv_1049.x))
     + 
      ((tmpvar_1056 - tmpvar_1052) * uv_1049.y)
    ) + (
      ((((tmpvar_1052 - tmpvar_1054) - tmpvar_1056) + fract((
        cos(dot ((tmpvar_1050 + vec2(1.0, 1.0)), vec2(21.9898, 78.233)))
       * 43758.55))) * uv_1049.x)
     * uv_1049.y)) * 0.5);
    if (best) {
      vec2 xy_1057;
      xy_1057 = (tmpvar_1038 * 100.0);
      vec2 uv_1058;
      vec2 tmpvar_1059;
      tmpvar_1059 = floor(xy_1057);
      vec2 tmpvar_1060;
      tmpvar_1060 = (xy_1057 - tmpvar_1059);
      uv_1058 = ((tmpvar_1060 * tmpvar_1060) * (3.0 - (2.0 * tmpvar_1060)));
      float tmpvar_1061;
      tmpvar_1061 = fract((cos(
        dot (tmpvar_1059, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_1062;
      tmpvar_1062.x = (tmpvar_1059.x + 1.0);
      tmpvar_1062.y = tmpvar_1059.y;
      float tmpvar_1063;
      tmpvar_1063 = fract((cos(
        dot (tmpvar_1062, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_1064;
      tmpvar_1064.x = tmpvar_1059.x;
      tmpvar_1064.y = (tmpvar_1059.y + 1.0);
      float tmpvar_1065;
      tmpvar_1065 = fract((cos(
        dot (tmpvar_1064, vec2(21.9898, 78.233))
      ) * 43758.55));
      v_1047 = (v_1047 + ((
        ((tmpvar_1061 + ((tmpvar_1063 - tmpvar_1061) * uv_1058.x)) + ((tmpvar_1065 - tmpvar_1061) * uv_1058.y))
       + 
        ((((
          (tmpvar_1061 - tmpvar_1063)
         - tmpvar_1065) + fract(
          (cos(dot ((tmpvar_1059 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
        )) * uv_1058.x) * uv_1058.y)
      ) * 0.25));
      vec2 xy_1066;
      xy_1066 = (tmpvar_1038 * 50.0);
      vec2 uv_1067;
      vec2 tmpvar_1068;
      tmpvar_1068 = floor(xy_1066);
      vec2 tmpvar_1069;
      tmpvar_1069 = (xy_1066 - tmpvar_1068);
      uv_1067 = ((tmpvar_1069 * tmpvar_1069) * (3.0 - (2.0 * tmpvar_1069)));
      float tmpvar_1070;
      tmpvar_1070 = fract((cos(
        dot (tmpvar_1068, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_1071;
      tmpvar_1071.x = (tmpvar_1068.x + 1.0);
      tmpvar_1071.y = tmpvar_1068.y;
      float tmpvar_1072;
      tmpvar_1072 = fract((cos(
        dot (tmpvar_1071, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_1073;
      tmpvar_1073.x = tmpvar_1068.x;
      tmpvar_1073.y = (tmpvar_1068.y + 1.0);
      float tmpvar_1074;
      tmpvar_1074 = fract((cos(
        dot (tmpvar_1073, vec2(21.9898, 78.233))
      ) * 43758.55));
      v_1047 = (v_1047 + ((
        ((tmpvar_1070 + ((tmpvar_1072 - tmpvar_1070) * uv_1067.x)) + ((tmpvar_1074 - tmpvar_1070) * uv_1067.y))
       + 
        ((((
          (tmpvar_1070 - tmpvar_1072)
         - tmpvar_1074) + fract(
          (cos(dot ((tmpvar_1068 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
        )) * uv_1067.x) * uv_1067.y)
      ) * 0.125));
    };
    finalColor_1033 = (tmpvar_1039 * abs((0.003 / 
      (tmpvar_1042 - (0.206 + (0.5 * (
        (((tmpvar_1036 * tmpvar_1046) * 0.5) + 0.5)
       + 
        (v_1047 * 0.15)
      ))))
    )));
    vec3 tmpvar_1075;
    tmpvar_1075.z = 0.5;
    tmpvar_1075.x = (1.3 + tmpvar_1034);
    tmpvar_1075.y = (0.5 + abs((tmpvar_1034 * 
      sin(cos(time))
    )));
    vec2 x_1076;
    x_1076 = ((tmpvar_1038 / 1.6) * 0.5);
    vec2 tmpvar_1077;
    tmpvar_1077 = max (((
      -(tmpvar_1038)
     / 1.6) - vec2(0.572, 0.0915)), sqrt(dot (x_1076, x_1076)));
    float tmpvar_1078;
    tmpvar_1078 = sqrt(dot (tmpvar_1077, tmpvar_1077));
    float y_over_x_1079;
    y_over_x_1079 = (tmpvar_1038.y / tmpvar_1038.x);
    float tmpvar_1080;
    tmpvar_1080 = (min (abs(y_over_x_1079), 1.0) / max (abs(y_over_x_1079), 1.0));
    float tmpvar_1081;
    tmpvar_1081 = (tmpvar_1080 * tmpvar_1080);
    tmpvar_1081 = (((
      ((((
        ((((-0.01213232 * tmpvar_1081) + 0.05368138) * tmpvar_1081) - 0.1173503)
       * tmpvar_1081) + 0.1938925) * tmpvar_1081) - 0.3326756)
     * tmpvar_1081) + 0.9999793) * tmpvar_1080);
    tmpvar_1081 = (tmpvar_1081 + (float(
      (abs(y_over_x_1079) > 1.0)
    ) * (
      (tmpvar_1081 * -2.0)
     + 1.570796)));
    float tmpvar_1082;
    tmpvar_1082 = sin(((
      (tmpvar_1081 * sign(y_over_x_1079))
     * 30.0) + (time * 5.0)));
    float v_1083;
    vec2 xy_1084;
    xy_1084 = (tmpvar_1038 * 30.0);
    vec2 uv_1085;
    vec2 tmpvar_1086;
    tmpvar_1086 = floor(xy_1084);
    vec2 tmpvar_1087;
    tmpvar_1087 = (xy_1084 - tmpvar_1086);
    uv_1085 = ((tmpvar_1087 * tmpvar_1087) * (3.0 - (2.0 * tmpvar_1087)));
    float tmpvar_1088;
    tmpvar_1088 = fract((cos(
      dot (tmpvar_1086, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_1089;
    tmpvar_1089.x = (tmpvar_1086.x + 1.0);
    tmpvar_1089.y = tmpvar_1086.y;
    float tmpvar_1090;
    tmpvar_1090 = fract((cos(
      dot (tmpvar_1089, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_1091;
    tmpvar_1091.x = tmpvar_1086.x;
    tmpvar_1091.y = (tmpvar_1086.y + 1.0);
    float tmpvar_1092;
    tmpvar_1092 = fract((cos(
      dot (tmpvar_1091, vec2(21.9898, 78.233))
    ) * 43758.55));
    v_1083 = (((
      (tmpvar_1088 + ((tmpvar_1090 - tmpvar_1088) * uv_1085.x))
     + 
      ((tmpvar_1092 - tmpvar_1088) * uv_1085.y)
    ) + (
      ((((tmpvar_1088 - tmpvar_1090) - tmpvar_1092) + fract((
        cos(dot ((tmpvar_1086 + vec2(1.0, 1.0)), vec2(21.9898, 78.233)))
       * 43758.55))) * uv_1085.x)
     * uv_1085.y)) * 0.5);
    if (best) {
      vec2 xy_1093;
      xy_1093 = (tmpvar_1038 * 6.0);
      vec2 uv_1094;
      vec2 tmpvar_1095;
      tmpvar_1095 = floor(xy_1093);
      vec2 tmpvar_1096;
      tmpvar_1096 = (xy_1093 - tmpvar_1095);
      uv_1094 = ((tmpvar_1096 * tmpvar_1096) * (3.0 - (2.0 * tmpvar_1096)));
      float tmpvar_1097;
      tmpvar_1097 = fract((cos(
        dot (tmpvar_1095, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_1098;
      tmpvar_1098.x = (tmpvar_1095.x + 1.0);
      tmpvar_1098.y = tmpvar_1095.y;
      float tmpvar_1099;
      tmpvar_1099 = fract((cos(
        dot (tmpvar_1098, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_1100;
      tmpvar_1100.x = tmpvar_1095.x;
      tmpvar_1100.y = (tmpvar_1095.y + 1.0);
      float tmpvar_1101;
      tmpvar_1101 = fract((cos(
        dot (tmpvar_1100, vec2(21.9898, 78.233))
      ) * 43758.55));
      v_1083 = (v_1083 + ((
        ((tmpvar_1097 + ((tmpvar_1099 - tmpvar_1097) * uv_1094.x)) + ((tmpvar_1101 - tmpvar_1097) * uv_1094.y))
       + 
        ((((
          (tmpvar_1097 - tmpvar_1099)
         - tmpvar_1101) + fract(
          (cos(dot ((tmpvar_1095 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
        )) * uv_1094.x) * uv_1094.y)
      ) * 0.25));
      vec2 xy_1102;
      xy_1102 = (tmpvar_1038 * 5.0);
      vec2 uv_1103;
      vec2 tmpvar_1104;
      tmpvar_1104 = floor(xy_1102);
      vec2 tmpvar_1105;
      tmpvar_1105 = (xy_1102 - tmpvar_1104);
      uv_1103 = ((tmpvar_1105 * tmpvar_1105) * (3.0 - (2.0 * tmpvar_1105)));
      float tmpvar_1106;
      tmpvar_1106 = fract((cos(
        dot (tmpvar_1104, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_1107;
      tmpvar_1107.x = (tmpvar_1104.x + 1.0);
      tmpvar_1107.y = tmpvar_1104.y;
      float tmpvar_1108;
      tmpvar_1108 = fract((cos(
        dot (tmpvar_1107, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_1109;
      tmpvar_1109.x = tmpvar_1104.x;
      tmpvar_1109.y = (tmpvar_1104.y + 1.0);
      float tmpvar_1110;
      tmpvar_1110 = fract((cos(
        dot (tmpvar_1109, vec2(21.9898, 78.233))
      ) * 43758.55));
      v_1083 = (v_1083 + ((
        ((tmpvar_1106 + ((tmpvar_1108 - tmpvar_1106) * uv_1103.x)) + ((tmpvar_1110 - tmpvar_1106) * uv_1103.y))
       + 
        ((((
          (tmpvar_1106 - tmpvar_1108)
         - tmpvar_1110) + fract(
          (cos(dot ((tmpvar_1104 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
        )) * uv_1103.x) * uv_1103.y)
      ) * 0.125));
    };
    finalColor_1033 = (finalColor_1033 + (tmpvar_1075 * abs(
      (0.003 / (tmpvar_1078 - (0.2 + (0.5 * 
        ((((tmpvar_1036 * tmpvar_1082) * 0.5) + 0.5) + (v_1083 * 0.15))
      ))))
    )));
    if (best) {
      vec3 tmpvar_1111;
      tmpvar_1111.z = 0.652;
      tmpvar_1111.x = (0.1 + tmpvar_1034);
      tmpvar_1111.y = (0.951 + abs((tmpvar_1034 * 
        sin(cos(time))
      )));
      vec2 x_1112;
      x_1112 = ((tmpvar_1038 / 1.6) * 0.5);
      vec2 tmpvar_1113;
      tmpvar_1113 = max (((
        -(tmpvar_1038)
       / 1.6) - vec2(0.572, 0.0915)), sqrt(dot (x_1112, x_1112)));
      float tmpvar_1114;
      tmpvar_1114 = sqrt(dot (tmpvar_1113, tmpvar_1113));
      float y_over_x_1115;
      y_over_x_1115 = (tmpvar_1038.y / tmpvar_1038.x);
      float tmpvar_1116;
      tmpvar_1116 = (min (abs(y_over_x_1115), 1.0) / max (abs(y_over_x_1115), 1.0));
      float tmpvar_1117;
      tmpvar_1117 = (tmpvar_1116 * tmpvar_1116);
      tmpvar_1117 = (((
        ((((
          ((((-0.01213232 * tmpvar_1117) + 0.05368138) * tmpvar_1117) - 0.1173503)
         * tmpvar_1117) + 0.1938925) * tmpvar_1117) - 0.3326756)
       * tmpvar_1117) + 0.9999793) * tmpvar_1116);
      tmpvar_1117 = (tmpvar_1117 + (float(
        (abs(y_over_x_1115) > 1.0)
      ) * (
        (tmpvar_1117 * -2.0)
       + 1.570796)));
      float tmpvar_1118;
      tmpvar_1118 = sin(((
        (tmpvar_1117 * sign(y_over_x_1115))
       * 30.0) + (time * 4.0)));
      float v_1119;
      vec2 xy_1120;
      xy_1120 = (tmpvar_1038 * 20.0);
      vec2 uv_1121;
      vec2 tmpvar_1122;
      tmpvar_1122 = floor(xy_1120);
      vec2 tmpvar_1123;
      tmpvar_1123 = (xy_1120 - tmpvar_1122);
      uv_1121 = ((tmpvar_1123 * tmpvar_1123) * (3.0 - (2.0 * tmpvar_1123)));
      float tmpvar_1124;
      tmpvar_1124 = fract((cos(
        dot (tmpvar_1122, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_1125;
      tmpvar_1125.x = (tmpvar_1122.x + 1.0);
      tmpvar_1125.y = tmpvar_1122.y;
      float tmpvar_1126;
      tmpvar_1126 = fract((cos(
        dot (tmpvar_1125, vec2(21.9898, 78.233))
      ) * 43758.55));
      vec2 tmpvar_1127;
      tmpvar_1127.x = tmpvar_1122.x;
      tmpvar_1127.y = (tmpvar_1122.y + 1.0);
      float tmpvar_1128;
      tmpvar_1128 = fract((cos(
        dot (tmpvar_1127, vec2(21.9898, 78.233))
      ) * 43758.55));
      v_1119 = (((
        (tmpvar_1124 + ((tmpvar_1126 - tmpvar_1124) * uv_1121.x))
       + 
        ((tmpvar_1128 - tmpvar_1124) * uv_1121.y)
      ) + (
        ((((tmpvar_1124 - tmpvar_1126) - tmpvar_1128) + fract((
          cos(dot ((tmpvar_1122 + vec2(1.0, 1.0)), vec2(21.9898, 78.233)))
         * 43758.55))) * uv_1121.x)
       * uv_1121.y)) * 0.5);
      if (best) {
        vec2 xy_1129;
        xy_1129 = (tmpvar_1038 * 30.0);
        vec2 uv_1130;
        vec2 tmpvar_1131;
        tmpvar_1131 = floor(xy_1129);
        vec2 tmpvar_1132;
        tmpvar_1132 = (xy_1129 - tmpvar_1131);
        uv_1130 = ((tmpvar_1132 * tmpvar_1132) * (3.0 - (2.0 * tmpvar_1132)));
        float tmpvar_1133;
        tmpvar_1133 = fract((cos(
          dot (tmpvar_1131, vec2(21.9898, 78.233))
        ) * 43758.55));
        vec2 tmpvar_1134;
        tmpvar_1134.x = (tmpvar_1131.x + 1.0);
        tmpvar_1134.y = tmpvar_1131.y;
        float tmpvar_1135;
        tmpvar_1135 = fract((cos(
          dot (tmpvar_1134, vec2(21.9898, 78.233))
        ) * 43758.55));
        vec2 tmpvar_1136;
        tmpvar_1136.x = tmpvar_1131.x;
        tmpvar_1136.y = (tmpvar_1131.y + 1.0);
        float tmpvar_1137;
        tmpvar_1137 = fract((cos(
          dot (tmpvar_1136, vec2(21.9898, 78.233))
        ) * 43758.55));
        v_1119 = (v_1119 + ((
          ((tmpvar_1133 + ((tmpvar_1135 - tmpvar_1133) * uv_1130.x)) + ((tmpvar_1137 - tmpvar_1133) * uv_1130.y))
         + 
          ((((
            (tmpvar_1133 - tmpvar_1135)
           - tmpvar_1137) + fract(
            (cos(dot ((tmpvar_1131 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
          )) * uv_1130.x) * uv_1130.y)
        ) * 0.25));
        vec2 xy_1138;
        xy_1138 = (tmpvar_1038 * 70.0);
        vec2 uv_1139;
        vec2 tmpvar_1140;
        tmpvar_1140 = floor(xy_1138);
        vec2 tmpvar_1141;
        tmpvar_1141 = (xy_1138 - tmpvar_1140);
        uv_1139 = ((tmpvar_1141 * tmpvar_1141) * (3.0 - (2.0 * tmpvar_1141)));
        float tmpvar_1142;
        tmpvar_1142 = fract((cos(
          dot (tmpvar_1140, vec2(21.9898, 78.233))
        ) * 43758.55));
        vec2 tmpvar_1143;
        tmpvar_1143.x = (tmpvar_1140.x + 1.0);
        tmpvar_1143.y = tmpvar_1140.y;
        float tmpvar_1144;
        tmpvar_1144 = fract((cos(
          dot (tmpvar_1143, vec2(21.9898, 78.233))
        ) * 43758.55));
        vec2 tmpvar_1145;
        tmpvar_1145.x = tmpvar_1140.x;
        tmpvar_1145.y = (tmpvar_1140.y + 1.0);
        float tmpvar_1146;
        tmpvar_1146 = fract((cos(
          dot (tmpvar_1145, vec2(21.9898, 78.233))
        ) * 43758.55));
        v_1119 = (v_1119 + ((
          ((tmpvar_1142 + ((tmpvar_1144 - tmpvar_1142) * uv_1139.x)) + ((tmpvar_1146 - tmpvar_1142) * uv_1139.y))
         + 
          ((((
            (tmpvar_1142 - tmpvar_1144)
           - tmpvar_1146) + fract(
            (cos(dot ((tmpvar_1140 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
          )) * uv_1139.x) * uv_1139.y)
        ) * 0.125));
      };
      finalColor_1033 = (finalColor_1033 + (tmpvar_1111 * (0.51 * 
        abs((0.003 / (tmpvar_1114 - (0.186 + 
          (0.5 * (((
            (tmpvar_1036 * tmpvar_1118)
           * 0.5) + 0.5) + (v_1119 * 0.15)))
        ))))
      )));
    };
    vec4 tmpvar_1147;
    tmpvar_1147.w = 1.0;
    tmpvar_1147.xyz = finalColor_1033;
    float tmpvar_1148;
    float tmpvar_1149;
    tmpvar_1149 = clamp (((tmpvar_1005.y - 1.3) / -0.4), 0.0, 1.0);
    tmpvar_1148 = (tmpvar_1149 * (tmpvar_1149 * (3.0 - 
      (2.0 * tmpvar_1149)
    )));
    float tmpvar_1150;
    float tmpvar_1151;
    tmpvar_1151 = clamp ((tmpvar_1005.y / 0.1), 0.0, 1.0);
    tmpvar_1150 = (tmpvar_1151 * (tmpvar_1151 * (3.0 - 
      (2.0 * tmpvar_1151)
    )));
    float tmpvar_1152;
    float tmpvar_1153;
    tmpvar_1153 = clamp (((tmpvar_1005.x - -0.3) / 0.4), 0.0, 1.0);
    tmpvar_1152 = (tmpvar_1153 * (tmpvar_1153 * (3.0 - 
      (2.0 * tmpvar_1153)
    )));
    float tmpvar_1154;
    float tmpvar_1155;
    tmpvar_1155 = clamp (((tmpvar_1005.x - 1.3) / -0.4), 0.0, 1.0);
    tmpvar_1154 = (tmpvar_1155 * (tmpvar_1155 * (3.0 - 
      (2.0 * tmpvar_1155)
    )));
    vec2 pos_1156;
    pos_1156.x = pos_998.x;
    float R_1158;
    vec3 color_1159;
    color_1159 = vec3(0.0, 0.0, 0.0);
    pos_1156.y = (pos_998.y - (pos_998.x / 4.0));
    R_1158 = (900.0 * zoom);
    for (float blur_1157 = 0.0; blur_1157 < 2.0; blur_1157 += 1.0) {
      float timed_1161;
      timed_1161 = (((blur_1157 / 2.0) / 4.0) + (iTime * 6.0));
      for (float x_1160 = 0.0; x_1160 < 2.0; x_1160 += 1.0) {
        vec2 position_1162;
        vec2 tmpvar_1163;
        tmpvar_1163.x = (x_1160 / 2.0);
        tmpvar_1163.y = 0.0;
        position_1162 = ((pos_1156 + tmpvar_1163) / R_1158);
        position_1162 = (position_1162 * 2.0);
        position_1162 = (position_1162 - 1.25);
        position_1162.x = (position_1162.x + 0.8632537);
        position_1162.x = (position_1162.x * 8.5);
        position_1162.y = (position_1162.y * 1.4);
        position_1162.y = (position_1162.y + 0.4);
        position_1162 = -(position_1162);
        vec2 tmpvar_1164;
        tmpvar_1164.x = 0.04;
        tmpvar_1164.y = (((2.0 * position_1162.y) * (position_1162.x * position_1162.x)) - pow (sin(
          ((pow (position_1162.x, 3.0) * 2.5) - timed_1161)
        ), 0.5));
        color_1159 = (color_1159 + ((0.1 / 
          sqrt(dot (tmpvar_1164, tmpvar_1164))
        ) * vec3(0.0, 0.4, 1.0)));
        vec2 tmpvar_1165;
        tmpvar_1165.x = 0.04;
        tmpvar_1165.y = (((2.0 * position_1162.y) * (position_1162.x * position_1162.x)) + pow (sin(
          ((pow (position_1162.x, 3.0) * 2.5) - timed_1161)
        ), 0.5));
        color_1159 = (color_1159 + ((0.1 / 
          sqrt(dot (tmpvar_1165, tmpvar_1165))
        ) * vec3(0.0, 0.4, 1.0)));
        vec2 tmpvar_1166;
        tmpvar_1166.x = 0.01;
        tmpvar_1166.y = (((3.0 * position_1162.y) * (position_1162.x * position_1162.x)) + (sin(
          (((pow (position_1162.x, 3.0) * 8.0) + ((position_1162.x * position_1162.x) * 32.0)) + timed_1161)
        ) * sin(
          (((position_1162.y * position_1162.x) * (position_1162.x * 16.0)) + sin((timed_1161 / 8.0)))
        )));
        color_1159 = (color_1159 + ((0.1 / 
          sqrt(dot (tmpvar_1166, tmpvar_1166))
        ) * vec3(2.0, 0.3525, 1.8)));
        color_1159 = (color_1159 * float((
          (position_1162.x - 0.9)
         >= 0.0)));
        vec2 position_1167;
        vec2 tmpvar_1168;
        tmpvar_1168.x = (x_1160 / 2.0);
        tmpvar_1168.y = 0.5;
        position_1167 = ((pos_1156 + tmpvar_1168) / R_1158);
        position_1167 = (position_1167 * 2.0);
        position_1167 = (position_1167 - 1.25);
        position_1167.x = (position_1167.x + 0.8632537);
        position_1167.x = (position_1167.x * 8.5);
        position_1167.y = (position_1167.y * 1.4);
        position_1167.y = (position_1167.y + 0.4);
        position_1167 = -(position_1167);
        vec2 tmpvar_1169;
        tmpvar_1169.x = 0.04;
        tmpvar_1169.y = (((2.0 * position_1167.y) * (position_1167.x * position_1167.x)) - pow (sin(
          ((pow (position_1167.x, 3.0) * 2.5) - timed_1161)
        ), 0.5));
        color_1159 = (color_1159 + ((0.1 / 
          sqrt(dot (tmpvar_1169, tmpvar_1169))
        ) * vec3(0.0, 0.4, 1.0)));
        vec2 tmpvar_1170;
        tmpvar_1170.x = 0.04;
        tmpvar_1170.y = (((2.0 * position_1167.y) * (position_1167.x * position_1167.x)) + pow (sin(
          ((pow (position_1167.x, 3.0) * 2.5) - timed_1161)
        ), 0.5));
        color_1159 = (color_1159 + ((0.1 / 
          sqrt(dot (tmpvar_1170, tmpvar_1170))
        ) * vec3(0.0, 0.4, 1.0)));
        vec2 tmpvar_1171;
        tmpvar_1171.x = 0.01;
        tmpvar_1171.y = (((3.0 * position_1167.y) * (position_1167.x * position_1167.x)) + (sin(
          (((pow (position_1167.x, 3.0) * 8.0) + ((position_1167.x * position_1167.x) * 32.0)) + timed_1161)
        ) * sin(
          (((position_1167.y * position_1167.x) * (position_1167.x * 16.0)) + sin((timed_1161 / 8.0)))
        )));
        color_1159 = (color_1159 + ((0.1 / 
          sqrt(dot (tmpvar_1171, tmpvar_1171))
        ) * vec3(2.0, 0.3525, 1.8)));
        color_1159 = (color_1159 * float((
          (position_1167.x - 0.9)
         >= 0.0)));
      };
    };
    vec4 tmpvar_1172;
    tmpvar_1172.w = 1.0;
    tmpvar_1172.xyz = (((color_1159 / 2.0) * 2.0) / 2.0);
    vec4 tmpvar_1173;
    tmpvar_1173 = max (vec4(0.0, 0.0, 0.0, 0.0), tmpvar_1172);
    float tmpvar_1174;
    float tmpvar_1175;
    float tmpvar_1176;
    tmpvar_1176 = sin(time);
    tmpvar_1175 = clamp (((
      (tmpvar_1005.y - (0.1 * tmpvar_1176))
     - 0.8) / -0.1), 0.0, 1.0);
    tmpvar_1174 = (tmpvar_1175 * (tmpvar_1175 * (3.0 - 
      (2.0 * tmpvar_1175)
    )));
    float tmpvar_1177;
    float tmpvar_1178;
    tmpvar_1178 = clamp (((
      (tmpvar_1005.y + (0.1 * tmpvar_1176))
     - 0.2) / 0.1), 0.0, 1.0);
    tmpvar_1177 = (tmpvar_1178 * (tmpvar_1178 * (3.0 - 
      (2.0 * tmpvar_1178)
    )));
    float tmpvar_1179;
    float tmpvar_1180;
    tmpvar_1180 = clamp (((tmpvar_1005.x - -0.3) / 0.4), 0.0, 1.0);
    tmpvar_1179 = (tmpvar_1180 * (tmpvar_1180 * (3.0 - 
      (2.0 * tmpvar_1180)
    )));
    vec2 pos_1181;
    pos_1181.x = pos_998.x;
    float R_1183;
    vec3 color_1184;
    color_1184 = vec3(0.0, 0.0, 0.0);
    pos_1181.y = (pos_998.y + (pos_998.x / 4.0));
    R_1183 = (900.0 * zoom);
    for (float blur_1182 = 0.0; blur_1182 < 2.0; blur_1182 += 1.0) {
      float timed_1186;
      timed_1186 = (((blur_1182 / 2.0) / 4.0) + (-(iTime) * 6.0));
      for (float x_1185 = 0.0; x_1185 < 2.0; x_1185 += 1.0) {
        vec2 position_1187;
        vec2 tmpvar_1188;
        tmpvar_1188.x = (x_1185 / 2.0);
        tmpvar_1188.y = 0.0;
        position_1187 = ((pos_1181 + tmpvar_1188) / R_1183);
        position_1187 = (position_1187 * 2.0);
        position_1187 = (position_1187 - 1.25);
        position_1187.x = (position_1187.x + -0.3674636);
        position_1187.y = (position_1187.y + -0.5);
        position_1187.x = (position_1187.x * 8.5);
        position_1187.y = (position_1187.y * 1.4);
        position_1187.y = (position_1187.y + 0.4);
        vec2 tmpvar_1189;
        tmpvar_1189.x = 0.04;
        tmpvar_1189.y = (((2.0 * position_1187.y) * (position_1187.x * position_1187.x)) - pow (sin(
          ((pow (position_1187.x, 3.0) * 2.5) - timed_1186)
        ), 0.5));
        color_1184 = (color_1184 + ((0.1 / 
          sqrt(dot (tmpvar_1189, tmpvar_1189))
        ) * vec3(0.0, 0.4, 1.0)));
        vec2 tmpvar_1190;
        tmpvar_1190.x = 0.04;
        tmpvar_1190.y = (((2.0 * position_1187.y) * (position_1187.x * position_1187.x)) + pow (sin(
          ((pow (position_1187.x, 3.0) * 2.5) - timed_1186)
        ), 0.5));
        color_1184 = (color_1184 + ((0.1 / 
          sqrt(dot (tmpvar_1190, tmpvar_1190))
        ) * vec3(0.0, 0.4, 1.0)));
        vec2 tmpvar_1191;
        tmpvar_1191.x = 0.01;
        tmpvar_1191.y = (((3.0 * position_1187.y) * (position_1187.x * position_1187.x)) + (sin(
          (((pow (position_1187.x, 3.0) * 8.0) + ((position_1187.x * position_1187.x) * 32.0)) + timed_1186)
        ) * sin(
          (((position_1187.y * position_1187.x) * (position_1187.x * 16.0)) + sin((timed_1186 / 8.0)))
        )));
        color_1184 = (color_1184 + ((0.1 / 
          sqrt(dot (tmpvar_1191, tmpvar_1191))
        ) * vec3(2.0, 0.3525, 1.8)));
        color_1184 = (color_1184 * float((
          (position_1187.x - 0.9)
         >= 0.0)));
        vec2 position_1192;
        vec2 tmpvar_1193;
        tmpvar_1193.x = (x_1185 / 2.0);
        tmpvar_1193.y = 0.5;
        position_1192 = ((pos_1181 + tmpvar_1193) / R_1183);
        position_1192 = (position_1192 * 2.0);
        position_1192 = (position_1192 - 1.25);
        position_1192.x = (position_1192.x + -0.3674636);
        position_1192.y = (position_1192.y + -0.5);
        position_1192.x = (position_1192.x * 8.5);
        position_1192.y = (position_1192.y * 1.4);
        position_1192.y = (position_1192.y + 0.4);
        vec2 tmpvar_1194;
        tmpvar_1194.x = 0.04;
        tmpvar_1194.y = (((2.0 * position_1192.y) * (position_1192.x * position_1192.x)) - pow (sin(
          ((pow (position_1192.x, 3.0) * 2.5) - timed_1186)
        ), 0.5));
        color_1184 = (color_1184 + ((0.1 / 
          sqrt(dot (tmpvar_1194, tmpvar_1194))
        ) * vec3(0.0, 0.4, 1.0)));
        vec2 tmpvar_1195;
        tmpvar_1195.x = 0.04;
        tmpvar_1195.y = (((2.0 * position_1192.y) * (position_1192.x * position_1192.x)) + pow (sin(
          ((pow (position_1192.x, 3.0) * 2.5) - timed_1186)
        ), 0.5));
        color_1184 = (color_1184 + ((0.1 / 
          sqrt(dot (tmpvar_1195, tmpvar_1195))
        ) * vec3(0.0, 0.4, 1.0)));
        vec2 tmpvar_1196;
        tmpvar_1196.x = 0.01;
        tmpvar_1196.y = (((3.0 * position_1192.y) * (position_1192.x * position_1192.x)) + (sin(
          (((pow (position_1192.x, 3.0) * 8.0) + ((position_1192.x * position_1192.x) * 32.0)) + timed_1186)
        ) * sin(
          (((position_1192.y * position_1192.x) * (position_1192.x * 16.0)) + sin((timed_1186 / 8.0)))
        )));
        color_1184 = (color_1184 + ((0.1 / 
          sqrt(dot (tmpvar_1196, tmpvar_1196))
        ) * vec3(2.0, 0.3525, 1.8)));
        color_1184 = (color_1184 * float((
          (position_1192.x - 0.9)
         >= 0.0)));
      };
    };
    vec4 tmpvar_1197;
    tmpvar_1197.w = 1.0;
    tmpvar_1197.xyz = (((color_1184 / 2.0) * 2.0) / 2.0);
    vec4 tmpvar_1198;
    tmpvar_1198 = max (vec4(0.0, 0.0, 0.0, 0.0), tmpvar_1197);
    float tmpvar_1199;
    float tmpvar_1200;
    float tmpvar_1201;
    tmpvar_1201 = sin(time);
    tmpvar_1200 = clamp (((
      (tmpvar_1005.y - (0.1 * tmpvar_1201))
     - 0.8) / -0.1), 0.0, 1.0);
    tmpvar_1199 = (tmpvar_1200 * (tmpvar_1200 * (3.0 - 
      (2.0 * tmpvar_1200)
    )));
    float tmpvar_1202;
    float tmpvar_1203;
    tmpvar_1203 = clamp (((
      (tmpvar_1005.y + (0.1 * tmpvar_1201))
     - 0.2) / 0.1), 0.0, 1.0);
    tmpvar_1202 = (tmpvar_1203 * (tmpvar_1203 * (3.0 - 
      (2.0 * tmpvar_1203)
    )));
    float tmpvar_1204;
    float tmpvar_1205;
    tmpvar_1205 = clamp (((tmpvar_1005.x - 1.3) / -0.4), 0.0, 1.0);
    tmpvar_1204 = (tmpvar_1205 * (tmpvar_1205 * (3.0 - 
      (2.0 * tmpvar_1205)
    )));
    vec3 final_1206;
    vec3 color_1207;
    vec2 st_1208;
    vec2 tmpvar_1209;
    tmpvar_1209 = (pos_998 / (900.0 * zoom));
    st_1208.x = tmpvar_1209.x;
    st_1208.y = (tmpvar_1209.y + 0.4);
    st_1208 = (st_1208 - vec2(0.5, 0.5));
    float tmpvar_1210;
    tmpvar_1210 = clamp (((tax - 0.19) / 0.2), 0.0, 1.0);
    float tmpvar_1211;
    tmpvar_1211 = clamp (((tax - 0.65) / -0.26), 0.0, 1.0);
    float tmpvar_1212;
    tmpvar_1212 = ((1.0 - (tmpvar_1210 * 
      (tmpvar_1210 * (3.0 - (2.0 * tmpvar_1210)))
    )) + (1.0 - (tmpvar_1211 * 
      (tmpvar_1211 * (3.0 - (2.0 * tmpvar_1211)))
    )));
    float tmpvar_1213;
    tmpvar_1213 = (0.8 * (1.0 - tmpvar_1212));
    vec3 tmpvar_1214;
    tmpvar_1214 = (vec3(pow (abs(st_1208.y), (
      (0.5 - (tmpvar_1213 * 0.4))
     * 5.0))) * vec3(0.849, 0.08369, 0.08));
    color_1207 = tmpvar_1214;
    final_1206 = ((vec3(0.08, 0.003, 0.02) + tmpvar_1214) + vec3(((0.75 + 
      (tmpvar_1213 * 0.2)
    ) - pow (
      abs(st_1208.x)
    , 0.324))));
    float tmpvar_1215;
    tmpvar_1215 = (0.5 + (tmpvar_1213 * 0.5));
    float tmpvar_1216;
    tmpvar_1216 = (sqrt(dot (st_1208, st_1208)) * 2.0);
    float tmpvar_1217;
    float tmpvar_1218;
    tmpvar_1218 = (min (abs(
      (st_1208.y / st_1208.x)
    ), 1.0) / max (abs(
      (st_1208.y / st_1208.x)
    ), 1.0));
    float tmpvar_1219;
    tmpvar_1219 = (tmpvar_1218 * tmpvar_1218);
    tmpvar_1219 = (((
      ((((
        ((((-0.01213232 * tmpvar_1219) + 0.05368138) * tmpvar_1219) - 0.1173503)
       * tmpvar_1219) + 0.1938925) * tmpvar_1219) - 0.3326756)
     * tmpvar_1219) + 0.9999793) * tmpvar_1218);
    tmpvar_1219 = (tmpvar_1219 + (float(
      (abs((st_1208.y / st_1208.x)) > 1.0)
    ) * (
      (tmpvar_1219 * -2.0)
     + 1.570796)));
    tmpvar_1217 = (tmpvar_1219 * sign((st_1208.y / st_1208.x)));
    if ((abs(st_1208.x) > (1e-08 * abs(st_1208.y)))) {
      if ((st_1208.x < 0.0)) {
        if ((st_1208.y >= 0.0)) {
          tmpvar_1217 += 3.141593;
        } else {
          tmpvar_1217 = (tmpvar_1217 - 3.141593);
        };
      };
    } else {
      tmpvar_1217 = (sign(st_1208.y) * 1.570796);
    };
    float tmpvar_1220;
    tmpvar_1220 = (abs(cos(tmpvar_1217)) * 0.01);
    float tmpvar_1221;
    tmpvar_1221 = clamp (((tmpvar_1216 - tmpvar_1220) / (
      ((tmpvar_1220 + 0.02) + (tmpvar_1215 * 0.1))
     - tmpvar_1220)), 0.0, 1.0);
    color_1207 = (vec3((1.0 - (tmpvar_1221 * 
      (tmpvar_1221 * (3.0 - (2.0 * tmpvar_1221)))
    ))) * vec3(0.86, 0.759, 0.41));
    final_1206 = (final_1206 + color_1207);
    float tmpvar_1222;
    tmpvar_1222 = clamp (((tax - 0.19) / 0.46), 0.0, 1.0);
    vec4 tmpvar_1223;
    tmpvar_1223.w = 1.0;
    tmpvar_1223.xyz = final_1206;
    float edge0_1224;
    edge0_1224 = (0.05 + (0.05 * st_1208.y));
    float tmpvar_1225;
    tmpvar_1225 = clamp (((
      abs(st_1208.x)
     - edge0_1224) / (0.04 - edge0_1224)), 0.0, 1.0);
    float edge0_1226;
    edge0_1226 = (2.5 + (3.0 * (1.0 - 
      (1.0 - (tmpvar_1222 * (tmpvar_1222 * (3.0 - 
        (2.0 * tmpvar_1222)
      ))))
    )));
    float tmpvar_1227;
    tmpvar_1227 = clamp (((
      sqrt(dot (st_1208, st_1208))
     - edge0_1226) / -(edge0_1226)), 0.0, 1.0);
    tmpvar_1001 = (((
      (((tmpvar_1032 + (boxx_1003 * 
        ((1.0 - (tmpvar_1020.y * 2.0)) - tmpvar_1020.x)
      )) + ((tmpvar_1147 * tmpvar_1148) * (
        (tmpvar_1150 * tmpvar_1152)
       * tmpvar_1154))) + (((
        (tmpvar_1173 * tmpvar_1174)
       * tmpvar_1177) * (1.0 - tmpvar_1020.x)) * tmpvar_1179))
     + 
      ((((tmpvar_1198 * tmpvar_1199) * tmpvar_1202) * (1.0 - tmpvar_1020.x)) * tmpvar_1204)
    ) + (
      (((tmpvar_1223 * (tmpvar_1225 * 
        (tmpvar_1225 * (3.0 - (2.0 * tmpvar_1225)))
      )) * float((st_1208.y >= 0.0))) * (1.0 - tmpvar_1212))
     * 
      (tmpvar_1227 * (tmpvar_1227 * (3.0 - (2.0 * tmpvar_1227))))
    )) + (buff_11 * (1.0 - tmpvar_1020.x)));
  } else {
    vec3 final_1228;
    vec3 color_1229;
    vec2 st_1230;
    vec2 tmpvar_1231;
    tmpvar_1231 = (pos_998 / (900.0 * zoom));
    st_1230.x = tmpvar_1231.x;
    st_1230.y = (tmpvar_1231.y + 0.4);
    st_1230 = (st_1230 - vec2(0.5, 0.5));
    float tmpvar_1232;
    tmpvar_1232 = clamp (((tax - 0.19) / 0.2), 0.0, 1.0);
    float tmpvar_1233;
    tmpvar_1233 = clamp (((tax - 0.65) / -0.26), 0.0, 1.0);
    float tmpvar_1234;
    tmpvar_1234 = ((1.0 - (tmpvar_1232 * 
      (tmpvar_1232 * (3.0 - (2.0 * tmpvar_1232)))
    )) + (1.0 - (tmpvar_1233 * 
      (tmpvar_1233 * (3.0 - (2.0 * tmpvar_1233)))
    )));
    float tmpvar_1235;
    tmpvar_1235 = (0.8 * (1.0 - tmpvar_1234));
    vec3 tmpvar_1236;
    tmpvar_1236 = (vec3(pow (abs(st_1230.y), (
      (0.5 - (tmpvar_1235 * 0.4))
     * 5.0))) * vec3(0.849, 0.08369, 0.08));
    color_1229 = tmpvar_1236;
    final_1228 = ((vec3(0.08, 0.003, 0.02) + tmpvar_1236) + vec3(((0.75 + 
      (tmpvar_1235 * 0.2)
    ) - pow (
      abs(st_1230.x)
    , 0.324))));
    float tmpvar_1237;
    tmpvar_1237 = (0.5 + (tmpvar_1235 * 0.5));
    float tmpvar_1238;
    tmpvar_1238 = (sqrt(dot (st_1230, st_1230)) * 2.0);
    float tmpvar_1239;
    float tmpvar_1240;
    tmpvar_1240 = (min (abs(
      (st_1230.y / st_1230.x)
    ), 1.0) / max (abs(
      (st_1230.y / st_1230.x)
    ), 1.0));
    float tmpvar_1241;
    tmpvar_1241 = (tmpvar_1240 * tmpvar_1240);
    tmpvar_1241 = (((
      ((((
        ((((-0.01213232 * tmpvar_1241) + 0.05368138) * tmpvar_1241) - 0.1173503)
       * tmpvar_1241) + 0.1938925) * tmpvar_1241) - 0.3326756)
     * tmpvar_1241) + 0.9999793) * tmpvar_1240);
    tmpvar_1241 = (tmpvar_1241 + (float(
      (abs((st_1230.y / st_1230.x)) > 1.0)
    ) * (
      (tmpvar_1241 * -2.0)
     + 1.570796)));
    tmpvar_1239 = (tmpvar_1241 * sign((st_1230.y / st_1230.x)));
    if ((abs(st_1230.x) > (1e-08 * abs(st_1230.y)))) {
      if ((st_1230.x < 0.0)) {
        if ((st_1230.y >= 0.0)) {
          tmpvar_1239 += 3.141593;
        } else {
          tmpvar_1239 = (tmpvar_1239 - 3.141593);
        };
      };
    } else {
      tmpvar_1239 = (sign(st_1230.y) * 1.570796);
    };
    float tmpvar_1242;
    tmpvar_1242 = (abs(cos(tmpvar_1239)) * 0.01);
    float tmpvar_1243;
    tmpvar_1243 = clamp (((tmpvar_1238 - tmpvar_1242) / (
      ((tmpvar_1242 + 0.02) + (tmpvar_1237 * 0.1))
     - tmpvar_1242)), 0.0, 1.0);
    color_1229 = (vec3((1.0 - (tmpvar_1243 * 
      (tmpvar_1243 * (3.0 - (2.0 * tmpvar_1243)))
    ))) * vec3(0.86, 0.759, 0.41));
    final_1228 = (final_1228 + color_1229);
    float tmpvar_1244;
    tmpvar_1244 = clamp (((tax - 0.19) / 0.46), 0.0, 1.0);
    vec4 tmpvar_1245;
    tmpvar_1245.w = 1.0;
    tmpvar_1245.xyz = final_1228;
    float edge0_1246;
    edge0_1246 = (0.05 + (0.05 * st_1230.y));
    float tmpvar_1247;
    tmpvar_1247 = clamp (((
      abs(st_1230.x)
     - edge0_1246) / (0.04 - edge0_1246)), 0.0, 1.0);
    float edge0_1248;
    edge0_1248 = (2.5 + (3.0 * (1.0 - 
      (1.0 - (tmpvar_1244 * (tmpvar_1244 * (3.0 - 
        (2.0 * tmpvar_1244)
      ))))
    )));
    float tmpvar_1249;
    tmpvar_1249 = clamp (((
      sqrt(dot (st_1230, st_1230))
     - edge0_1248) / -(edge0_1248)), 0.0, 1.0);
    tmpvar_1001 = (buff_11 + ((
      ((tmpvar_1245 * (tmpvar_1247 * (tmpvar_1247 * 
        (3.0 - (2.0 * tmpvar_1247))
      ))) * float((st_1230.y >= 0.0)))
     * 
      (1.0 - tmpvar_1234)
    ) * (tmpvar_1249 * 
      (tmpvar_1249 * (3.0 - (2.0 * tmpvar_1249)))
    )));
  };
  buff_11 = tmpvar_1001;
  tb_9 = mcol_10;
  exbff_8 = vec4(0.0, 0.0, 0.0, 0.0);

  for(int i_7=0;i_7<50;i_7++) {
    if ((i_7 >= 50)) {
      break;
    };
    if ((i_7 >= en1counter)) {
      break;
    };
    vec2 tmpvar_1250;
    tmpvar_1250.x = en1posx[i_7];
    tmpvar_1250.y = en1posy[i_7];
    float tshift_1251;
    tshift_1251 = en1timer[i_7];
    vec2 pos_1252;
    pos_1252 = fragCoord_3;
    float cpower_1253;
    cpower_1253 = en1exval[i_7];
    float chpower_1254;
    chpower_1254 = en1lval[i_7];
    vec4 tcc_1255;
    bool xxex_1256;
    xxex_1256 = en1llisex[i_7];
    vec4 tmpvar_1257;
    float R_1258;
    float tmpvar_1259;
    float tmpvar_1260;
    tmpvar_1260 = (125.0 * zoom);
    tmpvar_1259 = ((tmpvar_1250.y * zoom) - tmpvar_1260);
    float tmpvar_1261;
    tmpvar_1261 = ((tmpvar_1250.x * zoom) - tmpvar_1260);
    float tmpvar_1262;
    float tmpvar_1263;
    tmpvar_1263 = (min (abs(
      (tmpvar_1259 / tmpvar_1261)
    ), 1.0) / max (abs(
      (tmpvar_1259 / tmpvar_1261)
    ), 1.0));
    float tmpvar_1264;
    tmpvar_1264 = (tmpvar_1263 * tmpvar_1263);
    tmpvar_1264 = (((
      ((((
        ((((-0.01213232 * tmpvar_1264) + 0.05368138) * tmpvar_1264) - 0.1173503)
       * tmpvar_1264) + 0.1938925) * tmpvar_1264) - 0.3326756)
     * tmpvar_1264) + 0.9999793) * tmpvar_1263);
    tmpvar_1264 = (tmpvar_1264 + (float(
      (abs((tmpvar_1259 / tmpvar_1261)) > 1.0)
    ) * (
      (tmpvar_1264 * -2.0)
     + 1.570796)));
    tmpvar_1262 = (tmpvar_1264 * sign((tmpvar_1259 / tmpvar_1261)));
    if ((abs(tmpvar_1261) > (1e-08 * abs(tmpvar_1259)))) {
      if ((tmpvar_1261 < 0.0)) {
        if ((tmpvar_1259 >= 0.0)) {
          tmpvar_1262 += 3.141593;
        } else {
          tmpvar_1262 = (tmpvar_1262 - 3.141593);
        };
      };
    } else {
      tmpvar_1262 = (sign(tmpvar_1259) * 1.570796);
    };
    float tmpvar_1265;
    tmpvar_1265 = -(tmpvar_1262);
    pos_1252 = ((fragCoord_3 - (tmpvar_1250 * zoom)) - shippos);
    R_1258 = 250.0;
    vec2 x_1266;
    x_1266 = (pos_1252 - (125.0 * zoom));
    float tmpvar_1267;
    tmpvar_1267 = float((sqrt(
      dot (x_1266, x_1266)
    ) >= (
      ((300.0 + (500.0 * cpower_1253)) / 2.0)
     * zoom)));
    if (((1.0 - tmpvar_1267) > 0.0)) {
      vec4 tr2_1268;
      float b_1269;
      vec2 uv_1270;
      R_1258 = (250.0 * zoom);
      uv_1270 = (((pos_1252 / R_1258) - 0.5) * 2.0);
      mat2 tmpvar_1271;
      tmpvar_1271[0].x = cos(tmpvar_1265);
      tmpvar_1271[0].y = -(sin(tmpvar_1265));
      tmpvar_1271[1].x = sin(tmpvar_1265);
      tmpvar_1271[1].y = cos(tmpvar_1265);
      uv_1270 = (uv_1270 * tmpvar_1271);
      float tmpvar_1272;
      float tmpvar_1273;
      tmpvar_1273 = (min (abs(
        (uv_1270.y / uv_1270.x)
      ), 1.0) / max (abs(
        (uv_1270.y / uv_1270.x)
      ), 1.0));
      float tmpvar_1274;
      tmpvar_1274 = (tmpvar_1273 * tmpvar_1273);
      tmpvar_1274 = (((
        ((((
          ((((-0.01213232 * tmpvar_1274) + 0.05368138) * tmpvar_1274) - 0.1173503)
         * tmpvar_1274) + 0.1938925) * tmpvar_1274) - 0.3326756)
       * tmpvar_1274) + 0.9999793) * tmpvar_1273);
      tmpvar_1274 = (tmpvar_1274 + (float(
        (abs((uv_1270.y / uv_1270.x)) > 1.0)
      ) * (
        (tmpvar_1274 * -2.0)
       + 1.570796)));
      tmpvar_1272 = (tmpvar_1274 * sign((uv_1270.y / uv_1270.x)));
      if ((abs(uv_1270.x) > (1e-08 * abs(uv_1270.y)))) {
        if ((uv_1270.x < 0.0)) {
          if ((uv_1270.y >= 0.0)) {
            tmpvar_1272 += 3.141593;
          } else {
            tmpvar_1272 = (tmpvar_1272 - 3.141593);
          };
        };
      } else {
        tmpvar_1272 = (sign(uv_1270.y) * 1.570796);
      };
      float radius_1275;
      radius_1275 = (0.6 + ((
        ((chpower_1254 - 1.0) * max (0.0, (exp(
          (-(((
            -(cos(tmpvar_1272))
           * 0.5) + 0.5)) * 14.0)
        ) - 0.05)))
       * 
        (0.5 + (0.5 * sin((
          (tmpvar_1272 - tshift_1251)
         * 15.0))))
      ) / 10.0));
      float tmpvar_1276;
      tmpvar_1276 = (0.1 * ((
        -(cos(tmpvar_1272))
       * 0.5) + 0.5));
      float tmpvar_1277;
      tmpvar_1277 = sqrt(dot (uv_1270, uv_1270));
      float edge0_1278;
      edge0_1278 = ((radius_1275 - tmpvar_1276) - 0.01);
      float tmpvar_1279;
      tmpvar_1279 = clamp (((tmpvar_1277 - edge0_1278) / (
        (radius_1275 - tmpvar_1276)
       - edge0_1278)), 0.0, 1.0);
      float edge0_1280;
      edge0_1280 = (radius_1275 + tmpvar_1276);
      float tmpvar_1281;
      tmpvar_1281 = clamp (((tmpvar_1277 - edge0_1280) / (
        ((radius_1275 + tmpvar_1276) + 0.01)
       - edge0_1280)), 0.0, 1.0);
      float edge0_1282;
      edge0_1282 = (radius_1275 + tmpvar_1276);
      float tmpvar_1283;
      tmpvar_1283 = clamp (((tmpvar_1277 - edge0_1282) / (
        ((radius_1275 + tmpvar_1276) + 0.01)
       - edge0_1282)), 0.0, 1.0);
      float tmpvar_1284;
      float edge0_1285;
      edge0_1285 = ((radius_1275 - tmpvar_1276) - 0.01);
      float tmpvar_1286;
      tmpvar_1286 = clamp (((tmpvar_1277 - edge0_1285) / (
        (radius_1275 - tmpvar_1276)
       - edge0_1285)), 0.0, 1.0);
      tmpvar_1284 = (tmpvar_1286 * (tmpvar_1286 * (3.0 - 
        (2.0 * tmpvar_1286)
      )));
      vec3 tmpvar_1287;
      tmpvar_1287.x = ((tmpvar_1279 * (tmpvar_1279 * 
        (3.0 - (2.0 * tmpvar_1279))
      )) - (tmpvar_1281 * (tmpvar_1281 * 
        (3.0 - (2.0 * tmpvar_1281))
      )));
      tmpvar_1287.y = (1.0 - (tmpvar_1283 * (tmpvar_1283 * 
        (3.0 - (2.0 * tmpvar_1283))
      )));
      tmpvar_1287.z = tmpvar_1284;
      float tmpvar_1288;
      tmpvar_1288 = tmpvar_1287.x;
      b_1269 = 0.0;
      if ((tshift_1251 < 1.2)) {
        float timex_1289;
        vec2 tmpvar_1290;
        tmpvar_1290 = (((pos_1252 / 
          (250.0 * zoom)
        ) * 2.0) - 1.0);
        timex_1289 = (tshift_1251 + 5.7);
        float tmpvar_1291;
        tmpvar_1291 = ((sin(
          (timex_1289 * 2.0)
        ) + 1.0) * 5.0);
        float tmpvar_1292;
        tmpvar_1292 = ((sin(
          (timex_1289 * 3.0)
        ) / 2.0) + 0.5);
        float tmpvar_1293;
        tmpvar_1293 = (((
          sin((timex_1289 * 5.0))
         / 2.0) + 1.0) * 40.0);
        float tmpvar_1294;
        tmpvar_1294 = sqrt((pow (
          abs(tmpvar_1290.x)
        , tmpvar_1291) + pow (
          abs(tmpvar_1290.y)
        , tmpvar_1291)));
        float tmpvar_1295;
        tmpvar_1295 = clamp (((tmpvar_1292 - tmpvar_1294) * 250.0), 0.0, 1.0);
        b_1269 = max (0.0, (tmpvar_1295 + (
          (1.0 - tmpvar_1295)
         * 
          (1.0 + (((
            (tmpvar_1292 - tmpvar_1294)
           * 250.0) + tmpvar_1293) / tmpvar_1293))
        )));
      } else {
        b_1269 = 1.0;
      };
      vec2 uv_1296;
      uv_1296.y = uv_1270.y;
      float dir_1297;
      vec2 relative_1298;
      vec2 branch_1299;
      uv_1296.x = (uv_1270.x - 0.05);
      uv_1296 = (uv_1296 * 0.08);
      branch_1299 = vec2(0.0, 0.0);
      relative_1298 = (uv_1296 * (uv_1296 * uv_1296));
      float tmpvar_1300;
      float tmpvar_1301;
      tmpvar_1301 = (min (abs(
        (relative_1298.y / relative_1298.x)
      ), 1.0) / max (abs(
        (relative_1298.y / relative_1298.x)
      ), 1.0));
      float tmpvar_1302;
      tmpvar_1302 = (tmpvar_1301 * tmpvar_1301);
      tmpvar_1302 = (((
        ((((
          ((((-0.01213232 * tmpvar_1302) + 0.05368138) * tmpvar_1302) - 0.1173503)
         * tmpvar_1302) + 0.1938925) * tmpvar_1302) - 0.3326756)
       * tmpvar_1302) + 0.9999793) * tmpvar_1301);
      tmpvar_1302 = (tmpvar_1302 + (float(
        (abs((relative_1298.y / relative_1298.x)) > 1.0)
      ) * (
        (tmpvar_1302 * -2.0)
       + 1.570796)));
      tmpvar_1300 = (tmpvar_1302 * sign((relative_1298.y / relative_1298.x)));
      if ((abs(relative_1298.x) > (1e-08 * abs(relative_1298.y)))) {
        if ((relative_1298.x < 0.0)) {
          if ((relative_1298.y >= 0.0)) {
            tmpvar_1300 += 3.141593;
          } else {
            tmpvar_1300 = (tmpvar_1300 - 3.141593);
          };
        };
      } else {
        tmpvar_1300 = (sign(relative_1298.y) * 1.570796);
      };
      dir_1297 = (tmpvar_1300 * 3.0);
      dir_1297 = (dir_1297 - (tshift_1251 * 1.5));
      vec2 tmpvar_1303;
      tmpvar_1303.x = cos(dir_1297);
      tmpvar_1303.y = sin(dir_1297);
      relative_1298 = ((tmpvar_1303 / 3.0) - 0.7831919);
      branch_1299 = ((relative_1298 / 100.0) / sqrt(dot (uv_1296, uv_1296)));
      vec2 tmpvar_1304;
      tmpvar_1304 = (uv_1296 - branch_1299);
      float tmpvar_1305;
      tmpvar_1305 = ((2.0 + (0.5 * 
        sin(tshift_1251)
      )) + (10.0 * chpower_1254));
      float tmpvar_1306;
      tmpvar_1306 = clamp (((
        (sqrt(dot (uv_1296, uv_1296)) * 2.0)
       - 0.1) / -0.1), 0.0, 1.0);
      float tmpvar_1307;
      tmpvar_1307 = clamp (((
        (sqrt(dot (uv_1296, uv_1296)) * 2.0)
       - 0.1) / -0.1), 0.0, 1.0);
      float tmpvar_1308;
      tmpvar_1308 = clamp (((
        (sqrt(dot (uv_1296, uv_1296)) * 2.0)
       - 0.1) / -0.1), 0.0, 1.0);
      vec4 tmpvar_1309;
      tmpvar_1309.w = 1.0;
      tmpvar_1309.x = abs(((
        sin(tmpvar_1305)
       - 1.0) - (
        (1.0 - sin(tshift_1251))
       * 
        (tmpvar_1306 * (tmpvar_1306 * (3.0 - (2.0 * tmpvar_1306))))
      )));
      tmpvar_1309.y = abs(((0.5 + 
        sin(tmpvar_1305)
      ) - (
        (0.5 - sin(tshift_1251))
       * 
        (tmpvar_1307 * (tmpvar_1307 * (3.0 - (2.0 * tmpvar_1307))))
      )));
      tmpvar_1309.z = abs(((0.5 - 
        sin(tmpvar_1305)
      ) - (
        (0.5 - sin(tshift_1251))
       * 
        (tmpvar_1308 * (tmpvar_1308 * (3.0 - (2.0 * tmpvar_1308))))
      )));
      float tmpvar_1310;
      tmpvar_1310 = clamp (((
        (sqrt(dot (uv_1296, uv_1296)) / 2.0)
       - 0.1) / 0.8), 0.0, 1.0);
      vec4 tmpvar_1311;
      tmpvar_1311 = (min (vec4(1.0, 1.0, 1.0, 1.0), (tmpvar_1309 * 
        (sqrt(dot (tmpvar_1304, tmpvar_1304)) / chpower_1254)
      )) - (tmpvar_1310 * (tmpvar_1310 * 
        (3.0 - (2.0 * tmpvar_1310))
      )));
      tr2_1268 = ((tmpvar_1311 * b_1269) + ((
        (5.0 * tmpvar_1311)
       * 
        (1.0 - b_1269)
      ) * b_1269));
      vec2 p_1312;
      vec2 tmpvar_1313;
      float tmpvar_1314;
      tmpvar_1314 = (250.0 * zoom);
      tmpvar_1313 = (((pos_1252 / tmpvar_1314) * 2.0) - 1.0);
      p_1312.y = tmpvar_1313.y;
      p_1312.x = (tmpvar_1313.x - 0.051);
      vec4 tmpvar_1315;
      tmpvar_1315.w = 1.0;
      tmpvar_1315.xyz = (vec3(0.1, 0.1, 0.2) * abs((0.32076 / 
        (((p_1312.x * p_1312.x) + (tmpvar_1313.y * tmpvar_1313.y)) - (0.2880836 * abs(sin(
          ((((
            (p_1312.x * tmpvar_1313.y)
           * 50.0) + iTime) + (tmpvar_1314 * p_1312.x)) + (tmpvar_1314 * tmpvar_1313.y))
        ))))
      )));
      vec4 tmpvar_1316;
      tmpvar_1316 = (-(tmpvar_1315) * b_1269);
      float intensity_1317;
      vec2 tmpvar_1318;
      tmpvar_1318 = vec2((tmpvar_1314 / 2.0));
      vec2 x_1319;
      x_1319 = (tmpvar_1318 - pos_1252);
      float tmpvar_1320;
      tmpvar_1320 = exp((-(
        abs((pos_1252.x - tmpvar_1318.x))
      ) * (0.02 / 
        (tmpvar_1314 / 500.0)
      )));
      intensity_1317 = (pow ((
        (cpower_1253 * (tmpvar_1314 / 2.0))
       / 
        sqrt(dot (x_1319, x_1319))
      ), 4.0) + pow ((
        (32.0 * (tmpvar_1320 * tmpvar_1320))
       / 
        abs(((tmpvar_1314 / 2.0) - pos_1252.y))
      ), 0.5));
      intensity_1317 = (intensity_1317 + (intensity_1317 * intensity_1317));
      vec3 tmpvar_1321;
      tmpvar_1321.yz = vec2(0.25, 0.97);
      tmpvar_1321.x = (0.91 + ((0.05 * 
        sin((-(tshift_1251) * 50.0))
      ) * float(
        (cpower_1253 >= 0.5)
      )));
      vec4 tmpvar_1322;
      tmpvar_1322.w = 1.0;
      tmpvar_1322.xyz = ((tmpvar_1321 * intensity_1317) * 0.8);
      vec4 tmpvar_1323;
      tmpvar_1323 = ((min (vec4(1.0, 1.0, 1.0, 1.0), tmpvar_1322) * cpower_1253) * b_1269);
      uv_1270.x = (uv_1270.x + 0.1);
      if ((xxex_1256 || (cpower_1253 > 0.0))) {
        float edge0_1324;
        edge0_1324 = (0.7 + (2.0 * cpower_1253));
        float tmpvar_1325;
        tmpvar_1325 = clamp (((
          sqrt(dot (uv_1270, uv_1270))
         - edge0_1324) / (0.5 - edge0_1324)), 0.0, 1.0);
        tcc_1255 = (tmpvar_1323 * (tmpvar_1325 * (tmpvar_1325 * 
          (3.0 - (2.0 * tmpvar_1325))
        )));
        tmpvar_1257 = tcc_1255;
      } else {
        vec3 tmpvar_1326;
        tmpvar_1326.x = -(tmpvar_1287.x);
        tmpvar_1326.y = tmpvar_1288;
        tmpvar_1326.z = tmpvar_1288;
        vec4 tmpvar_1327;
        tmpvar_1327.w = 1.0;
        tmpvar_1327.xyz = -(tmpvar_1326);
        float tmpvar_1328;
        tmpvar_1328 = clamp (((
          sqrt(dot (uv_1270, uv_1270))
         - 0.7) / -0.2), 0.0, 1.0);
        float edge0_1329;
        edge0_1329 = (0.7 + (2.0 * cpower_1253));
        float tmpvar_1330;
        tmpvar_1330 = clamp (((
          sqrt(dot (uv_1270, uv_1270))
         - edge0_1329) / (0.5 - edge0_1329)), 0.0, 1.0);
        tcc_1255 = ((max (vec4(0.0, 0.0, 0.0, 0.0), 
          ((((
            (tmpvar_1327 * tr2_1268)
           * 
            (tmpvar_1287.y * 0.57)
          ) + (tr2_1268 * tmpvar_1287.y)) + (tmpvar_1316 * tmpvar_1287.y)) + ((tr2_1268 * (1.0 - tmpvar_1287.y)) * (tmpvar_1328 * (tmpvar_1328 * 
            (3.0 - (2.0 * tmpvar_1328))
          ))))
        ) + (tmpvar_1323 * 
          (tmpvar_1330 * (tmpvar_1330 * (3.0 - (2.0 * tmpvar_1330))))
        )) + (tb_9 * (1.0 - tmpvar_1287.x)));
        vec3 tmpvar_1331;
        tmpvar_1331.x = -(tmpvar_1287.x);
        tmpvar_1331.y = tmpvar_1288;
        tmpvar_1331.z = tmpvar_1288;
        vec4 tmpvar_1332;
        tmpvar_1332.w = 1.0;
        tmpvar_1332.xyz = -(tmpvar_1331);
        float tmpvar_1333;
        tmpvar_1333 = clamp (((
          sqrt(dot (uv_1270, uv_1270))
         - 0.7) / -0.2), 0.0, 1.0);
        float edge0_1334;
        edge0_1334 = (0.7 + (2.0 * cpower_1253));
        float tmpvar_1335;
        tmpvar_1335 = clamp (((
          sqrt(dot (uv_1270, uv_1270))
         - edge0_1334) / (0.5 - edge0_1334)), 0.0, 1.0);
        tmpvar_1257 = (((
          max (vec4(0.0, 0.0, 0.0, 0.0), (((
            ((tmpvar_1332 * tr2_1268) * (tmpvar_1287.y * 0.57))
           + 
            (tr2_1268 * tmpvar_1287.y)
          ) + (tmpvar_1316 * tmpvar_1287.y)) + ((tr2_1268 * 
            (1.0 - tmpvar_1287.y)
          ) * (tmpvar_1333 * 
            (tmpvar_1333 * (3.0 - (2.0 * tmpvar_1333)))
          ))))
         + 
          (tmpvar_1323 * (tmpvar_1335 * (tmpvar_1335 * (3.0 - 
            (2.0 * tmpvar_1335)
          ))))
        ) + (buff_11 * 
          (1.0 - (tmpvar_1287.y * b_1269))
        )) + (tb_9 * (1.0 - 
          (tmpvar_1284 * b_1269)
        )));
      };
    } else {
      if ((xxex_1256 || (cpower_1253 > 0.0))) {
        tcc_1255 = vec4(0.0, 0.0, 0.0, 0.0);
        tmpvar_1257 = vec4(0.0, 0.0, 0.0, 0.0);
      } else {
        tcc_1255 = tb_9;
        tmpvar_1257 = buff_11;
      };
    };
    if ((en1llisex[i_7] || (en1exval[i_7] > 0.0))) {
      exbff_8 = (exbff_8 + min (vec4(1.0, 1.0, 1.0, 1.0), tmpvar_1257));
    } else {
      buff_11 = tmpvar_1257;
      tb_9 = tcc_1255;
    };
  };
  mcol_10 = buff_11;
  txeb_6 = vec4(0.0, 0.0, 0.0, 0.0);
  for(int i_5=0;i_5<50;i_5++) {
    if ((i_5 >= 50)) {
      break;
    };
    if ((i_5 >= en2counter)) {
      break;
    };
    vec2 tmpvar_1336;
    tmpvar_1336.x = en2posx[i_5];
    tmpvar_1336.y = en2posy[i_5];
    vec4 col_1337;
    col_1337 = mcol_10;
    vec2 pos_1338;
    float tshift_1339;
    tshift_1339 = en2timer[i_5];
    vec4 lux_1340;
    bool naa_1341;
    naa_1341 = en2llishit[i_5];
    float botmr_1342;
    botmr_1342 = en2extimer[i_5];
    vec4 tmpvar_1343;
    vec2 tmpvar_1344;
    float tmpvar_1345;
    tmpvar_1345 = (125.0 * zoom);
    tmpvar_1344 = ((tmpvar_1336 * zoom) - tmpvar_1345);
    pos_1338 = ((fragCoord_3 - (tmpvar_1336 * zoom)) - shippos);
    bool tmpvar_1346;
    tmpvar_1346 = ((float(
      ((1500.0 * zoom) >= sqrt(dot (tmpvar_1344, tmpvar_1344)))
    ) > 0.0) && (botmr_1342 < 0.001));
    float tmpvar_1347;
    tmpvar_1347 = ((tmpvar_1336.y * zoom) - tmpvar_1345);
    float tmpvar_1348;
    tmpvar_1348 = ((tmpvar_1336.x * zoom) - tmpvar_1345);
    float tmpvar_1349;
    float tmpvar_1350;
    tmpvar_1350 = (min (abs(
      (tmpvar_1347 / tmpvar_1348)
    ), 1.0) / max (abs(
      (tmpvar_1347 / tmpvar_1348)
    ), 1.0));
    float tmpvar_1351;
    tmpvar_1351 = (tmpvar_1350 * tmpvar_1350);
    tmpvar_1351 = (((
      ((((
        ((((-0.01213232 * tmpvar_1351) + 0.05368138) * tmpvar_1351) - 0.1173503)
       * tmpvar_1351) + 0.1938925) * tmpvar_1351) - 0.3326756)
     * tmpvar_1351) + 0.9999793) * tmpvar_1350);
    tmpvar_1351 = (tmpvar_1351 + (float(
      (abs((tmpvar_1347 / tmpvar_1348)) > 1.0)
    ) * (
      (tmpvar_1351 * -2.0)
     + 1.570796)));
    tmpvar_1349 = (tmpvar_1351 * sign((tmpvar_1347 / tmpvar_1348)));
    if ((abs(tmpvar_1348) > (1e-08 * abs(tmpvar_1347)))) {
      if ((tmpvar_1348 < 0.0)) {
        if ((tmpvar_1347 >= 0.0)) {
          tmpvar_1349 += 3.141593;
        } else {
          tmpvar_1349 = (tmpvar_1349 - 3.141593);
        };
      };
    } else {
      tmpvar_1349 = (sign(tmpvar_1347) * 1.570796);
    };
    float tmpvar_1352;
    tmpvar_1352 = (-(tmpvar_1349) - 1.57079);
    vec2 x_1353;
    x_1353 = (pos_1338 - (125.0 * zoom));
    float tmpvar_1354;
    tmpvar_1354 = float((sqrt(
      dot (x_1353, x_1353)
    ) >= (150.0 * zoom)));
    if ((((1.0 - tmpvar_1354) > 0.0) || tmpvar_1346)) {
      vec4 lc_1355;
      vec4 tret_1356;
      float b_1357;
      vec2 tuvv_1358;
      float tuv_1359;
      vec4 cl1_1360;
      vec2 z_1361;
      vec2 sp_1362;
      vec2 uv_1363;
      vec2 tmpvar_1364;
      tmpvar_1364 = vec2((250.0 * zoom));
      mat2 tmpvar_1365;
      tmpvar_1365[0].x = cos(tmpvar_1352);
      tmpvar_1365[0].y = -(sin(tmpvar_1352));
      tmpvar_1365[1].x = sin(tmpvar_1352);
      tmpvar_1365[1].y = cos(tmpvar_1352);
      uv_1363 = (abs((
        ((pos_1338 - (tmpvar_1364 / 2.0)) / tmpvar_1364.y)
       * 8.0)) * tmpvar_1365);
      vec3 tmpvar_1366;
      tmpvar_1366.x = dot (uv_1363, vec2(1.5, 0.5));
      tmpvar_1366.y = dot (uv_1363, vec2(-1.0, 0.5));
      tmpvar_1366.z = uv_1363.y;
      vec3 tmpvar_1367;
      tmpvar_1367 = fract(tmpvar_1366);
      vec3 tmpvar_1368;
      tmpvar_1368 = fract(-(tmpvar_1366));
      float tmpvar_1369;
      tmpvar_1369 = (uv_1363.x - (uv_1363.y / 2.0));
      vec2 tmpvar_1370;
      tmpvar_1370.x = ((floor(tmpvar_1369) * 2.0) + float((
        fract(tmpvar_1369)
       >= 
        fract((1.0 - uv_1363.y))
      )));
      tmpvar_1370.y = floor(uv_1363.y);
      float tmpvar_1371;
      tmpvar_1371 = float((min (
        (0.2 + min (min (tmpvar_1367.x, tmpvar_1367.y), tmpvar_1367.z))
      , 
        min (min (tmpvar_1368.x, tmpvar_1368.y), tmpvar_1368.z)
      ) >= (0.12 + 
        (sin(((
          (fract((cos(
            dot (tmpvar_1370, vec2(21.9898, 78.233))
          ) * 43758.55)) * 2.0)
         + 
          (tmpvar_1370.x / 16.0)
        ) + (
          -(tshift_1339)
         * 2.0))) * 0.2)
      )));
      uv_1363 = ((pos_1338 / tmpvar_1364) - 0.5);
      mat2 tmpvar_1372;
      tmpvar_1372[0].x = cos(tmpvar_1352);
      tmpvar_1372[0].y = -(sin(tmpvar_1352));
      tmpvar_1372[1].x = sin(tmpvar_1352);
      tmpvar_1372[1].y = cos(tmpvar_1352);
      uv_1363 = (uv_1363 * tmpvar_1372);
      sp_1362.x = uv_1363.x;
      sp_1362.y = (uv_1363.y + -0.291);
      z_1361 = pow (vec2(0.0, 0.0), abs(sp_1362));
      z_1361 = (z_1361 + pow (vec2(0.0, 1.0), abs(sp_1362)));
      z_1361 = (z_1361 + pow (vec2(1.0, 0.0), abs(sp_1362)));
      vec2 tmpvar_1373;
      tmpvar_1373 = pow ((abs(sp_1362) * 1000000.0), vec2(0.1, 0.1));
      float tmpvar_1374;
      tmpvar_1374 = sqrt(dot (tmpvar_1373, tmpvar_1373));
      float tmpvar_1375;
      float tmpvar_1376;
      tmpvar_1376 = (min (abs(
        (tmpvar_1373.x / tmpvar_1373.y)
      ), 1.0) / max (abs(
        (tmpvar_1373.x / tmpvar_1373.y)
      ), 1.0));
      float tmpvar_1377;
      tmpvar_1377 = (tmpvar_1376 * tmpvar_1376);
      tmpvar_1377 = (((
        ((((
          ((((-0.01213232 * tmpvar_1377) + 0.05368138) * tmpvar_1377) - 0.1173503)
         * tmpvar_1377) + 0.1938925) * tmpvar_1377) - 0.3326756)
       * tmpvar_1377) + 0.9999793) * tmpvar_1376);
      tmpvar_1377 = (tmpvar_1377 + (float(
        (abs((tmpvar_1373.x / tmpvar_1373.y)) > 1.0)
      ) * (
        (tmpvar_1377 * -2.0)
       + 1.570796)));
      tmpvar_1375 = (tmpvar_1377 * sign((tmpvar_1373.x / tmpvar_1373.y)));
      if ((abs(tmpvar_1373.y) > (1e-08 * abs(tmpvar_1373.x)))) {
        if ((tmpvar_1373.y < 0.0)) {
          if ((tmpvar_1373.x >= 0.0)) {
            tmpvar_1375 += 3.141593;
          } else {
            tmpvar_1375 = (tmpvar_1375 - 3.141593);
          };
        };
      } else {
        tmpvar_1375 = (sign(tmpvar_1373.x) * 1.570796);
      };
      float tmpvar_1378;
      tmpvar_1378 = (((tmpvar_1373.y * 
        (log(tmpvar_1374) - 1.0)
      ) + (tmpvar_1375 * 
        ((tmpvar_1373.x * 0.15) + 1.5)
      )) - tshift_1339);
      vec2 tmpvar_1379;
      tmpvar_1379.x = sin(tmpvar_1378);
      tmpvar_1379.y = cos(tmpvar_1378);
      z_1361 = (z_1361 + ((3.963319 * 
        exp((((
          log(tmpvar_1374)
         * 
          (tmpvar_1373.x + 0.5)
        ) - (tmpvar_1373.y * tmpvar_1375)) - tmpvar_1373.x))
      ) * tmpvar_1379));
      float tmpvar_1380;
      tmpvar_1380 = sin(z_1361.x);
      float tmpvar_1381;
      tmpvar_1381 = sin(z_1361.y);
      vec4 tmpvar_1382;
      tmpvar_1382.w = 1.0;
      tmpvar_1382.x = tmpvar_1380;
      tmpvar_1382.y = (cos(z_1361.x) + cos(z_1361.y));
      tmpvar_1382.z = tmpvar_1381;
      cl1_1360 = tmpvar_1382;
      if (tmpvar_1346) {
        cl1_1360 = (vec4(((tmpvar_1380 * tmpvar_1382.y) * tmpvar_1381)) + (tmpvar_1382 * 0.21));
      } else {
        cl1_1360 = vec4(((cl1_1360.x * cl1_1360.y) * cl1_1360.z));
      };
      float tmpvar_1383;
      tmpvar_1383 = clamp (((
        sqrt(dot (uv_1363, uv_1363))
       - 0.3) / -0.01000002), 0.0, 1.0);
      float tmpvar_1384;
      tmpvar_1384 = ((tmpvar_1383 * (tmpvar_1383 * 
        (3.0 - (2.0 * tmpvar_1383))
      )) * 2.0);
      tuv_1359 = tmpvar_1384;
      float tmpvar_1385;
      float tmpvar_1386;
      tmpvar_1386 = clamp (((
        sqrt(dot (uv_1363, uv_1363))
       - 0.3) / -0.01000002), 0.0, 1.0);
      tmpvar_1385 = (tmpvar_1386 * (tmpvar_1386 * (3.0 - 
        (2.0 * tmpvar_1386)
      )));
      tuvv_1358 = uv_1363;
      b_1357 = 0.0;
      if ((tshift_1339 < 1.2)) {
        float timex_1387;
        vec2 tmpvar_1388;
        tmpvar_1388 = (((pos_1338 / 
          (250.0 * zoom)
        ) * 2.0) - 1.0);
        timex_1387 = (tshift_1339 + 5.7);
        float tmpvar_1389;
        tmpvar_1389 = ((sin(
          (timex_1387 * 2.0)
        ) + 1.0) * 5.0);
        float tmpvar_1390;
        tmpvar_1390 = ((sin(
          (timex_1387 * 3.0)
        ) / 2.0) + 0.5);
        float tmpvar_1391;
        tmpvar_1391 = (((
          sin((timex_1387 * 5.0))
         / 2.0) + 1.0) * 40.0);
        float tmpvar_1392;
        tmpvar_1392 = sqrt((pow (
          abs(tmpvar_1388.x)
        , tmpvar_1389) + pow (
          abs(tmpvar_1388.y)
        , tmpvar_1389)));
        float tmpvar_1393;
        tmpvar_1393 = clamp (((tmpvar_1390 - tmpvar_1392) * 250.0), 0.0, 1.0);
        b_1357 = max (0.0, (tmpvar_1393 + (
          (1.0 - tmpvar_1393)
         * 
          (1.0 + (((
            (tmpvar_1390 - tmpvar_1392)
           * 250.0) + tmpvar_1391) / tmpvar_1391))
        )));
      } else {
        if ((botmr_1342 > 0.0)) {
          float timex_1394;
          vec2 tmpvar_1395;
          tmpvar_1395 = (((pos_1338 / 
            (250.0 * zoom)
          ) * 2.0) - 1.0);
          timex_1394 = (botmr_1342 + 1.0);
          float tmpvar_1396;
          tmpvar_1396 = ((sin(
            (timex_1394 * 2.0)
          ) + 1.0) * 5.0);
          float tmpvar_1397;
          tmpvar_1397 = ((sin(
            (timex_1394 * 3.0)
          ) / 2.0) + 0.5);
          float tmpvar_1398;
          tmpvar_1398 = (((
            sin((timex_1394 * 5.0))
           / 2.0) + 1.0) * 40.0);
          float tmpvar_1399;
          tmpvar_1399 = sqrt((pow (
            abs(tmpvar_1395.x)
          , tmpvar_1396) + pow (
            abs(tmpvar_1395.y)
          , tmpvar_1396)));
          float tmpvar_1400;
          tmpvar_1400 = clamp (((tmpvar_1397 - tmpvar_1399) * 250.0), 0.0, 1.0);
          b_1357 = max (0.0, (tmpvar_1400 + (
            (1.0 - tmpvar_1400)
           * 
            (1.0 + (((
              (tmpvar_1397 - tmpvar_1399)
             * 250.0) + tmpvar_1398) / tmpvar_1398))
          )));
        } else {
          b_1357 = 1.0;
        };
      };
      col_1337 = (((buff_11 * 
        (1.0 - (tmpvar_1371 * b_1357))
      ) * tmpvar_1385) + (buff_11 * (1.0 - tmpvar_1385)));
      float tmpvar_1401;
      tmpvar_1401 = clamp (((
        sqrt(dot (uv_1363, uv_1363))
       - 0.3) / -0.1), 0.0, 1.0);
      tret_1356 = (((tmpvar_1371 * cl1_1360) * (tmpvar_1384 * b_1357)) + ((
        ((3.0 * cl1_1360) * (1.0 - b_1357))
       * b_1357) * (tmpvar_1401 * 
        (tmpvar_1401 * (3.0 - (2.0 * tmpvar_1401)))
      )));
      tuv_1359 = (2.0 - tmpvar_1384);
      uv_1363 = ((pos_1338.yx / tmpvar_1364) - 0.5);
      mat2 tmpvar_1402;
      tmpvar_1402[0].x = cos(-(tmpvar_1352));
      tmpvar_1402[0].y = -(sin(-(tmpvar_1352)));
      tmpvar_1402[1].x = sin(-(tmpvar_1352));
      tmpvar_1402[1].y = cos(-(tmpvar_1352));
      uv_1363 = (uv_1363 * tmpvar_1402);
      lc_1355 = vec4(0.0, 0.0, 0.0, 0.0);
      if (tmpvar_1346) {
        float dy_1403;
        vec2 tmpvar_1404;
        tmpvar_1404.y = 0.0;
        tmpvar_1404.x = uv_1363.x;
        vec2 x_1405;
        x_1405 = (uv_1363 - tmpvar_1404);
        vec2 tmpvar_1406;
        tmpvar_1406.y = 0.0;
        tmpvar_1406.x = uv_1363.x;
        vec2 x_1407;
        x_1407 = (uv_1363 - tmpvar_1406);
        float tmpvar_1408;
        tmpvar_1408 = clamp (((
          sqrt(dot (x_1407, x_1407))
         - 0.1) / -0.05), 0.0, 1.0);
        vec2 tmpvar_1409;
        tmpvar_1409.y = 0.0;
        tmpvar_1409.x = tuvv_1358.x;
        vec2 tmpvar_1410;
        tmpvar_1410 = max (vec2(0.0, 0.0), (tuvv_1358 - tmpvar_1409));
        dy_1403 = (((
          (1.0/((25.0 * sqrt(dot (x_1405, x_1405)))))
         * 
          (tmpvar_1408 * (tmpvar_1408 * (3.0 - (2.0 * tmpvar_1408))))
        ) * tuv_1359) * float((
          sqrt(dot (tmpvar_1410, tmpvar_1410))
         >= 0.1)));
        vec4 tmpvar_1411;
        tmpvar_1411.w = 1.0;
        tmpvar_1411.x = ((uv_1363.x + cl1_1360.x) * dy_1403);
        tmpvar_1411.yz = (cl1_1360.yz * vec2(dy_1403));
        lc_1355 = tmpvar_1411;
      };
      vec2 x_1412;
      x_1412 = (pos_1338 - (125.0 * zoom));
      lux_1340 = (lc_1355 * float((
        sqrt(dot (tmpvar_1344, tmpvar_1344))
       >= 
        sqrt(dot (x_1412, x_1412))
      )));
      vec2 uv_1413;
      float an_1414;
      float light_1415;
      an_1414 = (tmpvar_1352 + -0.7853949);
      vec2 tmpvar_1416;
      tmpvar_1416 = vec2((250.0 * zoom));
      uv_1413 = ((pos_1338 - (tmpvar_1416 / 2.0)) / tmpvar_1416.y);
      mat2 tmpvar_1417;
      tmpvar_1417[0].x = cos(an_1414);
      tmpvar_1417[0].y = -(sin(an_1414));
      tmpvar_1417[1].x = sin(an_1414);
      tmpvar_1417[1].y = cos(an_1414);
      uv_1413 = (uv_1413 * tmpvar_1417);
      uv_1413 = (uv_1413 * 3.0);
      vec2 tmpvar_1418;
      tmpvar_1418 = ((uv_1413 / 1.75) + 0.9975);
      float tmpvar_1419;
      tmpvar_1419 = (float(mod (((iTime * 6.283159) / 6.666667), 6.283159)));
      vec2 tmpvar_1420;
      tmpvar_1420 = ((tmpvar_1418 + vec2(0.1, 0.1)) - ((vec2(0.1, 0.1) * tmpvar_1418) * cos(vec2(tmpvar_1419))));
      vec2 tmpvar_1421;
      tmpvar_1421 = ((tmpvar_1418 - vec2(0.1, 0.1)) + abs((
        (vec2(0.1, 0.1) * tmpvar_1418)
       * 
        cos(vec2(tmpvar_1419))
      )));
      float tmpvar_1422;
      if (naa_1341) {
        tmpvar_1422 = 1.0;
      } else {
        tmpvar_1422 = 0.0;
      };
      vec3 tmpvar_1423;
      tmpvar_1423.yz = vec2(0.365, 0.25);
      tmpvar_1423.x = (0.49 + (2.0 * tmpvar_1422));
      vec2 tmpvar_1424;
      tmpvar_1424 = (normalize(uv_1413) - uv_1413);
      light_1415 = (0.015 / sqrt(dot (tmpvar_1424, tmpvar_1424)));
      float tmpvar_1425;
      tmpvar_1425 = sqrt(dot (uv_1413, uv_1413));
      if ((tmpvar_1425 < 1.0)) {
        float tmpvar_1426;
        if (naa_1341) {
          tmpvar_1426 = 1.0;
        } else {
          tmpvar_1426 = 0.0;
        };
        vec2 tmpvar_1427;
        tmpvar_1427 = (normalize((uv_1413 - tmpvar_1421)) - (uv_1413 - tmpvar_1421));
        light_1415 = (light_1415 + ((tmpvar_1426 * 0.51) / sqrt(
          dot (tmpvar_1427, tmpvar_1427)
        )));
        float tmpvar_1428;
        if (naa_1341) {
          tmpvar_1428 = 1.0;
        } else {
          tmpvar_1428 = 0.0;
        };
        vec2 tmpvar_1429;
        tmpvar_1429 = (normalize((uv_1413 - tmpvar_1420)) - (uv_1413 - tmpvar_1420));
        light_1415 = (light_1415 + ((tmpvar_1428 * 0.51) / sqrt(
          dot (tmpvar_1429, tmpvar_1429)
        )));
        vec2 tmpvar_1430;
        tmpvar_1430 = (normalize((uv_1413 - tmpvar_1418)) - (uv_1413 - tmpvar_1418));
        light_1415 = (light_1415 * (0.0511 / sqrt(
          dot (tmpvar_1430, tmpvar_1430)
        )));
        vec2 tmpvar_1431;
        tmpvar_1431 = (normalize(uv_1413) - uv_1413);
        light_1415 = (light_1415 * (0.18521 / sqrt(
          dot (tmpvar_1431, tmpvar_1431)
        )));
      };
      float tmpvar_1432;
      tmpvar_1432 = clamp (((
        sqrt(dot (uv_1413, uv_1413))
       - 1.5) / -1.5), 0.0, 1.0);
      vec4 tmpvar_1433;
      tmpvar_1433.w = 1.0;
      tmpvar_1433.xyz = ((light_1415 * tmpvar_1423) * (tmpvar_1432 * (tmpvar_1432 * 
        (3.0 - (2.0 * tmpvar_1432))
      )));
      tmpvar_1343 = ((tret_1356 + col_1337) + (tmpvar_1433 * b_1357));
    } else {
      lux_1340 = vec4(0.0, 0.0, 0.0, 0.0);
      tmpvar_1343 = buff_11;
    };
    buff_11 = tmpvar_1343;
    txeb_6 = (txeb_6 + lux_1340);
  };
  mcol_10 = buff_11;
  buff_11 = (buff_11 + exbff_8);
  vec4 tmpvar_1434;
  vec2 tmpvar_1435;
  tmpvar_1435 = ((tmpvar_2 - (starpos1 * zoom)) - shippos);
  vec2 x_1436;
  x_1436 = (tmpvar_1435 - (125000.0 * zoom));
  float tmpvar_1437;
  tmpvar_1437 = float((sqrt(
    dot (x_1436, x_1436)
  ) >= (125175.0 * zoom)));
  if (((1.0 - tmpvar_1437) > 0.0)) {
    float c_1438;
    vec2 tmpvar_1439;
    tmpvar_1439 = vec2((250000.0 * zoom));
    vec2 tmpvar_1440;
    tmpvar_1440 = (((tmpvar_1435 * 200.0) - (100.0 * tmpvar_1439)) / tmpvar_1439.y);
    vec2 tmpvar_1441;
    tmpvar_1441 = ((tmpvar_1435 / tmpvar_1439) - 0.5);
    vec4 tmpvar_1442;
    tmpvar_1442.w = 1.0;
    tmpvar_1442.xyz = ((vec3(0.2463, 0.254, 0.9729) / dot (tmpvar_1441, tmpvar_1441)) / 3.59);
    vec4 tmpvar_1443;
    tmpvar_1443 = min (vec4(1.0, 1.0, 1.0, 1.0), tmpvar_1442);
    c_1438 = 0.0;
    float tmpvar_1444;
    tmpvar_1444 = pow ((clamp (
      (((250.0 - sqrt(
        dot (tmpvar_1440, tmpvar_1440)
      )) + 100.0) - 40.0)
    , 0.0, 250.0) / 250.0), 6.0);
    float n_1445;
    float tmpvar_1446;
    float tmpvar_1447;
    tmpvar_1447 = (min (abs(
      (tmpvar_1440.y / tmpvar_1440.x)
    ), 1.0) / max (abs(
      (tmpvar_1440.y / tmpvar_1440.x)
    ), 1.0));
    float tmpvar_1448;
    tmpvar_1448 = (tmpvar_1447 * tmpvar_1447);
    tmpvar_1448 = (((
      ((((
        ((((-0.01213232 * tmpvar_1448) + 0.05368138) * tmpvar_1448) - 0.1173503)
       * tmpvar_1448) + 0.1938925) * tmpvar_1448) - 0.3326756)
     * tmpvar_1448) + 0.9999793) * tmpvar_1447);
    tmpvar_1448 = (tmpvar_1448 + (float(
      (abs((tmpvar_1440.y / tmpvar_1440.x)) > 1.0)
    ) * (
      (tmpvar_1448 * -2.0)
     + 1.570796)));
    tmpvar_1446 = (tmpvar_1448 * sign((tmpvar_1440.y / tmpvar_1440.x)));
    if ((abs(tmpvar_1440.x) > (1e-08 * abs(tmpvar_1440.y)))) {
      if ((tmpvar_1440.x < 0.0)) {
        if ((tmpvar_1440.y >= 0.0)) {
          tmpvar_1446 += 3.141593;
        } else {
          tmpvar_1446 = (tmpvar_1446 - 3.141593);
        };
      };
    } else {
      tmpvar_1446 = (sign(tmpvar_1440.y) * 1.570796);
    };
    float tmpvar_1449;
    tmpvar_1449 = (time * 0.4);
    vec2 tmpvar_1450;
    tmpvar_1450.x = (((1.326885 + 
      (tmpvar_1449 * 0.1)
    ) + (
      cos(((tmpvar_1444 * 13.8) + (fract(
        abs(sin(((tmpvar_1449 + tmpvar_1446) + 1.2637)))
      ) * 3.0)))
     * 0.2)) + (tmpvar_1446 * 8.225723));
    tmpvar_1450.y = ((1.2637 + tmpvar_1449) + tmpvar_1446);
    float tmpvar_1451;
    vec2 uv_1452;
    vec2 tmpvar_1453;
    tmpvar_1453 = floor(tmpvar_1450);
    vec2 tmpvar_1454;
    tmpvar_1454 = (tmpvar_1450 - tmpvar_1453);
    uv_1452 = ((tmpvar_1454 * tmpvar_1454) * (3.0 - (2.0 * tmpvar_1454)));
    float tmpvar_1455;
    tmpvar_1455 = fract((cos(
      dot (tmpvar_1453, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_1456;
    tmpvar_1456.x = (tmpvar_1453.x + 1.0);
    tmpvar_1456.y = tmpvar_1453.y;
    float tmpvar_1457;
    tmpvar_1457 = fract((cos(
      dot (tmpvar_1456, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_1458;
    tmpvar_1458.x = tmpvar_1453.x;
    tmpvar_1458.y = (tmpvar_1453.y + 1.0);
    float tmpvar_1459;
    tmpvar_1459 = fract((cos(
      dot (tmpvar_1458, vec2(21.9898, 78.233))
    ) * 43758.55));
    tmpvar_1451 = (((tmpvar_1455 + 
      ((tmpvar_1457 - tmpvar_1455) * uv_1452.x)
    ) + (
      (tmpvar_1459 - tmpvar_1455)
     * uv_1452.y)) + ((
      (((tmpvar_1455 - tmpvar_1457) - tmpvar_1459) + fract((cos(
        dot ((tmpvar_1453 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))
      ) * 43758.55)))
     * uv_1452.x) * uv_1452.y));
    vec2 tmpvar_1460;
    tmpvar_1460.x = (((245.1578 + 
      (tmpvar_1446 * 8.225723)
    ) + tmpvar_1449) + (cos(
      ((((tmpvar_1444 * 2.0) * tmpvar_1451) + (tmpvar_1449 * 1.1)) + tmpvar_1446)
    ) * 2.8));
    tmpvar_1460.y = ((1.2637 + tmpvar_1449) + tmpvar_1446);
    vec2 xy_1461;
    xy_1461 = (tmpvar_1460 + tmpvar_1444);
    vec2 uv_1462;
    vec2 tmpvar_1463;
    tmpvar_1463 = floor(xy_1461);
    vec2 tmpvar_1464;
    tmpvar_1464 = (xy_1461 - tmpvar_1463);
    uv_1462 = ((tmpvar_1464 * tmpvar_1464) * (3.0 - (2.0 * tmpvar_1464)));
    float tmpvar_1465;
    tmpvar_1465 = fract((cos(
      dot (tmpvar_1463, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_1466;
    tmpvar_1466.x = (tmpvar_1463.x + 1.0);
    tmpvar_1466.y = tmpvar_1463.y;
    float tmpvar_1467;
    tmpvar_1467 = fract((cos(
      dot (tmpvar_1466, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_1468;
    tmpvar_1468.x = tmpvar_1463.x;
    tmpvar_1468.y = (tmpvar_1463.y + 1.0);
    float tmpvar_1469;
    tmpvar_1469 = fract((cos(
      dot (tmpvar_1468, vec2(21.9898, 78.233))
    ) * 43758.55));
    float tmpvar_1470;
    tmpvar_1470 = (((tmpvar_1465 + 
      ((tmpvar_1467 - tmpvar_1465) * uv_1462.x)
    ) + (
      (tmpvar_1469 - tmpvar_1465)
     * uv_1462.y)) + ((
      (((tmpvar_1465 - tmpvar_1467) - tmpvar_1469) + fract((cos(
        dot ((tmpvar_1463 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))
      ) * 43758.55)))
     * uv_1462.x) * uv_1462.y));
    n_1445 = (tmpvar_1451 * (tmpvar_1470 * tmpvar_1470));
    vec2 tmpvar_1471;
    tmpvar_1471.x = (((169.3358 + 
      (tmpvar_1446 * 8.225723)
    ) + tmpvar_1449) + (cos(
      ((((tmpvar_1444 * 2.2) * n_1445) + (tmpvar_1449 * 1.1)) + tmpvar_1446)
    ) * 1.1));
    tmpvar_1471.y = ((1.2637 + tmpvar_1449) + tmpvar_1446);
    vec2 xy_1472;
    xy_1472 = (tmpvar_1471 + tmpvar_1444);
    vec2 uv_1473;
    vec2 tmpvar_1474;
    tmpvar_1474 = floor(xy_1472);
    vec2 tmpvar_1475;
    tmpvar_1475 = (xy_1472 - tmpvar_1474);
    uv_1473 = ((tmpvar_1475 * tmpvar_1475) * (3.0 - (2.0 * tmpvar_1475)));
    float tmpvar_1476;
    tmpvar_1476 = fract((cos(
      dot (tmpvar_1474, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_1477;
    tmpvar_1477.x = (tmpvar_1474.x + 1.0);
    tmpvar_1477.y = tmpvar_1474.y;
    float tmpvar_1478;
    tmpvar_1478 = fract((cos(
      dot (tmpvar_1477, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_1479;
    tmpvar_1479.x = tmpvar_1474.x;
    tmpvar_1479.y = (tmpvar_1474.y + 1.0);
    float tmpvar_1480;
    tmpvar_1480 = fract((cos(
      dot (tmpvar_1479, vec2(21.9898, 78.233))
    ) * 43758.55));
    n_1445 = (n_1445 * pow ((
      ((tmpvar_1476 + ((tmpvar_1478 - tmpvar_1476) * uv_1473.x)) + ((tmpvar_1480 - tmpvar_1476) * uv_1473.y))
     + 
      ((((
        (tmpvar_1476 - tmpvar_1478)
       - tmpvar_1480) + fract(
        (cos(dot ((tmpvar_1474 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
      )) * uv_1473.x) * uv_1473.y)
    ), 3.0));
    vec2 tmpvar_1481;
    tmpvar_1481.x = (((155.4351 + 
      (tmpvar_1446 * 8.225723)
    ) + tmpvar_1449) + (cos(
      ((((tmpvar_1444 * 2.3) * n_1445) + (tmpvar_1449 * 1.1)) + tmpvar_1446)
    ) * 0.8));
    tmpvar_1481.y = ((1.2637 + tmpvar_1449) + tmpvar_1446);
    vec2 xy_1482;
    xy_1482 = (tmpvar_1481 + tmpvar_1444);
    vec2 uv_1483;
    vec2 tmpvar_1484;
    tmpvar_1484 = floor(xy_1482);
    vec2 tmpvar_1485;
    tmpvar_1485 = (xy_1482 - tmpvar_1484);
    uv_1483 = ((tmpvar_1485 * tmpvar_1485) * (3.0 - (2.0 * tmpvar_1485)));
    float tmpvar_1486;
    tmpvar_1486 = fract((cos(
      dot (tmpvar_1484, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_1487;
    tmpvar_1487.x = (tmpvar_1484.x + 1.0);
    tmpvar_1487.y = tmpvar_1484.y;
    float tmpvar_1488;
    tmpvar_1488 = fract((cos(
      dot (tmpvar_1487, vec2(21.9898, 78.233))
    ) * 43758.55));
    vec2 tmpvar_1489;
    tmpvar_1489.x = tmpvar_1484.x;
    tmpvar_1489.y = (tmpvar_1484.y + 1.0);
    float tmpvar_1490;
    tmpvar_1490 = fract((cos(
      dot (tmpvar_1489, vec2(21.9898, 78.233))
    ) * 43758.55));
    n_1445 = (n_1445 * pow ((
      ((tmpvar_1486 + ((tmpvar_1488 - tmpvar_1486) * uv_1483.x)) + ((tmpvar_1490 - tmpvar_1486) * uv_1483.y))
     + 
      ((((
        (tmpvar_1486 - tmpvar_1488)
       - tmpvar_1490) + fract(
        (cos(dot ((tmpvar_1484 + vec2(1.0, 1.0)), vec2(21.9898, 78.233))) * 43758.55)
      )) * uv_1483.x) * uv_1483.y)
    ), 4.0));
    n_1445 = (n_1445 * pow (tmpvar_1444, 2.96));
    n_1445 = (n_1445 * ((
      (tmpvar_1446 + 3.14158)
     / 3.0) * (
      (6.283159 - tmpvar_1446)
     - 3.14158)));
    n_1445 = (n_1445 + (sqrt(
      (tmpvar_1444 * tmpvar_1444)
    ) * 0.26));
    float tmpvar_1491;
    tmpvar_1491 = (n_1445 * 2.1);
    c_1438 = ((tmpvar_1491 * tmpvar_1491) * 3.5);
    float tmpvar_1492;
    tmpvar_1492 = clamp (c_1438, 0.0, 1.0);
    c_1438 = tmpvar_1492;
    float tmpvar_1493;
    tmpvar_1493 = clamp (((
      sqrt(dot (tmpvar_1441, tmpvar_1441))
     - 0.5) / -0.16), 0.0, 1.0);
    tmpvar_1434 = ((min (
      max (tmpvar_1492, 0.0)
    , 1.0) * tmpvar_1443) * (tmpvar_1493 * (tmpvar_1493 * 
      (3.0 - (2.0 * tmpvar_1493))
    )));
  } else {
    tmpvar_1434 = vec4(0.0, 0.0, 0.0, 0.0);
  };
  buff_11 = (buff_11 + tmpvar_1434);
  vec4 tmpvar_1494;
  vec2 tmpvar_1495;
  tmpvar_1495 = ((tmpvar_2 - (starpos2 * zoom)) - shippos);
  vec2 x_1496;
  x_1496 = (tmpvar_1495 - (50000.0 * zoom));
  float tmpvar_1497;
  tmpvar_1497 = float((sqrt(
    dot (x_1496, x_1496)
  ) >= (100000.0 * zoom)));
  if (((1.0 - tmpvar_1497) > 0.0)) {
    vec4 fragColor_1498;
    float b_1499;
    float r_1500;
    vec2 p_1501;
    vec2 tmpvar_1502;
    tmpvar_1502 = vec2((100000.0 * zoom));
    vec2 tmpvar_1503;
    tmpvar_1503 = ((tmpvar_1495 / tmpvar_1502) - 0.5);
    p_1501 = ((tmpvar_1495 / tmpvar_1502.y) - 0.35);
    float tmpvar_1504;
    float tmpvar_1505;
    tmpvar_1505 = (min (abs(
      (p_1501.y / p_1501.x)
    ), 1.0) / max (abs(
      (p_1501.y / p_1501.x)
    ), 1.0));
    float tmpvar_1506;
    tmpvar_1506 = (tmpvar_1505 * tmpvar_1505);
    tmpvar_1506 = (((
      ((((
        ((((-0.01213232 * tmpvar_1506) + 0.05368138) * tmpvar_1506) - 0.1173503)
       * tmpvar_1506) + 0.1938925) * tmpvar_1506) - 0.3326756)
     * tmpvar_1506) + 0.9999793) * tmpvar_1505);
    tmpvar_1506 = (tmpvar_1506 + (float(
      (abs((p_1501.y / p_1501.x)) > 1.0)
    ) * (
      (tmpvar_1506 * -2.0)
     + 1.570796)));
    tmpvar_1504 = (tmpvar_1506 * sign((p_1501.y / p_1501.x)));
    if ((abs(p_1501.x) > (1e-08 * abs(p_1501.y)))) {
      if ((p_1501.x < 0.0)) {
        if ((p_1501.y >= 0.0)) {
          tmpvar_1504 += 3.141593;
        } else {
          tmpvar_1504 = (tmpvar_1504 - 3.141593);
        };
      };
    } else {
      tmpvar_1504 = (sign(p_1501.y) * 1.570796);
    };
    vec2 x_1507;
    x_1507 = (p_1501 / 2.0);
    float tmpvar_1508;
    tmpvar_1508 = (sqrt(dot (x_1507, x_1507)) + 0.0001);
    r_1500 = tmpvar_1508;
    float tmpvar_1509;
    tmpvar_1509 = (1.9 * sin((
      ((8.0 * tmpvar_1508) - time)
     - 
      (2.0 * tmpvar_1504)
    )));
    b_1499 = ((0.3125 / tmpvar_1508) + (cos(
      ((7.0 * tmpvar_1504) + (tmpvar_1509 * tmpvar_1509))
    ) / (100.0 * tmpvar_1508)));
    float tmpvar_1510;
    tmpvar_1510 = clamp ((b_1499 / 0.4), 0.0, 1.0);
    b_1499 = (b_1499 * (tmpvar_1510 * (tmpvar_1510 * 
      (3.0 - (2.0 * tmpvar_1510))
    )));
    vec4 tmpvar_1511;
    tmpvar_1511.w = 1.0;
    tmpvar_1511.x = (b_1499 * 0.3);
    tmpvar_1511.y = ((0.3 * b_1499) + (0.2 * sin(
      (tmpvar_1504 + time)
    )));
    tmpvar_1511.z = (b_1499 * 0.5);
    fragColor_1498 = tmpvar_1511;
    p_1501 = ((tmpvar_1495 / (100000.0 * zoom)) - 0.628);
    float tmpvar_1512;
    float tmpvar_1513;
    tmpvar_1513 = (min (abs(
      (p_1501.y / p_1501.x)
    ), 1.0) / max (abs(
      (p_1501.y / p_1501.x)
    ), 1.0));
    float tmpvar_1514;
    tmpvar_1514 = (tmpvar_1513 * tmpvar_1513);
    tmpvar_1514 = (((
      ((((
        ((((-0.01213232 * tmpvar_1514) + 0.05368138) * tmpvar_1514) - 0.1173503)
       * tmpvar_1514) + 0.1938925) * tmpvar_1514) - 0.3326756)
     * tmpvar_1514) + 0.9999793) * tmpvar_1513);
    tmpvar_1514 = (tmpvar_1514 + (float(
      (abs((p_1501.y / p_1501.x)) > 1.0)
    ) * (
      (tmpvar_1514 * -2.0)
     + 1.570796)));
    tmpvar_1512 = (tmpvar_1514 * sign((p_1501.y / p_1501.x)));
    if ((abs(p_1501.x) > (1e-08 * abs(p_1501.y)))) {
      if ((p_1501.x < 0.0)) {
        if ((p_1501.y >= 0.0)) {
          tmpvar_1512 += 3.141593;
        } else {
          tmpvar_1512 = (tmpvar_1512 - 3.141593);
        };
      };
    } else {
      tmpvar_1512 = (sign(p_1501.y) * 1.570796);
    };
    vec2 x_1515;
    x_1515 = (p_1501 / 2.0);
    r_1500 = (sqrt(dot (x_1515, x_1515)) + 0.0001);
    b_1499 = (1.9 * sin((
      ((8.0 * r_1500) + time)
     - 
      (2.0 * tmpvar_1512)
    )));
    b_1499 = ((0.3125 / r_1500) + (cos(
      ((7.0 * tmpvar_1512) + (b_1499 * b_1499))
    ) / (100.0 * r_1500)));
    float tmpvar_1516;
    tmpvar_1516 = clamp ((b_1499 / 0.4), 0.0, 1.0);
    b_1499 = (b_1499 * (tmpvar_1516 * (tmpvar_1516 * 
      (3.0 - (2.0 * tmpvar_1516))
    )));
    vec4 tmpvar_1517;
    tmpvar_1517.w = 1.0;
    tmpvar_1517.x = (b_1499 * 0.3);
    tmpvar_1517.y = ((0.3 * b_1499) + (0.2 * sin(
      (tmpvar_1512 + time)
    )));
    tmpvar_1517.z = (b_1499 * 0.5);
    fragColor_1498 = (tmpvar_1511 * tmpvar_1517);
    float tmpvar_1518;
    tmpvar_1518 = clamp (((
      sqrt(dot (tmpvar_1503, tmpvar_1503))
     - 0.8) / -0.3), 0.0, 1.0);
    fragColor_1498 = (fragColor_1498 * (tmpvar_1518 * (tmpvar_1518 * 
      (3.0 - (2.0 * tmpvar_1518))
    )));
    tmpvar_1494 = fragColor_1498;
  } else {
    tmpvar_1494 = vec4(0.0, 0.0, 0.0, 0.0);
  };
  buff_11 = (buff_11 + tmpvar_1494);
  vec4 tmpvar_1519;
  tmpvar_1519 = min (max (buff_11, 0.0), 1.0);
  buff_11 = tmpvar_1519;
  vec2 poss_1520;
  vec4 tmpvar_1521;
  vec2 pos_1522;
  poss_1520 = (tmpvar_2 - shippos);
  pos_1522 = poss_1520;
  if ((((
    (poss_1520.x > 0.0)
   && 
    (poss_1520.x < radius)
  ) && (poss_1520.y > 0.0)) && (poss_1520.y < radius))) {
    vec4 ancl_1523;
    vec2 ttpos_1524;
    vec4 cl_1525;
    vec3 result_1526;
    float b_1527;
    vec2 position_1528;
    vec3 color_1529;
    vec2 p_1530;
    vec4 tmpc_1531;
    float d_1532;
    vec4 cc_1533;
    vec2 uv_1534;
    float val_1535;
    float t_1536;
    float n_1537;
    pos_1522 = (((poss_1520 * 2.0) - vec2(radius)) / radius);
    mat2 tmpvar_1538;
    float tmpvar_1539;
    tmpvar_1539 = cos(angle);
    tmpvar_1538[0].x = tmpvar_1539;
    float tmpvar_1540;
    tmpvar_1540 = sin(angle);
    tmpvar_1538[0].y = -(tmpvar_1540);
    tmpvar_1538[1].x = tmpvar_1540;
    tmpvar_1538[1].y = tmpvar_1539;
    pos_1522 = (pos_1522 * tmpvar_1538);
    pos_1522.x = abs(pos_1522.x);
    mat2 tmpvar_1541;
    tmpvar_1541[0].x = 0.4084875;
    tmpvar_1541[0].y = -0.912764;
    tmpvar_1541[1].x = 0.912764;
    tmpvar_1541[1].y = 0.4084875;
    pos_1522 = (pos_1522 * tmpvar_1541);
    vec2 tmpvar_1542;
    tmpvar_1542.x = (0.7 * pos_1522.x);
    tmpvar_1542.y = (pos_1522.y - 0.5);
    float tmpvar_1543;
    float tmpvar_1544;
    tmpvar_1544 = (4.0 / radius);
    tmpvar_1543 = clamp (((0.5 - 
      sqrt(dot (tmpvar_1542, tmpvar_1542))
    ) / tmpvar_1544), 0.0, 1.0);
    vec2 x_1545;
    x_1545 = (pos_1522 - vec2(0.0, -0.8));
    float tmpvar_1546;
    tmpvar_1546 = clamp (((1.9 - 
      sqrt(dot (x_1545, x_1545))
    ) / tmpvar_1544), 0.0, 1.0);
    vec2 x_1547;
    x_1547 = (pos_1522 - vec2(0.0, -0.8));
    float tmpvar_1548;
    tmpvar_1548 = clamp (((1.28 - 
      sqrt(dot (x_1547, x_1547))
    ) / tmpvar_1544), 0.0, 1.0);
    vec2 x_1549;
    x_1549 = (pos_1522 - vec2(0.0, -0.8));
    float tmpvar_1550;
    tmpvar_1550 = clamp (((1.18 - 
      sqrt(dot (x_1549, x_1549))
    ) / tmpvar_1544), 0.0, 1.0);
    vec2 x_1551;
    x_1551 = (pos_1522 - vec2(0.0, -0.8));
    float tmpvar_1552;
    tmpvar_1552 = clamp (((1.14 - 
      sqrt(dot (x_1551, x_1551))
    ) / tmpvar_1544), 0.0, 1.0);
    float tmpvar_1553;
    tmpvar_1553 = clamp (((
      ((-(pos_1522.x) * 1.2) + pos_1522.y)
     - 0.2) / tmpvar_1544), 0.0, 1.0);
    float edge0_1554;
    edge0_1554 = ((pos_1522.y - 0.2) - 0.01);
    float tmpvar_1555;
    tmpvar_1555 = clamp (((0.15 - edge0_1554) / (
      ((pos_1522.y - 0.2) + 0.01)
     - edge0_1554)), 0.0, 1.0);
    float tmpvar_1556;
    tmpvar_1556 = clamp (((
      -(pos_1522.x)
     + 
      ((pos_1522.y + 0.97) / 4.5)
    ) / tmpvar_1544), 0.0, 1.0);
    float tmpvar_1557;
    tmpvar_1557 = clamp (((0.2 - pos_1522.y) / 0.01), 0.0, 1.0);
    n_1537 = (max ((
      ((((
        (tmpvar_1543 * (tmpvar_1543 * (3.0 - (2.0 * tmpvar_1543))))
       - 
        (tmpvar_1546 * (tmpvar_1546 * (3.0 - (2.0 * tmpvar_1546))))
      ) + (tmpvar_1548 * 
        (tmpvar_1548 * (3.0 - (2.0 * tmpvar_1548)))
      )) - (tmpvar_1550 * (tmpvar_1550 * 
        (3.0 - (2.0 * tmpvar_1550))
      ))) + (tmpvar_1552 * (tmpvar_1552 * (3.0 - 
        (2.0 * tmpvar_1552)
      ))))
     - 
      ((tmpvar_1553 * (tmpvar_1553 * (3.0 - 
        (2.0 * tmpvar_1553)
      ))) * (tmpvar_1555 * (tmpvar_1555 * (3.0 - 
        (2.0 * tmpvar_1555)
      ))))
    ), 0.0) + ((tmpvar_1556 * 
      (tmpvar_1556 * (3.0 - (2.0 * tmpvar_1556)))
    ) * (tmpvar_1557 * 
      (tmpvar_1557 * (3.0 - (2.0 * tmpvar_1557)))
    )));
    float tmpvar_1558;
    tmpvar_1558 = sign(min (n_1537, 1.0));
    n_1537 = tmpvar_1558;
    mat2 tmpvar_1559;
    tmpvar_1559[0].x = tmpvar_1539;
    tmpvar_1559[0].y = -(tmpvar_1540);
    tmpvar_1559[1].x = tmpvar_1540;
    tmpvar_1559[1].y = tmpvar_1539;
    vec2 x_1560;
    x_1560 = (10.0 * ((
      ((poss_1520 * 2.0) - vec2(radius))
     / radius) * tmpvar_1559));
    float md_1563;
    vec2 mr_1564;
    vec2 mg_1565;
    vec2 f_1566;
    vec2 n_1567;
    n_1567 = floor(x_1560);
    f_1566 = fract(x_1560);
    md_1563 = 8.0;
    for (int j_1562 = -1; j_1562 <= 1; j_1562++) {
      vec2 tmpvar_1568;
      tmpvar_1568.x = -1.0;
      tmpvar_1568.y = float(j_1562);
      vec2 tmpvar_1569;
      tmpvar_1569.x = dot ((n_1567 + tmpvar_1568), vec2(127.1, 311.7));
      tmpvar_1569.y = dot ((n_1567 + tmpvar_1568), vec2(269.5, 183.3));
      vec2 tmpvar_1570;
      tmpvar_1570 = ((tmpvar_1568 + (0.5 + 
        (0.5 * sin((iTime + (6.2831 * 
          fract((sin(tmpvar_1569) * 43758.55))
        ))))
      )) - f_1566);
      float tmpvar_1571;
      tmpvar_1571 = dot (tmpvar_1570, tmpvar_1570);
      if ((tmpvar_1571 < md_1563)) {
        md_1563 = tmpvar_1571;
        mr_1564 = tmpvar_1570;
        mg_1565 = tmpvar_1568;
      };
      vec2 tmpvar_1572;
      tmpvar_1572.x = 0.0;
      tmpvar_1572.y = float(j_1562);
      vec2 tmpvar_1573;
      tmpvar_1573.x = dot ((n_1567 + tmpvar_1572), vec2(127.1, 311.7));
      tmpvar_1573.y = dot ((n_1567 + tmpvar_1572), vec2(269.5, 183.3));
      vec2 tmpvar_1574;
      tmpvar_1574 = ((tmpvar_1572 + (0.5 + 
        (0.5 * sin((iTime + (6.2831 * 
          fract((sin(tmpvar_1573) * 43758.55))
        ))))
      )) - f_1566);
      float tmpvar_1575;
      tmpvar_1575 = dot (tmpvar_1574, tmpvar_1574);
      if ((tmpvar_1575 < md_1563)) {
        md_1563 = tmpvar_1575;
        mr_1564 = tmpvar_1574;
        mg_1565 = tmpvar_1572;
      };
      vec2 tmpvar_1576;
      tmpvar_1576.x = 1.0;
      tmpvar_1576.y = float(j_1562);
      vec2 tmpvar_1577;
      tmpvar_1577.x = dot ((n_1567 + tmpvar_1576), vec2(127.1, 311.7));
      tmpvar_1577.y = dot ((n_1567 + tmpvar_1576), vec2(269.5, 183.3));
      vec2 tmpvar_1578;
      tmpvar_1578 = ((tmpvar_1576 + (0.5 + 
        (0.5 * sin((iTime + (6.2831 * 
          fract((sin(tmpvar_1577) * 43758.55))
        ))))
      )) - f_1566);
      float tmpvar_1579;
      tmpvar_1579 = dot (tmpvar_1578, tmpvar_1578);
      if ((tmpvar_1579 < md_1563)) {
        md_1563 = tmpvar_1579;
        mr_1564 = tmpvar_1578;
        mg_1565 = tmpvar_1576;
      };
    };
    md_1563 = 8.0;
    for (int j_1561 = -2; j_1561 <= 2; j_1561++) {
      vec2 tmpvar_1580;
      tmpvar_1580.x = -2.0;
      tmpvar_1580.y = float(j_1561);
      vec2 tmpvar_1581;
      tmpvar_1581 = (mg_1565 + tmpvar_1580);
      vec2 tmpvar_1582;
      tmpvar_1582.x = dot ((n_1567 + tmpvar_1581), vec2(127.1, 311.7));
      tmpvar_1582.y = dot ((n_1567 + tmpvar_1581), vec2(269.5, 183.3));
      vec2 tmpvar_1583;
      tmpvar_1583 = ((tmpvar_1581 + (0.5 + 
        (0.5 * sin((iTime + (6.2831 * 
          fract((sin(tmpvar_1582) * 43758.55))
        ))))
      )) - f_1566);
      float tmpvar_1584;
      tmpvar_1584 = dot ((mr_1564 - tmpvar_1583), (mr_1564 - tmpvar_1583));
      if ((tmpvar_1584 > 1e-05)) {
        md_1563 = min (md_1563, dot ((0.5 * 
          (mr_1564 + tmpvar_1583)
        ), normalize(
          (tmpvar_1583 - mr_1564)
        )));
      };
      vec2 tmpvar_1585;
      tmpvar_1585.x = -1.0;
      tmpvar_1585.y = float(j_1561);
      vec2 tmpvar_1586;
      tmpvar_1586 = (mg_1565 + tmpvar_1585);
      vec2 tmpvar_1587;
      tmpvar_1587.x = dot ((n_1567 + tmpvar_1586), vec2(127.1, 311.7));
      tmpvar_1587.y = dot ((n_1567 + tmpvar_1586), vec2(269.5, 183.3));
      vec2 tmpvar_1588;
      tmpvar_1588 = ((tmpvar_1586 + (0.5 + 
        (0.5 * sin((iTime + (6.2831 * 
          fract((sin(tmpvar_1587) * 43758.55))
        ))))
      )) - f_1566);
      float tmpvar_1589;
      tmpvar_1589 = dot ((mr_1564 - tmpvar_1588), (mr_1564 - tmpvar_1588));
      if ((tmpvar_1589 > 1e-05)) {
        md_1563 = min (md_1563, dot ((0.5 * 
          (mr_1564 + tmpvar_1588)
        ), normalize(
          (tmpvar_1588 - mr_1564)
        )));
      };
      vec2 tmpvar_1590;
      tmpvar_1590.x = 0.0;
      tmpvar_1590.y = float(j_1561);
      vec2 tmpvar_1591;
      tmpvar_1591 = (mg_1565 + tmpvar_1590);
      vec2 tmpvar_1592;
      tmpvar_1592.x = dot ((n_1567 + tmpvar_1591), vec2(127.1, 311.7));
      tmpvar_1592.y = dot ((n_1567 + tmpvar_1591), vec2(269.5, 183.3));
      vec2 tmpvar_1593;
      tmpvar_1593 = ((tmpvar_1591 + (0.5 + 
        (0.5 * sin((iTime + (6.2831 * 
          fract((sin(tmpvar_1592) * 43758.55))
        ))))
      )) - f_1566);
      float tmpvar_1594;
      tmpvar_1594 = dot ((mr_1564 - tmpvar_1593), (mr_1564 - tmpvar_1593));
      if ((tmpvar_1594 > 1e-05)) {
        md_1563 = min (md_1563, dot ((0.5 * 
          (mr_1564 + tmpvar_1593)
        ), normalize(
          (tmpvar_1593 - mr_1564)
        )));
      };
      vec2 tmpvar_1595;
      tmpvar_1595.x = 1.0;
      tmpvar_1595.y = float(j_1561);
      vec2 tmpvar_1596;
      tmpvar_1596 = (mg_1565 + tmpvar_1595);
      vec2 tmpvar_1597;
      tmpvar_1597.x = dot ((n_1567 + tmpvar_1596), vec2(127.1, 311.7));
      tmpvar_1597.y = dot ((n_1567 + tmpvar_1596), vec2(269.5, 183.3));
      vec2 tmpvar_1598;
      tmpvar_1598 = ((tmpvar_1596 + (0.5 + 
        (0.5 * sin((iTime + (6.2831 * 
          fract((sin(tmpvar_1597) * 43758.55))
        ))))
      )) - f_1566);
      float tmpvar_1599;
      tmpvar_1599 = dot ((mr_1564 - tmpvar_1598), (mr_1564 - tmpvar_1598));
      if ((tmpvar_1599 > 1e-05)) {
        md_1563 = min (md_1563, dot ((0.5 * 
          (mr_1564 + tmpvar_1598)
        ), normalize(
          (tmpvar_1598 - mr_1564)
        )));
      };
      vec2 tmpvar_1600;
      tmpvar_1600.x = 2.0;
      tmpvar_1600.y = float(j_1561);
      vec2 tmpvar_1601;
      tmpvar_1601 = (mg_1565 + tmpvar_1600);
      vec2 tmpvar_1602;
      tmpvar_1602.x = dot ((n_1567 + tmpvar_1601), vec2(127.1, 311.7));
      tmpvar_1602.y = dot ((n_1567 + tmpvar_1601), vec2(269.5, 183.3));
      vec2 tmpvar_1603;
      tmpvar_1603 = ((tmpvar_1601 + (0.5 + 
        (0.5 * sin((iTime + (6.2831 * 
          fract((sin(tmpvar_1602) * 43758.55))
        ))))
      )) - f_1566);
      float tmpvar_1604;
      tmpvar_1604 = dot ((mr_1564 - tmpvar_1603), (mr_1564 - tmpvar_1603));
      if ((tmpvar_1604 > 1e-05)) {
        md_1563 = min (md_1563, dot ((0.5 * 
          (mr_1564 + tmpvar_1603)
        ), normalize(
          (tmpvar_1603 - mr_1564)
        )));
      };
    };
    t_1536 = time;
    vec2 tmpvar_1605;
    tmpvar_1605.x = (0.67 * pos_1522.x);
    tmpvar_1605.y = (pos_1522.y - 0.05);
    float tmpvar_1606;
    tmpvar_1606 = (sqrt(dot (tmpvar_1605, tmpvar_1605)) * 1.9);
    val_1535 = (tmpvar_1558 + ((2.0 * md_1563) * (0.5 + 
      (0.5 * sin((64.0 * md_1563)))
    )));
    float tmpvar_1607;
    tmpvar_1607 = (0.02 / (0.015 + abs(
      (tmpvar_1606 - 1.0)
    )));
    float tmpvar_1608;
    if (shua) {
      tmpvar_1608 = 1.0;
    } else {
      tmpvar_1608 = 0.0;
    };
    float tmpvar_1609;
    if (shua) {
      tmpvar_1609 = 1.0;
    } else {
      tmpvar_1609 = 0.0;
    };
    float tmpvar_1610;
    if (shua) {
      tmpvar_1610 = 1.0;
    } else {
      tmpvar_1610 = 0.0;
    };
    vec4 tmpvar_1611;
    tmpvar_1611.w = 1.0;
    tmpvar_1611.x = ((0.3 + (2.0 * tmpvar_1608)) + (3.35 * exbff_8.x));
    tmpvar_1611.y = ((0.7 - (0.5 * exbff_8.y)) - (0.3 * tmpvar_1609));
    tmpvar_1611.z = ((1.0 - (0.8 * tmpvar_1610)) - (0.9 * exbff_8.z));
    float tmpvar_1612;
    tmpvar_1612 = clamp (((tmpvar_1606 - 1.0) / -0.15), 0.0, 1.0);
    float tmpvar_1613;
    tmpvar_1613 = clamp (((tmpvar_1606 - 1.0) / -0.15), 0.0, 1.0);
    vec4 tmpvar_1614;
    tmpvar_1614.xyw = vec3(0.0, 0.0, 1.0);
    tmpvar_1614.z = (((0.8 * txeb_6.x) * (1.0 - 
      (min (1.0, float((1.0 >= tmpvar_1606))) * val_1535)
    )) * (1.0 - min (1.0, 
      (tmpvar_1613 * (tmpvar_1613 * (3.0 - (2.0 * tmpvar_1613))))
    )));
    vec4 tmpvar_1615;
    tmpvar_1615 = ((tmpvar_1611 - (
      ((0.8 * txeb_6) * (1.0 - (min (1.0, 
        float((1.0 >= tmpvar_1606))
      ) * val_1535)))
     * 
      (1.0 - min (1.0, (tmpvar_1612 * (tmpvar_1612 * 
        (3.0 - (2.0 * tmpvar_1612))
      ))))
    )) + tmpvar_1614);
    float tmpvar_1616;
    if (shua) {
      tmpvar_1616 = 1.0;
    } else {
      tmpvar_1616 = 0.0;
    };
    float tmpvar_1617;
    if (shua) {
      tmpvar_1617 = 1.0;
    } else {
      tmpvar_1617 = 0.0;
    };
    float tmpvar_1618;
    if (shua) {
      tmpvar_1618 = 1.0;
    } else {
      tmpvar_1618 = 0.0;
    };
    vec4 tmpvar_1619;
    tmpvar_1619.w = 1.0;
    tmpvar_1619.x = ((0.3 - (0.535 * exbff_8.x)) + (0.5 * tmpvar_1616));
    tmpvar_1619.y = ((0.7 - (1.875 * exbff_8.y)) - (0.3 * tmpvar_1617));
    tmpvar_1619.z = ((1.0 - (2.25 * exbff_8.z)) - (0.8 * tmpvar_1618));
    float tmpvar_1620;
    tmpvar_1620 = clamp (((tmpvar_1606 - 1.1) / -0.1), 0.0, 1.0);
    vec4 tmpvar_1621;
    tmpvar_1621 = (tmpvar_1619 + ((txeb_6 * 
      (1.0 - (min (1.0, float(
        (1.0 >= tmpvar_1606)
      )) * val_1535))
    ) * (1.0 - 
      min (1.0, (tmpvar_1620 * (tmpvar_1620 * (3.0 - 
        (2.0 * tmpvar_1620)
      ))))
    )));
    mat2 tmpvar_1622;
    float tmpvar_1623;
    tmpvar_1623 = cos(angle);
    tmpvar_1622[0].x = tmpvar_1623;
    float tmpvar_1624;
    tmpvar_1624 = sin(angle);
    tmpvar_1622[0].y = -(tmpvar_1624);
    tmpvar_1622[1].x = tmpvar_1624;
    tmpvar_1622[1].y = tmpvar_1623;
    float tmpvar_1625;
    tmpvar_1625 = (radius / 2.0);
    uv_1534 = (((poss_1520 / tmpvar_1625) - 1.0) * tmpvar_1622);
    uv_1534.x = abs(uv_1534.x);
    cc_1533.w = 1.0;
    d_1532 = (sqrt(dot (uv_1534, uv_1534)) - time);
    cc_1533.x = (abs((float(mod (
      (uv_1534.y - ((uv_1534.x * 2.0) * d_1532))
    , 
      (uv_1534.x * 1.1)
    )))) / 2.5);
    cc_1533.y = (abs((float(mod (
      (uv_1534.y - ((uv_1534.x * 2.0) * d_1532))
    , 
      (uv_1534.x * 1.1)
    )))) / 2.5);
    cc_1533.z = (abs((float(mod (
      (uv_1534.y - ((uv_1534.x * 2.0) * d_1532))
    , 
      (uv_1534.x * 1.1)
    )))) * 2.0);
    uv_1534 = ((poss_1520 / tmpvar_1625) - 1.0);
    mat2 tmpvar_1626;
    tmpvar_1626[0].x = tmpvar_1623;
    tmpvar_1626[0].y = -(tmpvar_1624);
    tmpvar_1626[1].x = tmpvar_1624;
    tmpvar_1626[1].y = tmpvar_1623;
    mat2 tmpvar_1627;
    tmpvar_1627[0].x = 6.5128e-06;
    tmpvar_1627[0].y = 1.0;
    tmpvar_1627[1].x = -1.0;
    tmpvar_1627[1].y = 6.5128e-06;
    uv_1534 = (uv_1534 * (tmpvar_1626 * tmpvar_1627));
    vec2 tmpvar_1628;
    tmpvar_1628 = (15.0 * uv_1534);
    p_1530 = tmpvar_1628;
    t_1536 = (time * 10.0);
    color_1529.xy = vec2(0.0, 0.0);
    float tmpvar_1629;
    tmpvar_1629 = sqrt(dot (tmpvar_1628, tmpvar_1628));
    vec2 tmpvar_1630;
    tmpvar_1630 = (tmpvar_1628 * 10.0);
    vec2 tmpvar_1631;
    tmpvar_1631 = (0.2 * tmpvar_1630);
    float tmpvar_1632;
    tmpvar_1632 = (1.0/(cos(tmpvar_1628.y)));
    color_1529.z = clamp (1.0, 0.0, ((5.0 * 
      sin(((tmpvar_1630.x * tmpvar_1632) + t_1536))
    ) - 2.0));
    color_1529.z = (color_1529.z + clamp (1.0, 0.0, (
      (3.0 * sin(((
        (0.9 * tmpvar_1630.x)
       * tmpvar_1632) + (t_1536 * 0.6))))
     - 2.5)));
    vec2 x_1633;
    x_1633 = ((tmpvar_1628 * sin(tmpvar_1631.x)) * sin((
      (0.4 * t_1536)
     - tmpvar_1631.y)));
    color_1529 = (color_1529 * ((6.0 * 
      (clamp (1.0, 0.0, (ceil(
        (1.0 - clamp (1.0, 0.0, tmpvar_1629))
      ) * sqrt(
        dot (x_1633, x_1633)
      ))) + (-1.4 + (sin(
        (tmpvar_1628.y + (t_1536 * 0.2))
      ) * 2.0)))
    ) * (1.0 - tmpvar_1629)));
    vec3 tmpvar_1634;
    tmpvar_1634.x = (color_1529.z * 0.6);
    tmpvar_1634.y = (color_1529.z * 0.7);
    tmpvar_1634.z = (color_1529.z * 3.0);
    color_1529 = (tmpvar_1634 * (1.0 - clamp (1.0, 0.0, 
      sqrt(dot (tmpvar_1628, tmpvar_1628))
    )));
    color_1529 = ((color_1529 + sqrt(
      dot (tmpvar_1628, tmpvar_1628)
    )) * color_1529.x);
    vec3 tmpvar_1635;
    tmpvar_1635 = clamp (vec3(1.0, 1.0, 1.0), vec3(0.0, 0.0, 0.0), color_1529);
    color_1529 = tmpvar_1635;
    vec4 tmpvar_1636;
    tmpvar_1636.w = 1.0;
    tmpvar_1636.xyz = tmpvar_1635;
    tmpc_1531 = (cc_1533 + tmpvar_1636);
    mat2 tmpvar_1637;
    tmpvar_1637[0].x = tmpvar_1623;
    tmpvar_1637[0].y = -(tmpvar_1624);
    tmpvar_1637[1].x = tmpvar_1624;
    tmpvar_1637[1].y = tmpvar_1623;
    position_1528 = (((poss_1520 / tmpvar_1625) - 1.0) * tmpvar_1637);
    position_1528.y = (position_1528.y - 0.55);
    position_1528 = (position_1528 - (position_1528 * 0.5));
    vec3 tmpvar_1638;
    tmpvar_1638.y = 0.05;
    float tmpvar_1639;
    tmpvar_1639 = (animlamp - 1.5);
    tmpvar_1638.x = (tmpvar_1639 / 4.5);
    tmpvar_1638.z = (0.05 + (0.35 * (1.0 - 
      (tmpvar_1639 / 4.5)
    )));
    float tmpvar_1640;
    tmpvar_1640 = (animlamp / 2.0);
    b_1527 = (cos((
      ((12.56632 * animlamp) * position_1528.x)
     - 
      (tmpvar_1640 * animlcounter)
    )) / 8.0);
    b_1527 = (b_1527 + (cos(
      (((50.26527 * animlamp) * position_1528.x) - (tmpvar_1640 * animlcounter))
    ) / 32.0));
    b_1527 = ((0.15 + (0.2 * b_1527)) * (0.1 / abs(
      (position_1528.y - (0.045 * b_1527))
    )));
    result_1526 = (max ((b_1527 * tmpvar_1638), 0.4) - 0.4);
    cl_1525 = vec4(0.0, 0.0, 0.0, 1.0);
    ttpos_1524 = vec2(0.0, 0.0);
    if ((lpower < 20.0)) {
      vec2 q_1641;
      float tmpvar_1642;
      tmpvar_1642 = (radius / 2.0);
      vec2 tmpvar_1643;
      tmpvar_1643 = (poss_1520 - vec2(tmpvar_1642));
      ttpos_1524.x = tmpvar_1643.x;
      vec2 tmpvar_1644;
      tmpvar_1644 = ((poss_1520 - (250.0 * zoom)) / radius);
      vec2 tmpvar_1645;
      tmpvar_1645 = ((lhitpos * zoom) / radius);
      float tmpvar_1646;
      tmpvar_1646 = (radius / 500.0);
      ttpos_1524.y = (tmpvar_1643.y - (20.0 * (tmpvar_1646 / zoom)));
      mat2 tmpvar_1647;
      float tmpvar_1648;
      tmpvar_1648 = cos(angle);
      tmpvar_1647[0].x = tmpvar_1648;
      float tmpvar_1649;
      tmpvar_1649 = sin(angle);
      tmpvar_1647[0].y = -(tmpvar_1649);
      tmpvar_1647[1].x = tmpvar_1649;
      tmpvar_1647[1].y = tmpvar_1648;
      ttpos_1524 = (ttpos_1524 * (tmpvar_1647 * 2.0));
      mat2 tmpvar_1650;
      tmpvar_1650[0].x = tmpvar_1648;
      tmpvar_1650[0].y = -(tmpvar_1649);
      tmpvar_1650[1].x = tmpvar_1649;
      tmpvar_1650[1].y = tmpvar_1648;
      q_1641 = (((poss_1520 - vec2(tmpvar_1642)) / (50.0 * tmpvar_1646)) * tmpvar_1650);
      q_1641.y = (q_1641.y - 2.75);
      q_1641.y = (q_1641.y / (tmpvar_1646 / zoom));
      q_1641.x = abs(q_1641.x);
      p_1530 = (15.0 * q_1641);
      vec3 tmpvar_1651;
      tmpvar_1651.x = (0.1 * max (0.0, p_1530.y));
      tmpvar_1651.y = ((float(
        (ttpos_1524.y >= 0.0)
      ) * 0.05) * max (0.0, p_1530.x));
      tmpvar_1651.z = ((float(
        (ttpos_1524.y >= 0.0)
      ) * 0.5) * max (0.0, p_1530.x));
      vec2 x_1652;
      x_1652 = (q_1641 * (q_1641.x * 15.1));
      vec4 tmpvar_1653;
      tmpvar_1653.w = 1.0;
      tmpvar_1653.xyz = (tmpvar_1651 / abs((
        (((8.0 * p_1530.x) * sqrt(dot (q_1641, q_1641))) + cos(((
          -(time)
         * 15.0) + p_1530.y)))
       * 
        sqrt(dot (x_1652, x_1652))
      )));
      float tmpvar_1654;
      tmpvar_1654 = sqrt(dot (tmpvar_1645, tmpvar_1645));
      float tmpvar_1655;
      if (wwh) {
        tmpvar_1655 = 0.0;
      } else {
        tmpvar_1655 = 1.0;
      };
      float tmpvar_1656;
      tmpvar_1656 = sqrt(dot (tmpvar_1645, tmpvar_1645));
      float tmpvar_1657;
      if (wwh) {
        tmpvar_1657 = 0.0;
      } else {
        tmpvar_1657 = 1.0;
      };
      float tmpvar_1658;
      float tmpvar_1659;
      tmpvar_1659 = clamp ((sqrt(
        dot (tmpvar_1645, tmpvar_1645)
      ) / 5.0), 0.0, 1.0);
      tmpvar_1658 = (tmpvar_1659 * (tmpvar_1659 * (3.0 - 
        (2.0 * tmpvar_1659)
      )));
      float tmpvar_1660;
      if (wwh) {
        tmpvar_1660 = 0.0;
      } else {
        tmpvar_1660 = 1.0;
      };
      float edge0_1661;
      edge0_1661 = ((tmpvar_1654 + 0.05) + (0.2 * tmpvar_1655));
      float tmpvar_1662;
      tmpvar_1662 = clamp (((
        sqrt(dot (tmpvar_1644, tmpvar_1644))
       - edge0_1661) / (
        ((tmpvar_1656 + (0.15 * tmpvar_1657)) - ((2.55 * tmpvar_1658) * tmpvar_1660))
       - edge0_1661)), 0.0, 1.0);
      cl_1525 = ((tmpvar_1653 * (1.0 - tmpvar_1635.x)) * (tmpvar_1662 * (tmpvar_1662 * 
        (3.0 - (2.0 * tmpvar_1662))
      )));
    };
    ancl_1523 = vec4(0.0, 0.0, 0.0, 0.0);
    if ((bulletanimtimer > 0.0)) {
      vec3 V_1663;
      uv_1534 = ((poss_1520 / (radius / 2.0)) - 1.0);
      mat2 tmpvar_1664;
      float tmpvar_1665;
      tmpvar_1665 = cos(angle);
      tmpvar_1664[0].x = tmpvar_1665;
      float tmpvar_1666;
      tmpvar_1666 = sin(angle);
      tmpvar_1664[0].y = -(tmpvar_1666);
      tmpvar_1664[1].x = tmpvar_1666;
      tmpvar_1664[1].y = tmpvar_1665;
      uv_1534 = (uv_1534 * tmpvar_1664);
      uv_1534 = (uv_1534 - vec2(0.0, 0.55));
      uv_1534 = (uv_1534 - (uv_1534 * 0.5));
      uv_1534.y = (uv_1534.y * 20.5);
      uv_1534.x = (uv_1534.x * 5.5);
      uv_1534 = (uv_1534 + (sin(
        (((uv_1534.x * 10.0) * (uv_1534.y * 1.11)) + (time * 2.0))
      ) * 0.15));
      vec3 tmpvar_1667;
      tmpvar_1667.yz = vec2(1.0, 2.0);
      tmpvar_1667.x = ((uv_1534.x * 0.1) + (bulletanimtimer * 0.725));
      V_1663.z = (2.0 * clamp ((
        abs(((vec3(mod ((
          (tmpvar_1667.x * 6.0)
         + vec3(0.0, 0.0, 2.0)), 6.0))) - 2.0))
       - 1.0), 0.0, 0.5)).z;
      V_1663 = (V_1663 * clamp ((
        (0.7 - abs(uv_1534.y))
       * 3.0), 0.0, 1.0));
      V_1663 = (V_1663 * (1.0 - (
        sin(((uv_1534.y * uv_1534.y) * 30.0))
       * 0.26)));
      vec4 tmpvar_1668;
      tmpvar_1668.w = 1.0;
      tmpvar_1668.xyz = V_1663;
      ancl_1523 = tmpvar_1668;
    };
    vec2 tmpvar_1669;
    tmpvar_1669.x = (0.67 * pos_1522.x);
    tmpvar_1669.y = (pos_1522.y + 0.05);
    float tmpvar_1670;
    tmpvar_1670 = (sqrt(dot (tmpvar_1669, tmpvar_1669)) * 1.9);
    vec4 tmpvar_1671;
    tmpvar_1671.w = 1.0;
    tmpvar_1671.xyz = result_1526;
    vec4 tmpvar_1672;
    tmpvar_1672.w = 1.0;
    tmpvar_1672.xyz = result_1526;
    float tmpvar_1673;
    tmpvar_1673 = clamp (((tmpvar_1606 - 1.4) / -0.3), 0.0, 1.0);
    tmpvar_1521 = (((
      ((mix ((
        ((min (1.0, (
          float((1.0 >= tmpvar_1606))
         * val_1535)) * tmpvar_1615) + (tmpvar_1672 * float((1.0 >= tmpvar_1670))))
       + 
        (ancl_1523 * float((1.0 >= tmpvar_1670)))
      ), (
        (tmpc_1531 + (tmpvar_1671 * 0.3))
       * tmpvar_1558), val_1535) + (tmpvar_1607 * tmpvar_1621)) + (((
        (cl_1525 * ttpos_1524.y)
       / lpower) * (20.0 - lpower)) / lpower))
     + 
      (((1.0 - (
        min (1.0, float((1.0 >= tmpvar_1606)))
       * val_1535)) * min (1.0, float(
        (1.0 >= tmpvar_1606)
      ))) * mcol_10)
    ) + (
      (1.0 - min (1.0, float((1.0 >= tmpvar_1606))))
     * tmpvar_1519)) + ((
      (0.3 * txeb_6)
     * 
      (1.0 - (min (1.0, float(
        (1.0 >= tmpvar_1606)
      )) * val_1535))
    ) * (1.0 - 
      min (1.0, (tmpvar_1673 * (tmpvar_1673 * (3.0 - 
        (2.0 * tmpvar_1673)
      ))))
    )));
  } else {
    pos_1522 = (((pos_1522 * 2.0) - vec2(radius)) / radius);
    mat2 tmpvar_1674;
    float tmpvar_1675;
    tmpvar_1675 = cos(angle);
    tmpvar_1674[0].x = tmpvar_1675;
    float tmpvar_1676;
    tmpvar_1676 = sin(angle);
    tmpvar_1674[0].y = -(tmpvar_1676);
    tmpvar_1674[1].x = tmpvar_1676;
    tmpvar_1674[1].y = tmpvar_1675;
    pos_1522 = (pos_1522 * tmpvar_1674);
    pos_1522.x = abs(pos_1522.x);
    mat2 tmpvar_1677;
    tmpvar_1677[0].x = 0.4084875;
    tmpvar_1677[0].y = -0.912764;
    tmpvar_1677[1].x = 0.912764;
    tmpvar_1677[1].y = 0.4084875;
    pos_1522 = (pos_1522 * tmpvar_1677);
    vec2 tmpvar_1678;
    tmpvar_1678.x = (0.67 * pos_1522.x);
    tmpvar_1678.y = (pos_1522.y - 0.05);
    float tmpvar_1679;
    tmpvar_1679 = (0.02 / (0.015 + abs(
      ((sqrt(dot (tmpvar_1678, tmpvar_1678)) * 1.9) - 1.0)
    )));
    float tmpvar_1680;
    if (shua) {
      tmpvar_1680 = 1.0;
    } else {
      tmpvar_1680 = 0.0;
    };
    float tmpvar_1681;
    if (shua) {
      tmpvar_1681 = 1.0;
    } else {
      tmpvar_1681 = 0.0;
    };
    float tmpvar_1682;
    if (shua) {
      tmpvar_1682 = 1.0;
    } else {
      tmpvar_1682 = 0.0;
    };
    vec4 tmpvar_1683;
    tmpvar_1683.w = 1.0;
    tmpvar_1683.x = ((0.3 - (0.535 * exbff_8.x)) + (0.5 * tmpvar_1680));
    tmpvar_1683.y = ((0.7 - (1.875 * exbff_8.y)) - (0.3 * tmpvar_1681));
    tmpvar_1683.z = ((1.0 - (2.25 * exbff_8.z)) - (0.8 * tmpvar_1682));
    vec4 tmpvar_1684;
    tmpvar_1684 = (tmpvar_1683 + txeb_6);
    if ((lpower < 20.0)) {
      vec2 ttpos_1685;
      vec2 q_1686;
      float tmpvar_1687;
      tmpvar_1687 = (radius / 2.0);
      vec2 tmpvar_1688;
      tmpvar_1688 = (poss_1520 - vec2(tmpvar_1687));
      ttpos_1685.x = tmpvar_1688.x;
      vec2 tmpvar_1689;
      tmpvar_1689 = ((poss_1520 - (250.0 * zoom)) / radius);
      vec2 tmpvar_1690;
      tmpvar_1690 = ((lhitpos * zoom) / radius);
      float tmpvar_1691;
      tmpvar_1691 = (radius / 500.0);
      ttpos_1685.y = (tmpvar_1688.y - (20.0 * (tmpvar_1691 / zoom)));
      mat2 tmpvar_1692;
      float tmpvar_1693;
      tmpvar_1693 = cos(angle);
      tmpvar_1692[0].x = tmpvar_1693;
      float tmpvar_1694;
      tmpvar_1694 = sin(angle);
      tmpvar_1692[0].y = -(tmpvar_1694);
      tmpvar_1692[1].x = tmpvar_1694;
      tmpvar_1692[1].y = tmpvar_1693;
      ttpos_1685 = (ttpos_1685 * (tmpvar_1692 * 2.0));
      mat2 tmpvar_1695;
      tmpvar_1695[0].x = tmpvar_1693;
      tmpvar_1695[0].y = -(tmpvar_1694);
      tmpvar_1695[1].x = tmpvar_1694;
      tmpvar_1695[1].y = tmpvar_1693;
      q_1686 = (((poss_1520 - vec2(tmpvar_1687)) / (50.0 * tmpvar_1691)) * tmpvar_1695);
      q_1686.y = (q_1686.y - 2.75);
      q_1686.y = (q_1686.y / (tmpvar_1691 / zoom));
      q_1686.x = abs(q_1686.x);
      vec2 tmpvar_1696;
      tmpvar_1696 = (15.0 * q_1686);
      vec3 tmpvar_1697;
      tmpvar_1697.x = (0.1 * max (0.0, tmpvar_1696.y));
      tmpvar_1697.y = ((float(
        (ttpos_1685.y >= 0.0)
      ) * 0.05) * max (0.0, tmpvar_1696.x));
      tmpvar_1697.z = ((float(
        (ttpos_1685.y >= 0.0)
      ) * 0.5) * max (0.0, tmpvar_1696.x));
      vec2 x_1698;
      x_1698 = (q_1686 * (q_1686.x * 15.1));
      vec4 tmpvar_1699;
      tmpvar_1699.w = 1.0;
      tmpvar_1699.xyz = (tmpvar_1697 / abs((
        (((8.0 * tmpvar_1696.x) * sqrt(dot (q_1686, q_1686))) + cos(((
          -(time)
         * 15.0) + tmpvar_1696.y)))
       * 
        sqrt(dot (x_1698, x_1698))
      )));
      float tmpvar_1700;
      tmpvar_1700 = sqrt(dot (tmpvar_1690, tmpvar_1690));
      float tmpvar_1701;
      if (wwh) {
        tmpvar_1701 = 0.0;
      } else {
        tmpvar_1701 = 1.0;
      };
      float tmpvar_1702;
      tmpvar_1702 = sqrt(dot (tmpvar_1690, tmpvar_1690));
      float tmpvar_1703;
      if (wwh) {
        tmpvar_1703 = 0.0;
      } else {
        tmpvar_1703 = 1.0;
      };
      float tmpvar_1704;
      float tmpvar_1705;
      tmpvar_1705 = clamp ((sqrt(
        dot (tmpvar_1690, tmpvar_1690)
      ) / 5.0), 0.0, 1.0);
      tmpvar_1704 = (tmpvar_1705 * (tmpvar_1705 * (3.0 - 
        (2.0 * tmpvar_1705)
      )));
      float tmpvar_1706;
      if (wwh) {
        tmpvar_1706 = 0.0;
      } else {
        tmpvar_1706 = 1.0;
      };
      float edge0_1707;
      edge0_1707 = ((tmpvar_1700 + 0.05) + (0.2 * tmpvar_1701));
      float tmpvar_1708;
      tmpvar_1708 = clamp (((
        sqrt(dot (tmpvar_1689, tmpvar_1689))
       - edge0_1707) / (
        ((tmpvar_1702 + (0.15 * tmpvar_1703)) - ((2.55 * tmpvar_1704) * tmpvar_1706))
       - edge0_1707)), 0.0, 1.0);
      tmpvar_1521 = (((
        (tmpvar_1679 * tmpvar_1684)
       + tmpvar_1519) + (
        ((((tmpvar_1699 * 
          (tmpvar_1708 * (tmpvar_1708 * (3.0 - (2.0 * tmpvar_1708))))
        ) * ttpos_1685.y) / lpower) * (20.0 - lpower))
       / lpower)) + (0.3 * txeb_6));
    } else {
      tmpvar_1521 = (((tmpvar_1679 * tmpvar_1684) + tmpvar_1519) + (0.3 * txeb_6));
    };
  };
  buff_11 = tmpvar_1521;
  for(int i_4=0;i_4<50;i_4++) {
    if ((i_4 >= 50)) {
      break;
    };
    if ((i_4 >= bulletcounter)) {
      break;
    };
    if (bulletexpl[i_4]) {
      vec2 tmpvar_1709;
      tmpvar_1709.x = bulletposx[i_4];
      tmpvar_1709.y = bulletposy[i_4];
      vec2 pos_1710;
      float tshift_1711;
      tshift_1711 = bullettimer[i_4];
      float period_1712;
      period_1712 = bulletexplctrl[i_4];
      vec4 tmpvar_1713;
      pos_1710 = ((fragCoord_3 - (tmpvar_1709 * zoom)) - shippos);
      if ((((
        (pos_1710.x > 0.0)
       && 
        (pos_1710.x < (35.0 * zoom))
      ) && (pos_1710.y > 0.0)) && (pos_1710.y < (35.0 * zoom)))) {
        vec2 uv_1714;
        uv_1714 = ((pos_1710 / 17.5) / zoom);
        float tmpvar_1715;
        tmpvar_1715 = (tshift_1711 * 3.5);
        float tmpvar_1716;
        tmpvar_1716 = (tmpvar_1715 + 2.8);
        float tmpvar_1717;
        tmpvar_1717 = (4.6 + (tshift_1711 / 0.5));
        float tmpvar_1718;
        tmpvar_1718 = clamp (((period_1712 - 10.0) / 28.0), 0.0, 1.0);
        float tmpvar_1719;
        tmpvar_1719 = clamp (((period_1712 - 10.0) / 28.0), 0.0, 1.0);
        vec3 tmpvar_1720;
        tmpvar_1720.y = 1.0;
        tmpvar_1720.x = (4.0 - (4.0 * (tmpvar_1718 * 
          (tmpvar_1718 * (3.0 - (2.0 * tmpvar_1718)))
        )));
        tmpvar_1720.z = (1.0 + (4.0 * (tmpvar_1719 * 
          (tmpvar_1719 * (3.0 - (2.0 * tmpvar_1719)))
        )));
        vec2 tmpvar_1721;
        tmpvar_1721 = (uv_1714 - 1.0);
        float tmpvar_1722;
        tmpvar_1722 = sqrt(dot (tmpvar_1721, tmpvar_1721));
        float vec_y_1723;
        vec_y_1723 = (tmpvar_1721.x + cos(tmpvar_1717));
        float vec_x_1724;
        vec_x_1724 = (tmpvar_1721.y + sin(tmpvar_1717));
        float tmpvar_1725;
        float tmpvar_1726;
        tmpvar_1726 = (min (abs(
          (vec_y_1723 / vec_x_1724)
        ), 1.0) / max (abs(
          (vec_y_1723 / vec_x_1724)
        ), 1.0));
        float tmpvar_1727;
        tmpvar_1727 = (tmpvar_1726 * tmpvar_1726);
        tmpvar_1727 = (((
          ((((
            ((((-0.01213232 * tmpvar_1727) + 0.05368138) * tmpvar_1727) - 0.1173503)
           * tmpvar_1727) + 0.1938925) * tmpvar_1727) - 0.3326756)
         * tmpvar_1727) + 0.9999793) * tmpvar_1726);
        tmpvar_1727 = (tmpvar_1727 + (float(
          (abs((vec_y_1723 / vec_x_1724)) > 1.0)
        ) * (
          (tmpvar_1727 * -2.0)
         + 1.570796)));
        tmpvar_1725 = (tmpvar_1727 * sign((vec_y_1723 / vec_x_1724)));
        if ((abs(vec_x_1724) > (1e-08 * abs(vec_y_1723)))) {
          if ((vec_x_1724 < 0.0)) {
            if ((vec_y_1723 >= 0.0)) {
              tmpvar_1725 += 3.141593;
            } else {
              tmpvar_1725 = (tmpvar_1725 - 3.141593);
            };
          };
        } else {
          tmpvar_1725 = (sign(vec_y_1723) * 1.570796);
        };
        float edge0_1728;
        edge0_1728 = (0.5 + (0.4 * cos(tmpvar_1717)));
        float tmpvar_1729;
        tmpvar_1729 = clamp (((tmpvar_1722 - edge0_1728) / (1.0 - edge0_1728)), 0.0, 1.0);
        float edge0_1730;
        edge0_1730 = (0.5 + (0.4 * sin(tmpvar_1717)));
        float tmpvar_1731;
        tmpvar_1731 = clamp (((tmpvar_1722 - edge0_1730) / (1.0 - edge0_1730)), 0.0, 1.0);
        vec3 tmpvar_1732;
        tmpvar_1732 = (((tmpvar_1720 * 
          (1.0 - (tmpvar_1729 * (tmpvar_1729 * (3.0 - 
            (2.0 * tmpvar_1729)
          ))))
        ) * sin(
          ((tmpvar_1715 + tmpvar_1722) + (tmpvar_1725 * period_1712))
        )) / sqrt(dot (uv_1714, uv_1714)));
        uv_1714 = (-(zoom) + (pos_1710 / 17.5));
        float tmpvar_1733;
        tmpvar_1733 = clamp (((period_1712 - 36.9) / 0.5999985), 0.0, 1.0);
        uv_1714 = (uv_1714 / (zoom - (zoom * 
          (tmpvar_1733 * (tmpvar_1733 * (3.0 - (2.0 * tmpvar_1733))))
        )));
        vec4 tmpvar_1734;
        tmpvar_1734.w = 1.0;
        tmpvar_1734.xyz = (max (vec3(0.0, 0.0, 0.0), (
          mix (tmpvar_1732, (vec3(1.0, 1.0, 4.0) * (1.0 - (tmpvar_1731 * 
            (tmpvar_1731 * (3.0 - (2.0 * tmpvar_1731)))
          ))), sin(((tmpvar_1716 + tmpvar_1722) + (tmpvar_1725 * period_1712))))
         / 
          sqrt(dot (uv_1714, uv_1714))
        )) * abs((
          float((sqrt(dot (uv_1714, uv_1714)) >= 1.0))
         - 1.0)));
        float tmpvar_1735;
        tmpvar_1735 = clamp (((period_1712 - 38.0) / -2.0), 0.0, 1.0);
        tmpvar_1713 = (tmpvar_1734 * (tmpvar_1735 * (tmpvar_1735 * 
          (3.0 - (2.0 * tmpvar_1735))
        )));
      } else {
        vec4 tmpvar_1736;
        tmpvar_1736.w = 1.0;
        tmpvar_1736.xyz = vec3(0.0, 0.0, 0.0);
        tmpvar_1713 = tmpvar_1736;
      };
      buff_11 = (buff_11 + (tmpvar_1713 * (1.0 - 
        float((6.283159 >= bullettimer[i_4]))
      )));
      vec2 tmpvar_1737;
      tmpvar_1737.x = bulletposx[i_4];
      tmpvar_1737.y = bulletposy[i_4];
      float tshift_1738;
      tshift_1738 = bullettimer[i_4];
      vec4 tmpvar_1739;
      vec2 uv_1740;
      vec2 pos_1741;
      vec2 tmpvar_1742;
      tmpvar_1742 = ((fragCoord_3 - (tmpvar_1737 * zoom)) - shippos);
      pos_1741 = tmpvar_1742;
      uv_1740 = (((tmpvar_1742 / 
        (125.0 * zoom)
      ) * 2.0) - 0.3);
      uv_1740 = (uv_1740 * 0.5);
      float tmpvar_1743;
      tmpvar_1743 = float((sqrt(
        dot (uv_1740, uv_1740)
      ) >= 1.0));
      if (((tmpvar_1743 - 1.0) <= -1.0)) {
        vec4 ret_1744;
        vec2 uxx_1745;
        mat2 tmpvar_1746;
        tmpvar_1746[0].x = cos((iTime - tshift_1738));
        tmpvar_1746[0].y = -(sin((iTime - tshift_1738)));
        tmpvar_1746[1].x = sin((iTime - tshift_1738));
        tmpvar_1746[1].y = cos((iTime - tshift_1738));
        pos_1741 = (tmpvar_1746 * uv_1740);
        uxx_1745.y = (pos_1741.y * 2.0);
        uxx_1745.x = (pos_1741.x * 1.5);
        int i_1747;
        i_1747 = 0;
        for(int i=0;i<5;i++) {
          if ((i_1747 >= 5)) {
            break;
          };
          i_1747++;
        };
        int i_1748;
        i_1748 = 0;
        for(int i=0;i<5;i++) {
          if ((i_1748 >= 5)) {
            break;
          };
          i_1748++;
        };
        int i_1749;
        i_1749 = 0;
        for(int i=0;i<5;i++) {
          if ((i_1749 >= 5)) {
            break;
          };
          i_1749++;
        };
        int i_1750;
        i_1750 = 0;
        for(int i=0;i<5;i++) {
          if ((i_1750 >= 5)) {
            break;
          };
          i_1750++;
        };
        float tmpvar_1751;
        tmpvar_1751 = abs(pos_1741.y);
        vec2 p_1752;
        p_1752 = ((pos_1741 * 50.0) + 220.0);
        float tshift_1753;
        tshift_1753 = tshift_1738;
        int i_1754;
        float wc_1755;
        float w_1756;
        float a_1757;
        p_1752 = (p_1752 * 1.2);
        a_1757 = 0.0;
        w_1756 = 1.0;
        wc_1755 = 0.0;
        i_1754 = 0;
        for(int i=0;i<5;i++) {
          if ((i_1754 >= 5)) {
            break;
          };
          vec3 tmpvar_1758;
          tmpvar_1758.z = 1.0;
          tmpvar_1758.xy = p_1752;
          vec3 f_1759;
          vec3 tmpvar_1760;
          tmpvar_1760 = floor(tmpvar_1758);
          vec3 tmpvar_1761;
          tmpvar_1761 = fract(tmpvar_1758);
          f_1759 = ((tmpvar_1761 * tmpvar_1761) * (3.0 - (2.0 * tmpvar_1761)));
          float tmpvar_1762;
          tmpvar_1762 = ((tmpvar_1760.x + (tmpvar_1760.y * 971.0)) + (883.0 * tmpvar_1760.z));
          vec3 x_1763;
          x_1763 = (tmpvar_1758 + 0.5);
          vec3 f_1764;
          vec3 tmpvar_1765;
          tmpvar_1765 = floor(x_1763);
          vec3 tmpvar_1766;
          tmpvar_1766 = fract(x_1763);
          f_1764 = ((tmpvar_1766 * tmpvar_1766) * (3.0 - (2.0 * tmpvar_1766)));
          float tmpvar_1767;
          tmpvar_1767 = ((tmpvar_1765.x + (tmpvar_1765.y * 157.0)) + (113.0 * tmpvar_1765.z));
          a_1757 = (a_1757 + clamp ((
            (2.0 * abs((0.5 - (
              mix (mix (mix (fract(
                (sin(tmpvar_1762) * 758.5453)
              ), fract(
                (sin((tmpvar_1762 + 1.0)) * 758.5453)
              ), f_1759.x), mix (fract(
                (sin((tmpvar_1762 + 971.0)) * 758.5453)
              ), fract(
                (sin((972.0 + tmpvar_1762)) * 758.5453)
              ), f_1759.x), f_1759.y), mix (mix (fract(
                (sin((tmpvar_1762 + 883.0)) * 758.5453)
              ), fract(
                (sin((884.0 + tmpvar_1762)) * 758.5453)
              ), f_1759.x), mix (fract(
                (sin((tmpvar_1762 + 1854.0)) * 758.5453)
              ), fract(
                (sin((1855.0 + tmpvar_1762)) * 758.5453)
              ), f_1759.x), f_1759.y), f_1759.z)
             * 
              mix (mix (mix (fract(
                (sin(tmpvar_1767) * 758.5453)
              ), fract(
                (sin((tmpvar_1767 + 1.0)) * 758.5453)
              ), f_1764.x), mix (fract(
                (sin((tmpvar_1767 + 157.0)) * 758.5453)
              ), fract(
                (sin((158.0 + tmpvar_1767)) * 758.5453)
              ), f_1764.x), f_1764.y), mix (mix (fract(
                (sin((tmpvar_1767 + 113.0)) * 758.5453)
              ), fract(
                (sin((114.0 + tmpvar_1767)) * 758.5453)
              ), f_1764.x), mix (fract(
                (sin((tmpvar_1767 + 270.0)) * 758.5453)
              ), fract(
                (sin((271.0 + tmpvar_1767)) * 758.5453)
              ), f_1764.x), f_1764.y), f_1764.z)
            ))))
           * w_1756), 0.0, 1.0));
          wc_1755 = (wc_1755 + ((w_1756 * 
            (1.0 - sin((min (iTime, 3.110164) / 1.4)))
          ) + 0.00271));
          w_1756 = (w_1756 * 0.5);
          p_1752 = ((p_1752 * 3.0) / sin(min (tshift_1753, 3.110164)));
          i_1754++;
        };
        float tmpvar_1768;
        tmpvar_1768 = clamp (((
          (((1.0/((1.0 + 
            (20.0 * tmpvar_1751)
          ))) * (a_1757 / wc_1755)) * (1.0 - abs(pos_1741.x)))
         - 0.1) / 0.4), 0.0, 1.0);
        vec2 tmpvar_1769;
        tmpvar_1769.x = iTime;
        tmpvar_1769.y = -(tshift_1738);
        vec2 tmpvar_1770;
        tmpvar_1770.x = -(iTime);
        tmpvar_1770.y = tshift_1738;
        vec3 tmpvar_1771;
        tmpvar_1771.y = 0.8;
        tmpvar_1771.x = (0.9 + (1.5 * fract(
          (cos(dot (tmpvar_1769, vec2(21.9898, 78.233))) * 43758.55)
        )));
        tmpvar_1771.z = (0.8 + (2.0 * fract(
          (cos(dot (tmpvar_1770, vec2(21.9898, 78.233))) * 43758.55)
        )));
        vec3 tmpvar_1772;
        tmpvar_1772 = (vec3(-0.32, -0.21, -0.0) * (1.0 + (
          (tmpvar_1768 * (tmpvar_1768 * (3.0 - (2.0 * tmpvar_1768))))
         - 1.0)));
        float tmpvar_1773;
        tmpvar_1773 = abs(pos_1741.y);
        vec2 p_1774;
        p_1774 = (pos_1741 * 3.0);
        float tshift_1775;
        tshift_1775 = tshift_1738;
        int i_1776;
        float wc_1777;
        float w_1778;
        float a_1779;
        p_1774 = (p_1774 * 1.2);
        a_1779 = 0.0;
        w_1778 = 1.0;
        wc_1777 = 0.0;
        i_1776 = 0;
        for(int i=0;i<5;i++) {
          if ((i_1776 >= 5)) {
            break;
          };
          vec3 tmpvar_1780;
          tmpvar_1780.z = 1.0;
          tmpvar_1780.xy = p_1774;
          vec3 f_1781;
          vec3 tmpvar_1782;
          tmpvar_1782 = floor(tmpvar_1780);
          vec3 tmpvar_1783;
          tmpvar_1783 = fract(tmpvar_1780);
          f_1781 = ((tmpvar_1783 * tmpvar_1783) * (3.0 - (2.0 * tmpvar_1783)));
          float tmpvar_1784;
          tmpvar_1784 = ((tmpvar_1782.x + (tmpvar_1782.y * 971.0)) + (883.0 * tmpvar_1782.z));
          vec3 x_1785;
          x_1785 = (tmpvar_1780 + 0.5);
          vec3 f_1786;
          vec3 tmpvar_1787;
          tmpvar_1787 = floor(x_1785);
          vec3 tmpvar_1788;
          tmpvar_1788 = fract(x_1785);
          f_1786 = ((tmpvar_1788 * tmpvar_1788) * (3.0 - (2.0 * tmpvar_1788)));
          float tmpvar_1789;
          tmpvar_1789 = ((tmpvar_1787.x + (tmpvar_1787.y * 157.0)) + (113.0 * tmpvar_1787.z));
          a_1779 = (a_1779 + clamp ((
            (2.0 * abs((0.5 - (
              mix (mix (mix (fract(
                (sin(tmpvar_1784) * 758.5453)
              ), fract(
                (sin((tmpvar_1784 + 1.0)) * 758.5453)
              ), f_1781.x), mix (fract(
                (sin((tmpvar_1784 + 971.0)) * 758.5453)
              ), fract(
                (sin((972.0 + tmpvar_1784)) * 758.5453)
              ), f_1781.x), f_1781.y), mix (mix (fract(
                (sin((tmpvar_1784 + 883.0)) * 758.5453)
              ), fract(
                (sin((884.0 + tmpvar_1784)) * 758.5453)
              ), f_1781.x), mix (fract(
                (sin((tmpvar_1784 + 1854.0)) * 758.5453)
              ), fract(
                (sin((1855.0 + tmpvar_1784)) * 758.5453)
              ), f_1781.x), f_1781.y), f_1781.z)
             * 
              mix (mix (mix (fract(
                (sin(tmpvar_1789) * 758.5453)
              ), fract(
                (sin((tmpvar_1789 + 1.0)) * 758.5453)
              ), f_1786.x), mix (fract(
                (sin((tmpvar_1789 + 157.0)) * 758.5453)
              ), fract(
                (sin((158.0 + tmpvar_1789)) * 758.5453)
              ), f_1786.x), f_1786.y), mix (mix (fract(
                (sin((tmpvar_1789 + 113.0)) * 758.5453)
              ), fract(
                (sin((114.0 + tmpvar_1789)) * 758.5453)
              ), f_1786.x), mix (fract(
                (sin((tmpvar_1789 + 270.0)) * 758.5453)
              ), fract(
                (sin((271.0 + tmpvar_1789)) * 758.5453)
              ), f_1786.x), f_1786.y), f_1786.z)
            ))))
           * w_1778), 0.0, 1.0));
          wc_1777 = (wc_1777 + ((w_1778 * 
            (1.0 - sin((min (iTime, 3.110164) / 1.4)))
          ) + 0.00271));
          w_1778 = (w_1778 * 0.5);
          p_1774 = ((p_1774 * 3.0) / sin(min (tshift_1775, 3.110164)));
          i_1776++;
        };
        float tmpvar_1790;
        tmpvar_1790 = clamp (((
          sqrt(dot (uxx_1745, uxx_1745))
         - 1.6) / -0.95), 0.0, 1.0);
        vec4 tmpvar_1791;
        tmpvar_1791.w = 1.0;
        tmpvar_1791.xyz = (min (vec3(1.0, 1.0, 1.0), (
          ((tmpvar_1772 * abs(sin(
            (tshift_1738 / 2.0)
          ))) + (((
            (1.6 * tmpvar_1771)
           * 
            (1.0/((1.0 + (30.0 * tmpvar_1773))))
          ) * (a_1779 / wc_1777)) * (1.0 - abs(pos_1741.x))))
         * 
          abs(sin(min (tshift_1738, 3.110164)))
        )) * (tmpvar_1790 * (tmpvar_1790 * 
          (3.0 - (2.0 * tmpvar_1790))
        )));
        ret_1744.w = tmpvar_1791.w;
        float tmpvar_1792;
        tmpvar_1792 = clamp (((tshift_1738 - 3.267243) / -0.439821), 0.0, 1.0);
        ret_1744.y = (tmpvar_1791.y * (tmpvar_1792 * (tmpvar_1792 * 
          (3.0 - (2.0 * tmpvar_1792))
        )));
        float tmpvar_1793;
        tmpvar_1793 = clamp (((tshift_1738 - 3.14158) / -0.314158), 0.0, 1.0);
        ret_1744.x = (tmpvar_1791.x * (tmpvar_1793 * (tmpvar_1793 * 
          (3.0 - (2.0 * tmpvar_1793))
        )));
        float tmpvar_1794;
        tmpvar_1794 = clamp (((tshift_1738 - 3.330074) / -0.5026526), 0.0, 1.0);
        ret_1744.z = (tmpvar_1791.z * (3.0 * (tmpvar_1794 * 
          (tmpvar_1794 * (3.0 - (2.0 * tmpvar_1794)))
        )));
        tmpvar_1739 = ret_1744;
      } else {
        tmpvar_1739 = vec4(0.0, 0.0, 0.0, 0.0);
      };
      buff_11 = (buff_11 + (tmpvar_1739 * float(
        (6.283159 >= bullettimer[i_4])
      )));
    } else {
      vec2 tmpvar_1795;
      tmpvar_1795.x = bulletposx[i_4];
      tmpvar_1795.y = bulletposy[i_4];
      vec2 pos_1796;
      float tshift_1797;
      tshift_1797 = bullettimer[i_4];
      vec4 tmpvar_1798;
      pos_1796 = ((fragCoord_3 - (tmpvar_1795 * zoom)) - shippos);
      if ((((
        (pos_1796.x > 0.0)
       && 
        (pos_1796.x < (35.0 * zoom))
      ) && (pos_1796.y > 0.0)) && (pos_1796.y < (35.0 * zoom)))) {
        vec2 uv_1799;
        uv_1799 = ((pos_1796 / 17.5) / zoom);
        float tmpvar_1800;
        tmpvar_1800 = (tshift_1797 * 3.5);
        float tmpvar_1801;
        tmpvar_1801 = (tmpvar_1800 + 2.8);
        float tmpvar_1802;
        tmpvar_1802 = (4.6 + (tshift_1797 / 0.5));
        float tmpvar_1803;
        tmpvar_1803 = clamp (-0.3214286, 0.0, 1.0);
        vec3 tmpvar_1804;
        tmpvar_1804.y = 1.0;
        tmpvar_1804.x = (4.0 - (4.0 * (tmpvar_1803 * 
          (tmpvar_1803 * (3.0 - (2.0 * tmpvar_1803)))
        )));
        tmpvar_1804.z = (1.0 + (4.0 * (tmpvar_1803 * 
          (tmpvar_1803 * (3.0 - (2.0 * tmpvar_1803)))
        )));
        vec2 tmpvar_1805;
        tmpvar_1805 = (uv_1799 - 1.0);
        float tmpvar_1806;
        tmpvar_1806 = sqrt(dot (tmpvar_1805, tmpvar_1805));
        float vec_y_1807;
        vec_y_1807 = (tmpvar_1805.x + cos(tmpvar_1802));
        float vec_x_1808;
        vec_x_1808 = (tmpvar_1805.y + sin(tmpvar_1802));
        float tmpvar_1809;
        float tmpvar_1810;
        tmpvar_1810 = (min (abs(
          (vec_y_1807 / vec_x_1808)
        ), 1.0) / max (abs(
          (vec_y_1807 / vec_x_1808)
        ), 1.0));
        float tmpvar_1811;
        tmpvar_1811 = (tmpvar_1810 * tmpvar_1810);
        tmpvar_1811 = (((
          ((((
            ((((-0.01213232 * tmpvar_1811) + 0.05368138) * tmpvar_1811) - 0.1173503)
           * tmpvar_1811) + 0.1938925) * tmpvar_1811) - 0.3326756)
         * tmpvar_1811) + 0.9999793) * tmpvar_1810);
        tmpvar_1811 = (tmpvar_1811 + (float(
          (abs((vec_y_1807 / vec_x_1808)) > 1.0)
        ) * (
          (tmpvar_1811 * -2.0)
         + 1.570796)));
        tmpvar_1809 = (tmpvar_1811 * sign((vec_y_1807 / vec_x_1808)));
        if ((abs(vec_x_1808) > (1e-08 * abs(vec_y_1807)))) {
          if ((vec_x_1808 < 0.0)) {
            if ((vec_y_1807 >= 0.0)) {
              tmpvar_1809 += 3.141593;
            } else {
              tmpvar_1809 = (tmpvar_1809 - 3.141593);
            };
          };
        } else {
          tmpvar_1809 = (sign(vec_y_1807) * 1.570796);
        };
        float edge0_1812;
        edge0_1812 = (0.5 + (0.4 * cos(tmpvar_1802)));
        float tmpvar_1813;
        tmpvar_1813 = clamp (((tmpvar_1806 - edge0_1812) / (1.0 - edge0_1812)), 0.0, 1.0);
        float edge0_1814;
        edge0_1814 = (0.5 + (0.4 * sin(tmpvar_1802)));
        float tmpvar_1815;
        tmpvar_1815 = clamp (((tmpvar_1806 - edge0_1814) / (1.0 - edge0_1814)), 0.0, 1.0);
        vec3 tmpvar_1816;
        tmpvar_1816 = (((tmpvar_1804 * 
          (1.0 - (tmpvar_1813 * (tmpvar_1813 * (3.0 - 
            (2.0 * tmpvar_1813)
          ))))
        ) * sin(
          ((tmpvar_1800 + tmpvar_1806) + tmpvar_1809)
        )) / sqrt(dot (uv_1799, uv_1799)));
        uv_1799 = (-(zoom) + (pos_1796 / 17.5));
        float tmpvar_1817;
        tmpvar_1817 = clamp (-59.83349, 0.0, 1.0);
        uv_1799 = (uv_1799 / (zoom - (zoom * 
          (tmpvar_1817 * (tmpvar_1817 * (3.0 - (2.0 * tmpvar_1817))))
        )));
        vec4 tmpvar_1818;
        tmpvar_1818.w = 1.0;
        tmpvar_1818.xyz = (max (vec3(0.0, 0.0, 0.0), (
          mix (tmpvar_1816, (vec3(1.0, 1.0, 4.0) * (1.0 - (tmpvar_1815 * 
            (tmpvar_1815 * (3.0 - (2.0 * tmpvar_1815)))
          ))), sin(((tmpvar_1801 + tmpvar_1806) + tmpvar_1809)))
         / 
          sqrt(dot (uv_1799, uv_1799))
        )) * abs((
          float((sqrt(dot (uv_1799, uv_1799)) >= 1.0))
         - 1.0)));
        float tmpvar_1819;
        tmpvar_1819 = clamp (18.5, 0.0, 1.0);
        tmpvar_1798 = (tmpvar_1818 * (tmpvar_1819 * (tmpvar_1819 * 
          (3.0 - (2.0 * tmpvar_1819))
        )));
      } else {
        vec4 tmpvar_1820;
        tmpvar_1820.w = 1.0;
        tmpvar_1820.xyz = vec3(0.0, 0.0, 0.0);
        tmpvar_1798 = tmpvar_1820;
      };
      buff_11 = (buff_11 + tmpvar_1798);
    };
  };
  color_1.xyz = buff_11.xyz;
  color_1.w = 1.0;
  gl_FragColor = color_1;
}

    </script>

</head>

<body style="background: #202020; padding: 32px;" oncontextmenu="return false;" >
    <canvas id="gl" width="800" height="600" style='position:absolute; left:0px; top:0px;'></canvas>
    <div id="control" class="topleft1">control: WASD - move, mouse scroll or 1/2 - zoom in/out, SPACE to jump from planets, R reset zoom, P pause, Left/Right mouse shoot. <a href="https://twitter.com/AruGL" target="_blank" style="color: yellow;">twitter.com/AruGL</a></div>
    <div id="status" class="topleft2">Status: compiling shader...</div>
    <script src="deque.js"></script>
    <script src="c_sgame.js"></script>
    <script type="text/javascript">
        "use strict";

        var mousePos = {};
        var lbm = false;
        var rbm = false;
        var gscrolldown=0;
        var gscrollup=0;

        function mouseClick(e) {
            if (e.button === left) {
                rbm = false;
                lbm = true;
            } else if (e.button === right) {
                lbm = false;
                rbm = true;
            }

        }
        var keys = {
            keyCode: 0
        };

        function check(e) {
            keys = e;
        }

        function checkup(e) {
            if (keys.keyCode == e.keyCode)
                keys = {
                    keyCode: -1
                };
            //keys=e;
        }

        function getMousePos(canvas, evt) {
            var rect = canvas.getBoundingClientRect();
            return {
                x: evt.clientX - rect.left,
                y: evt.clientY - rect.top
            };
        }
        function mouse_wheel(event)
        {
          var delta = 0;

          if (!event) event = window.event;

          if (event.wheelDelta) {
            delta = event.wheelDelta / 60;
          } else if (event.detail) {
            delta = -event.detail / 2;
          }
          if(delta>0){
            gscrolldown=0;
            gscrollup=delta;
          }
          else{
            gscrollup=0;
            gscrolldown=Math.abs(delta);
          }
        }

        function c_init() {
            initglslvals(0);

        }

        function c_worker(timexx) {

            mouse_press_handler(lbm, rbm);
            mouse_move_handler(mousePos, gl);
            keyboard_up_handler(keys, timexx);
            display(timexx, gl);
            if (keys.keyCode == 'P'.charCodeAt(0))
                keys = {
                    keyCode: -1
                };
            if (keys.keyCode == 'R'.charCodeAt(0))
                keys = {
                    keyCode: -1
                };

            //keys=NaN;

        }


        var canvas = document.getElementById('gl');
        var gl = null;
        var iTime = 0.0;
        var iTime_delta = 1.0 / 60.0;
        var iFrame = -1;
        var Shader = null;
        var once_clean_text = true;

        function windowResize() {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);
        }

        function InitializeShader(gl, source_vs, source_frag, fv, ff) {
            var ErrorMessage = "Initializing Shader Program... ";
            var shader_vs = gl.createShader(gl.VERTEX_SHADER);
            var shader_frag = gl.createShader(gl.FRAGMENT_SHADER);
            gl.shaderSource(shader_vs, source_vs);
            gl.shaderSource(shader_frag, source_frag);
            gl.compileShader(shader_vs);
            gl.compileShader(shader_frag);
            var error = false;
            var program = gl.createProgram();
            var ret = gl.getProgramInfoLog(program);
            if (ret != "")
                ErrorMessage += ret;
            gl.attachShader(program, shader_vs);
            gl.attachShader(program, shader_frag);
            gl.linkProgram(program);
            if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {
                ErrorMessage += '\nLink failed: ' + gl.getProgramInfoLog(program);
                ErrorMessage += '\nvs info-log: ' + gl.getShaderInfoLog(shader_vs);
                ErrorMessage += '\nfs info-log: ' + gl.getShaderInfoLog(shader_frag);
                error = true;
            }
            if (error) {
                console.log('\n' + ErrorMessage + '\n...failed to initialize shader.\n');
                return false;
            } else {
                console.log('\n' + ErrorMessage + '\n...shader successfully created.\n');
                return program;
            }
        }

        function getKeys(obj) {
            let keysArr = [];
            for (var key in obj) {
              keysArr.push(key);
            }
            return keysArr;
        }

        function update_uniform() {
            var ka=getKeys(uniforms);
            if(ka.length<1)return;
            for(var i=0;i<ka.length;i++){
              var val=uniforms[ka[i]];
              if (Array.isArray(val)){
                if(val.length<=4){
                  switch(val.length){
                    case 2:
                      gl.uniform2f(gl.getUniformLocation(Shader, ka[i]), val[0],val[1]);
                      break;
                    case 3:
                      gl.uniform3f(gl.getUniformLocation(Shader, ka[i]), val[0],val[1],val[2]);
                      break;
                    case 4:
                      gl.uniform4f(gl.getUniformLocation(Shader, ka[i]), val[0],val[1],val[2],val[3]);
                      break;
                  }
                }else{
                  gl.uniform1fv(gl.getUniformLocation(Shader, ka[i]), val);
                }
              }else{
                if(ka[i]=="bulletcounter"||ka[i]=="en1counter"||ka[i]=="en2counter"){
                  gl.uniform1i(gl.getUniformLocation(Shader, ka[i]), val);
                }else{
                  gl.uniform1f(gl.getUniformLocation(Shader, ka[i]), val);
                }
              }
            }
        }

        function step(T) {
            if ((once_clean_text) && (iTime > 60.0)) {
                once_clean_text = false;
                document.getElementById("status").innerHTML = "";
            }
            iFrame++;
            iTime_delta = T / 1000.0 - iTime;
            iTime = T / 1000.0;
            c_worker(T);
            gl.clearColor(0.0, 0.0, 0.0, 1.0);
            gl.clear(gl.COLOR_BUFFER_BIT);
            gl.useProgram(Shader);
            
            update_uniform();
            
            gl.uniform1f(gl.getUniformLocation(Shader, "u_time"), iFrame / 60.);
            gl.uniform2f(gl.getUniformLocation(Shader, "u_resolution"), gl.canvas.width, gl.canvas.height);
            gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);
            cleanu();
            window.requestAnimationFrame(step);
        }
        
        var mouseIsDown = false;
        var left, right;
        left = false ? 1 : 0;
        right = 2;

        canvas.onmousedown = function(e) {
            mouseIsDown = true;
            mouseClick(e);
        }
        canvas.onmouseup = function(e) {

            mouseIsDown = false;
            lbm = false;
            rbm = false;

        }
        canvas.oncontextmenu = function(e) {
            e.preventDefault();
        };

        document.addEventListener("DOMContentLoaded", function(event) {
            window.addEventListener('resize', windowResize);
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            document.getElementById("status").innerHTML = "Status: initializing WebGL...";
            gl = canvas.getContext("webgl") || canvas.getContext("experimental-webgl") || canvas.getContext("moz-webgl") || canvas.getContext("webkit-3d");
            if (!gl) {
                console.log('webgl not suported');
                document.getElementById("status").innerHTML = "Status: webgl not suported...";
                return;
            } else {
                console.log('continue using webgl');
                document.getElementById("status").innerHTML = "Status: webgl initialized";
            }
            
            const ext = gl.getExtension('KHR_parallel_shader_compile');
            document.getElementById("status").innerHTML = "Status: comliping shader... ";
            var vs = document.getElementById("standard-vs").innerHTML;
            var fs = document.getElementById("standard-frag").innerHTML;
            Shader = InitializeShader(gl, vs, fs);
            if(!Shader){
              document.getElementById("status").innerHTML = "Status: error initializing shader.";
              return;
            }
            document.getElementById("status").innerHTML = "Status: shader compiled, init buffers...";
            var vertices = new Float32Array([-1.0, 1.0, 0.0, -1.0, -1.0, 0.0,
                1.0, -1.0, 0.0,
                1.0, 1.0, 0.0,
            ]);
            var indices = [0, 1, 2, 2, 3, 0];
            var vertexbuffer = gl.createBuffer();
            var indexbuffer = gl.createBuffer();
            gl.bindBuffer(gl.ARRAY_BUFFER, vertexbuffer);
            gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(vertices), gl.STATIC_DRAW);
            gl.bindBuffer(gl.ARRAY_BUFFER, null);
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexbuffer);
            gl.bufferData(gl.ELEMENT_ARRAY_BUFFER, new Uint16Array(indices), gl.STATIC_DRAW);
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);
            gl.bindBuffer(gl.ARRAY_BUFFER, vertexbuffer);
            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, indexbuffer);
            gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);
            var coords = gl.getAttribLocation(Shader, "a_Position");
            gl.vertexAttribPointer(coords, 3, gl.FLOAT, false, 0, 0);
            gl.enableVertexAttribArray(coords);
            gl.useProgram(Shader);
            gl.drawElements(gl.TRIANGLES, 6, gl.UNSIGNED_SHORT, 0);
            if (!gl) {
                document.getElementById("status").innerHTML = "Status: error during buffers initialization.";
                return;
            }
            document.getElementById("status").innerHTML = "Status: game started... init...";


            c_init();
            window.addEventListener('keydown', check, false);
            window.addEventListener('keyup', checkup, false);
            window.addEventListener('mousemove', function(evt) {
                mousePos = getMousePos(canvas, evt);
            }, false);

            document.getElementById("status").innerHTML = "Status: game initialized.";
            document.onmousewheel = mouse_wheel;

            window.requestAnimationFrame(step);
        });
    </script>
</body>

</html>
